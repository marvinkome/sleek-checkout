var SleekPay=function(){"use strict";function t(t,e){return e.forEach((function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach((function(r){if("default"!==r&&!(r in t)){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}))})),Object.freeze(t)}var e,r,n,i,o,s,a,u={},c=[],l=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(t,e){for(var r in e)t[r]=e[r];return t}function f(t){var e=t.parentNode;e&&e.removeChild(t)}function d(t,r,n){var i,o,s,a={};for(s in r)"key"==s?i=r[s]:"ref"==s?o=r[s]:a[s]=r[s];if(arguments.length>2&&(a.children=arguments.length>3?e.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(s in t.defaultProps)void 0===a[s]&&(a[s]=t.defaultProps[s]);return p(t,a,i,o,null)}function p(t,e,i,o,s){var a={type:t,props:e,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==s?++n:s};return null==s&&null!=r.vnode&&r.vnode(a),a}function m(t){return t.children}function g(t,e){this.props=t,this.context=e}function y(t,e){if(null==e)return t.__?y(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e)return r.__e;return"function"==typeof t.type?y(t):null}function v(t){var e,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return v(t)}}function _(t){(!t.__d&&(t.__d=!0)&&i.push(t)&&!b.__r++||s!==r.debounceRendering)&&((s=r.debounceRendering)||o)(b)}function b(){for(var t;b.__r=i.length;)t=i.sort((function(t,e){return t.__v.__b-e.__v.__b})),i=[],t.some((function(t){var e,r,n,i,o,s;t.__d&&(o=(i=(e=t).__v).__e,(s=e.__P)&&(r=[],(n=h({},i)).__v=i.__v+1,T(s,i,n,e.__n,void 0!==s.ownerSVGElement,null!=i.__h?[o]:null,r,null==o?y(i):o,i.__h),O(r,i),i.__e!=o&&v(i)))}))}function w(t,e,r,n,i,o,s,a,l,h){var f,d,g,v,_,b,w,x=n&&n.__k||c,M=x.length;for(r.__k=[],f=0;f<e.length;f++)if(null!=(v=r.__k[f]=null==(v=e[f])||"boolean"==typeof v?null:"string"==typeof v||"number"==typeof v||"bigint"==typeof v?p(null,v,null,null,v):Array.isArray(v)?p(m,{children:v},null,null,null):v.__b>0?p(v.type,v.props,v.key,null,v.__v):v)){if(v.__=r,v.__b=r.__b+1,null===(g=x[f])||g&&v.key==g.key&&v.type===g.type)x[f]=void 0;else for(d=0;d<M;d++){if((g=x[d])&&v.key==g.key&&v.type===g.type){x[d]=void 0;break}g=null}T(t,v,g=g||u,i,o,s,a,l,h),_=v.__e,(d=v.ref)&&g.ref!=d&&(w||(w=[]),g.ref&&w.push(g.ref,null,v),w.push(d,v.__c||_,v)),null!=_?(null==b&&(b=_),"function"==typeof v.type&&v.__k===g.__k?v.__d=l=E(v,l,t):l=S(t,v,g,x,_,l),"function"==typeof r.type&&(r.__d=l)):l&&g.__e==l&&l.parentNode!=t&&(l=y(g))}for(r.__e=b,f=M;f--;)null!=x[f]&&("function"==typeof r.type&&null!=x[f].__e&&x[f].__e==r.__d&&(r.__d=y(n,f+1)),C(x[f],x[f]));if(w)for(f=0;f<w.length;f++)I(w[f],w[++f],w[++f])}function E(t,e,r){for(var n,i=t.__k,o=0;i&&o<i.length;o++)(n=i[o])&&(n.__=t,e="function"==typeof n.type?E(n,e,r):S(r,n,n,i,n.__e,e));return e}function x(t,e){return e=e||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){x(t,e)})):e.push(t)),e}function S(t,e,r,n,i,o){var s,a,u;if(void 0!==e.__d)s=e.__d,e.__d=void 0;else if(null==r||i!=o||null==i.parentNode)t:if(null==o||o.parentNode!==t)t.appendChild(i),s=null;else{for(a=o,u=0;(a=a.nextSibling)&&u<n.length;u+=2)if(a==i)break t;t.insertBefore(i,o),s=o}return void 0!==s?s:i.nextSibling}function M(t,e,r){"-"===e[0]?t.setProperty(e,r):t[e]=null==r?"":"number"!=typeof r||l.test(e)?r:r+"px"}function k(t,e,r,n,i){var o;t:if("style"===e)if("string"==typeof r)t.style.cssText=r;else{if("string"==typeof n&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||M(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||M(t.style,e,r[e])}else if("o"===e[0]&&"n"===e[1])o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n||t.addEventListener(e,o?R:A,o):t.removeEventListener(e,o?R:A,o);else if("dangerouslySetInnerHTML"!==e){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==r?"":r;break t}catch(t){}"function"==typeof r||(null!=r&&(!1!==r||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,r):t.removeAttribute(e))}}function A(t){this.l[t.type+!1](r.event?r.event(t):t)}function R(t){this.l[t.type+!0](r.event?r.event(t):t)}function T(t,n,i,o,s,a,c,l,d){var p,v,_,b,E,x,S,M,A,R,T,O=n.type;if(void 0!==n.constructor)return null;null!=i.__h&&(d=i.__h,l=n.__e=i.__e,n.__h=null,a=[l]),(p=r.__b)&&p(n);try{t:if("function"==typeof O){if(M=n.props,A=(p=O.contextType)&&o[p.__c],R=p?A?A.props.value:p.__:o,i.__c?S=(v=n.__c=i.__c).__=v.__E:("prototype"in O&&O.prototype.render?n.__c=v=new O(M,R):(n.__c=v=new g(M,R),v.constructor=O,v.render=P),A&&A.sub(v),v.props=M,v.state||(v.state={}),v.context=R,v.__n=o,_=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=O.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=h({},v.__s)),h(v.__s,O.getDerivedStateFromProps(M,v.__s))),b=v.props,E=v.state,_)null==O.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==O.getDerivedStateFromProps&&M!==b&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(M,R),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(M,v.__s,R)||n.__v===i.__v){v.props=M,v.state=v.__s,n.__v!==i.__v&&(v.__d=!1),v.__v=n,n.__e=i.__e,n.__k=i.__k,n.__k.forEach((function(t){t&&(t.__=n)})),v.__h.length&&c.push(v);break t}null!=v.componentWillUpdate&&v.componentWillUpdate(M,v.__s,R),null!=v.componentDidUpdate&&v.__h.push((function(){v.componentDidUpdate(b,E,x)}))}v.context=R,v.props=M,v.state=v.__s,(p=r.__r)&&p(n),v.__d=!1,v.__v=n,v.__P=t,p=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(o=h(h({},o),v.getChildContext())),_||null==v.getSnapshotBeforeUpdate||(x=v.getSnapshotBeforeUpdate(b,E)),T=null!=p&&p.type===m&&null==p.key?p.props.children:p,w(t,Array.isArray(T)?T:[T],n,i,o,s,a,c,l,d),v.base=n.__e,n.__h=null,v.__h.length&&c.push(v),S&&(v.__E=v.__=null),v.__e=!1}else null==a&&n.__v===i.__v?(n.__k=i.__k,n.__e=i.__e):n.__e=function(t,r,n,i,o,s,a,c){var l,h,d,p=n.props,m=r.props,g=r.type,v=0;if("svg"===g&&(o=!0),null!=s)for(;v<s.length;v++)if((l=s[v])&&"setAttribute"in l==!!g&&(g?l.localName===g:3===l.nodeType)){t=l,s[v]=null;break}if(null==t){if(null===g)return document.createTextNode(m);t=o?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,m.is&&m),s=null,c=!1}if(null===g)p===m||c&&t.data===m||(t.data=m);else{if(s=s&&e.call(t.childNodes),h=(p=n.props||u).dangerouslySetInnerHTML,d=m.dangerouslySetInnerHTML,!c){if(null!=s)for(p={},v=0;v<t.attributes.length;v++)p[t.attributes[v].name]=t.attributes[v].value;(d||h)&&(d&&(h&&d.__html==h.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(function(t,e,r,n,i){var o;for(o in r)"children"===o||"key"===o||o in e||k(t,o,null,r[o],n);for(o in e)i&&"function"!=typeof e[o]||"children"===o||"key"===o||"value"===o||"checked"===o||r[o]===e[o]||k(t,o,e[o],r[o],n)}(t,m,p,o,c),d)r.__k=[];else if(v=r.props.children,w(t,Array.isArray(v)?v:[v],r,n,i,o&&"foreignObject"!==g,s,a,s?s[0]:n.__k&&y(n,0),c),null!=s)for(v=s.length;v--;)null!=s[v]&&f(s[v]);c||("value"in m&&void 0!==(v=m.value)&&(v!==p.value||v!==t.value||"progress"===g&&!v)&&k(t,"value",v,p.value,!1),"checked"in m&&void 0!==(v=m.checked)&&v!==t.checked&&k(t,"checked",v,p.checked,!1))}return t}(i.__e,n,i,o,s,a,c,d);(p=r.diffed)&&p(n)}catch(t){n.__v=null,(d||null!=a)&&(n.__e=l,n.__h=!!d,a[a.indexOf(l)]=null),r.__e(t,n,i)}}function O(t,e){r.__c&&r.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){r.__e(t,e.__v)}}))}function I(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){r.__e(t,n)}}function C(t,e,n){var i,o;if(r.unmount&&r.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||I(i,null,e)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(t){r.__e(t,e)}i.base=i.__P=null}if(i=t.__k)for(o=0;o<i.length;o++)i[o]&&C(i[o],e,"function"!=typeof t.type);n||null==t.__e||f(t.__e),t.__e=t.__d=void 0}function P(t,e,r){return this.constructor(t,r)}function N(t,n,i){var o,s,a;r.__&&r.__(t,n),s=(o="function"==typeof i)?null:i&&i.__k||n.__k,a=[],T(n,t=(!o&&i||n).__k=d(m,null,[t]),s||u,u,void 0!==n.ownerSVGElement,!o&&i?[i]:s?null:n.firstChild?e.call(n.childNodes):null,a,!o&&i?i:s?s.__e:n.firstChild,o),O(a,t)}function L(t,e){N(t,e,L)}function B(t,r,n){var i,o,s,a=h({},t.props);for(s in r)"key"==s?i=r[s]:"ref"==s?o=r[s]:a[s]=r[s];return arguments.length>2&&(a.children=arguments.length>3?e.call(arguments,2):n),p(t.type,a,i||t.key,o||t.ref,null)}function U(t,e){var r={__c:e="__cC"+a++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var r,n;return this.getChildContext||(r=[],(n={})[e]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&r.some(_)},this.sub=function(t){r.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){r.splice(r.indexOf(t),1),e&&e.call(t)}}),t.children}};return r.Provider.__=r.Consumer.contextType=r}e=c.slice,r={__e:function(t,e){for(var r,n,i;e=e.__;)if((r=e.__c)&&!r.__)try{if((n=r.constructor)&&null!=n.getDerivedStateFromError&&(r.setState(n.getDerivedStateFromError(t)),i=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(t),i=r.__d),i)return r.__E=r}catch(e){t=e}throw t}},n=0,g.prototype.setState=function(t,e){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof t&&(t=t(h({},r),this.props)),t&&h(r,t),null!=t&&this.__v&&(e&&this.__h.push(e),_(this))},g.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),_(this))},g.prototype.render=m,i=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b.__r=0,a=0;let j=!1,D=!1;const F={debug:1,default:2,info:2,warning:3,error:4,off:5};let z=F.default,q=null;const H=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var W,G;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(W||(W={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(G||(G={}));const V="0123456789abcdef";class K{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==F[r]&&this.throwArgumentError("invalid log level name","logLevel",t),z>F[r]||console.log.apply(console,e)}debug(...t){this._log(K.levels.DEBUG,t)}info(...t){this._log(K.levels.INFO,t)}warn(...t){this._log(K.levels.WARNING,t)}makeError(t,e,r){if(D)return this.makeError("censored error",e,{});e||(e=K.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=V[e[t]>>4],r+=V[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;n.length&&(t+=" ("+n.join(", ")+")");const o=new Error(t);return o.reason=i,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,K.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){H&&this.throwError("platform missing String.prototype.normalize",K.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:H})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,K.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,K.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,K.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,K.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",K.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",K.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",K.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return q||(q=new K("logger/5.5.0")),q}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",K.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),j){if(!t)return;this.globalLogger().throwError("error censorship permanent",K.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}D=!!t,j=!!e}static setLogLevel(t){const e=F[t.toLowerCase()];null!=e?z=e:K.globalLogger().warn("invalid log level - "+t)}static from(t){return new K(t)}}K.errors=G,K.levels=W;const $=new K("bytes/5.5.0");function Z(t){return!!t.toHexString}function J(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return J(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Y(t){return nt(t)&&!(t.length%2)||Q(t)}function X(t){return"number"==typeof t&&t==t&&t%1==0}function Q(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!X(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!X(r)||r<0||r>=256)return!1}return!0}function tt(t,e){if(e||(e={}),"number"==typeof t){$.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),J(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Z(t)&&(t=t.toHexString()),nt(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":$.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return J(new Uint8Array(n))}return Q(t)?J(new Uint8Array(t)):$.throwArgumentError("invalid arrayify value","value",t)}function et(t){const e=t.map((t=>tt(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),J(n)}function rt(t){let e=tt(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function nt(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const it="0123456789abcdef";function ot(t,e){if(e||(e={}),"number"==typeof t){$.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=it[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Z(t))return t.toHexString();if(nt(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":$.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Q(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=it[(240&n)>>4]+it[15&n]}return e}return $.throwArgumentError("invalid hexlify value","value",t)}function st(t){if("string"!=typeof t)t=ot(t);else if(!nt(t)||t.length%2)return null;return(t.length-2)/2}function at(t,e,r){return"string"!=typeof t?t=ot(t):(!nt(t)||t.length%2)&&$.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function ut(t){let e="0x";return t.forEach((t=>{e+=ot(t).substring(2)})),e}function ct(t){const e=function(t){"string"!=typeof t&&(t=ot(t));nt(t)||$.throwArgumentError("invalid hex string","value",t);t=t.substring(2);let e=0;for(;e<t.length&&"0"===t[e];)e++;return"0x"+t.substring(e)}(ot(t,{hexPad:"left"}));return"0x"===e?"0x0":e}function lt(t,e){for("string"!=typeof t?t=ot(t):nt(t)||$.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&$.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function ht(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0};if(Y(t)){const r=tt(t);65!==r.length&&$.throwArgumentError("invalid signature string; must be 65 bytes","signature",t),e.r=ot(r.slice(0,32)),e.s=ot(r.slice(32,64)),e.v=r[64],e.v<27&&(0===e.v||1===e.v?e.v+=27:$.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ot(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=tt(t)).length>e&&$.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),J(r)}(tt(e._vs),32);e._vs=ot(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&$.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=ot(r);null==e.s?e.s=i:e.s!==i&&$.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?$.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&$.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&nt(e.r)?e.r=lt(e.r,32):$.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&nt(e.s)?e.s=lt(e.s,32):$.throwArgumentError("signature missing or invalid s","signature",t);const r=tt(e.s);r[0]>=128&&$.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ot(r);e._vs&&(nt(e._vs)||$.throwArgumentError("signature invalid _vs","signature",t),e._vs=lt(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&$.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e}var ft="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function dt(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})})),e}var pt={exports:{}};(function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},i.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,l=r;l<a;l+=n)c=u(t,l,l+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var h=1;for(c=u(t,l,t.length,e),l=0;l<s;l++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&s}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);n=0!=(o=a>>>24-i&16777215)||s!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var f=l[t],d=h[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:c[f-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===e,c=new t(o),l=this.clone();if(u){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),c[o-a-1]=s}return c},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,l=0|s[0],h=8191&l,f=l>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],y=8191&g,v=g>>>13,_=0|s[3],b=8191&_,w=_>>>13,E=0|s[4],x=8191&E,S=E>>>13,M=0|s[5],k=8191&M,A=M>>>13,R=0|s[6],T=8191&R,O=R>>>13,I=0|s[7],C=8191&I,P=I>>>13,N=0|s[8],L=8191&N,B=N>>>13,U=0|s[9],j=8191&U,D=U>>>13,F=0|a[0],z=8191&F,q=F>>>13,H=0|a[1],W=8191&H,G=H>>>13,V=0|a[2],K=8191&V,$=V>>>13,Z=0|a[3],J=8191&Z,Y=Z>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,z))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(f,z)|0))<<13)|0;c=((o=Math.imul(f,q))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,q))+Math.imul(m,z)|0,o=Math.imul(m,q);var yt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(f,W)|0))<<13)|0;c=((o=o+Math.imul(f,G)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,z),i=(i=Math.imul(y,q))+Math.imul(v,z)|0,o=Math.imul(v,q),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,G)|0;var vt=(c+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(f,K)|0))<<13)|0;c=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,q))+Math.imul(w,z)|0,o=Math.imul(w,q),n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,G)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,$)|0;var _t=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Y)|0)+Math.imul(f,J)|0))<<13)|0;c=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(x,z),i=(i=Math.imul(x,q))+Math.imul(S,z)|0,o=Math.imul(S,q),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,G)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,G)|0,n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(v,K)|0,o=o+Math.imul(v,$)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,Y)|0;var bt=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,q))+Math.imul(A,z)|0,o=Math.imul(A,q),n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,G)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,$)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,$)|0,n=n+Math.imul(y,J)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,Y)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var wt=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;c=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(T,z),i=(i=Math.imul(T,q))+Math.imul(O,z)|0,o=Math.imul(O,q),n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(S,K)|0,o=o+Math.imul(S,$)|0,n=n+Math.imul(b,J)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,J)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Et=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(f,ot)|0))<<13)|0;c=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(C,z),i=(i=Math.imul(C,q))+Math.imul(P,z)|0,o=Math.imul(P,q),n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,G)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,$)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(S,J)|0,o=o+Math.imul(S,Y)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var xt=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((o=o+Math.imul(f,ct)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,q))+Math.imul(B,z)|0,o=Math.imul(B,q),n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,G)|0,n=n+Math.imul(T,K)|0,i=(i=i+Math.imul(T,$)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,$)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var St=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;c=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(j,z),i=(i=Math.imul(j,q))+Math.imul(D,z)|0,o=Math.imul(D,q),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,G)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,$)|0)+Math.imul(P,K)|0,o=o+Math.imul(P,$)|0,n=n+Math.imul(T,J)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,Y)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(S,rt)|0,o=o+Math.imul(S,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var Mt=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(j,W),i=(i=Math.imul(j,G))+Math.imul(D,W)|0,o=Math.imul(D,G),n=n+Math.imul(L,K)|0,i=(i=i+Math.imul(L,$)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,$)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,st)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ft)|0;var kt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(j,K),i=(i=Math.imul(j,$))+Math.imul(D,K)|0,o=Math.imul(D,$),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,Y)|0,n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(S,ut)|0,o=o+Math.imul(S,ct)|0,n=n+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,ft)|0;var At=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((o=o+Math.imul(v,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(j,J),i=(i=Math.imul(j,Y))+Math.imul(D,J)|0,o=Math.imul(D,Y),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,ct)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,ft)|0)+Math.imul(S,ht)|0,o=o+Math.imul(S,ft)|0;var Rt=(c+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((o=o+Math.imul(w,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(j,Q),i=(i=Math.imul(j,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(B,rt)|0,o=o+Math.imul(B,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(A,ht)|0,o=o+Math.imul(A,ft)|0;var Tt=(c+(n=n+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;c=((o=o+Math.imul(S,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(j,rt),i=(i=Math.imul(j,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,st)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,st)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,ct)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ft)|0;var Ot=(c+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(A,pt)|0))<<13)|0;c=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(j,ot),i=(i=Math.imul(j,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(B,ut)|0,o=o+Math.imul(B,ct)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,ft)|0;var It=(c+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(j,ut),i=(i=Math.imul(j,ct))+Math.imul(D,ut)|0,o=Math.imul(D,ct),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,ft)|0)+Math.imul(B,ht)|0,o=o+Math.imul(B,ft)|0;var Ct=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(P,pt)|0))<<13)|0;c=((o=o+Math.imul(P,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(j,ht),i=(i=Math.imul(j,ft))+Math.imul(D,ht)|0,o=Math.imul(D,ft);var Pt=(c+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(B,pt)|0))<<13)|0;c=((o=o+Math.imul(B,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Nt=(c+(n=Math.imul(j,pt))|0)+((8191&(i=(i=Math.imul(j,mt))+Math.imul(D,pt)|0))<<13)|0;return c=((o=Math.imul(D,mt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=_t,u[4]=bt,u[5]=wt,u[6]=Et,u[7]=xt,u[8]=St,u[9]=Mt,u[10]=kt,u[11]=At,u[12]=Rt,u[13]=Tt,u[14]=Ot,u[15]=It,u[16]=Ct,u[17]=Pt,u[18]=Nt,0!==c&&(u[19]=c,r.length++),r};function p(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(d=f),i.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?d(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var l=o-c,h=(0|t.words[l])*(0|e.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):p(this,t,e),r},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=i.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,f=c,d=0;d<s;d++){var p=r[l+d],m=n[l+d],g=r[l+d+s],y=n[l+d+s],v=h*g-f*y;y=h*y+f*g,g=v,r[l+d]=p+g,n[l+d]=m+y,r[l+d+s]=p-g,n[l+d+s]=m-y,d!==a&&(v=u*h-c*f,f=u*f+c*h,h=v)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),p(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<n;this.words[e]=u|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,s=0|o.words[o.length-1];0!=(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,u=n.length-o.length;if("mod"!==e){(a=new i(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(o,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[o.length+h])+(0|n.words[o.length+h-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(o,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(o,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),s=new i(0),a=new i(0),u=new i(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(h)),o.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a),s.isub(u)):(n.isub(e),a.isub(o),u.isub(s))}return{a:a,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new i(1),a=new i(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,f=1;0==(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new E(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function x(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(v,y),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(_,y),n(b,y),n(w,y),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new _;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return g[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,o),f=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var y=this.pow(h,new i(1).iushln(p-g-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=g}return f},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var o=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==h||0!==s?(s<<=1,s|=h,(4==++a||0===n&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}u=26}return o},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new x(t)},n(x,E),x.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},x.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},x.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},x.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}})(pt,ft);var mt=pt.exports;const gt="bignumber/5.5.0";var yt=mt.BN;const vt=new K(gt),_t={},bt=9007199254740991;let wt=!1;class Et{constructor(t,e){vt.checkNew(new.target,Et),t!==_t&&vt.throwError("cannot call constructor directly; use BigNumber.from",K.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return St(Mt(this).fromTwos(t))}toTwos(t){return St(Mt(this).toTwos(t))}abs(){return"-"===this._hex[0]?Et.from(this._hex.substring(1)):this}add(t){return St(Mt(this).add(Mt(t)))}sub(t){return St(Mt(this).sub(Mt(t)))}div(t){return Et.from(t).isZero()&&kt("division by zero","div"),St(Mt(this).div(Mt(t)))}mul(t){return St(Mt(this).mul(Mt(t)))}mod(t){const e=Mt(t);return e.isNeg()&&kt("cannot modulo negative values","mod"),St(Mt(this).umod(e))}pow(t){const e=Mt(t);return e.isNeg()&&kt("cannot raise to negative values","pow"),St(Mt(this).pow(e))}and(t){const e=Mt(t);return(this.isNegative()||e.isNeg())&&kt("cannot 'and' negative values","and"),St(Mt(this).and(e))}or(t){const e=Mt(t);return(this.isNegative()||e.isNeg())&&kt("cannot 'or' negative values","or"),St(Mt(this).or(e))}xor(t){const e=Mt(t);return(this.isNegative()||e.isNeg())&&kt("cannot 'xor' negative values","xor"),St(Mt(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&kt("cannot mask negative values","mask"),St(Mt(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&kt("cannot shift negative values","shl"),St(Mt(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&kt("cannot shift negative values","shr"),St(Mt(this).shrn(t))}eq(t){return Mt(this).eq(Mt(t))}lt(t){return Mt(this).lt(Mt(t))}lte(t){return Mt(this).lte(Mt(t))}gt(t){return Mt(this).gt(Mt(t))}gte(t){return Mt(this).gte(Mt(t))}isNegative(){return"-"===this._hex[0]}isZero(){return Mt(this).isZero()}toNumber(){try{return Mt(this).toNumber()}catch(t){kt("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return vt.throwError("this platform does not support BigInt",K.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?wt||(wt=!0,vt.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?vt.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",K.errors.UNEXPECTED_ARGUMENT,{}):vt.throwError("BigNumber.toString does not accept parameters",K.errors.UNEXPECTED_ARGUMENT,{})),Mt(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Et)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new Et(_t,xt(t)):t.match(/^-?[0-9]+$/)?new Et(_t,xt(new yt(t))):vt.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&kt("underflow","BigNumber.from",t),(t>=bt||t<=-bt)&&kt("overflow","BigNumber.from",t),Et.from(String(t));const e=t;if("bigint"==typeof e)return Et.from(e.toString());if(Q(e))return Et.from(ot(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return Et.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(nt(t)||"-"===t[0]&&nt(t.substring(1))))return Et.from(t)}return vt.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function xt(t){if("string"!=typeof t)return xt(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&vt.throwArgumentError("invalid hex","value",t),"0x00"===(t=xt(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function St(t){return Et.from(xt(t))}function Mt(t){const e=Et.from(t).toHexString();return"-"===e[0]?new yt("-"+e.substring(3),16):new yt(e.substring(2),16)}function kt(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),vt.throwError(t,K.errors.NUMERIC_FAULT,n)}const At=new K(gt),Rt={},Tt=Et.from(0),Ot=Et.from(-1);function It(t,e,r,n){const i={fault:e,operation:r};return void 0!==n&&(i.value=n),At.throwError(t,K.errors.NUMERIC_FAULT,i)}let Ct="0";for(;Ct.length<256;)Ct+=Ct;function Pt(t){if("number"!=typeof t)try{t=Et.from(t).toNumber()}catch(t){}return"number"==typeof t&&t>=0&&t<=256&&!(t%1)?"1"+Ct.substring(0,t):At.throwArgumentError("invalid decimal size","decimals",t)}function Nt(t,e){null==e&&(e=0);const r=Pt(e),n=(t=Et.from(t)).lt(Tt);n&&(t=t.mul(Ot));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=t.div(r).toString();return t=1===r.length?o:o+"."+i,n&&(t="-"+t),t}function Lt(t,e){null==e&&(e=0);const r=Pt(e);"string"==typeof t&&t.match(/^-?[0-9.]+$/)||At.throwArgumentError("invalid decimal value","value",t);const n="-"===t.substring(0,1);n&&(t=t.substring(1)),"."===t&&At.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&At.throwArgumentError("too many decimal points","value",t);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(s.length>r.length-1&&It("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");s.length<r.length-1;)s+="0";const a=Et.from(o),u=Et.from(s);let c=a.mul(r).add(u);return n&&(c=c.mul(Ot)),c}class Bt{constructor(t,e,r,n){t!==Rt&&At.throwError("cannot use FixedFormat constructor; use FixedFormat.from",K.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=r,this.decimals=n,this.name=(e?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=Pt(n),Object.freeze(this)}static from(t){if(t instanceof Bt)return t;"number"==typeof t&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if("string"==typeof t)if("fixed"===t);else if("ufixed"===t)e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||At.throwArgumentError("invalid fixed format","format",t),e="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}else if(t){const i=(e,r,n)=>null==t[e]?n:(typeof t[e]!==r&&At.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e]);e=i("signed","boolean",e),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&At.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&At.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new Bt(Rt,e,r,n)}}class Ut{constructor(t,e,r,n){At.checkNew(new.target,Ut),t!==Rt&&At.throwError("cannot use FixedNumber constructor; use FixedNumber.from",K.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=e,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&At.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=Lt(this._value,this.format.decimals),r=Lt(t._value,t.format.decimals);return Ut.fromValue(e.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=Lt(this._value,this.format.decimals),r=Lt(t._value,t.format.decimals);return Ut.fromValue(e.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=Lt(this._value,this.format.decimals),r=Lt(t._value,t.format.decimals);return Ut.fromValue(e.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=Lt(this._value,this.format.decimals),r=Lt(t._value,t.format.decimals);return Ut.fromValue(e.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Ut.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(e=e.subUnsafe(jt.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Ut.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(e=e.addUnsafe(jt.toFormat(e.format))),e}round(t){null==t&&(t=0);const e=this.toString().split(".");if(1===e.length&&e.push("0"),(t<0||t>80||t%1)&&At.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const r=Ut.from("1"+Ct.substring(0,t),this.format),n=Dt.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){if(null==t)return this._hex;t%8&&At.throwArgumentError("invalid byte width","width",t);return lt(Et.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Ut.fromString(this._value,t)}static fromValue(t,e,r){return null!=r||null==e||function(t){return null!=t&&(Et.isBigNumber(t)||"number"==typeof t&&t%1==0||"string"==typeof t&&!!t.match(/^-?[0-9]+$/)||nt(t)||"bigint"==typeof t||Q(t))}(e)||(r=e,e=null),null==e&&(e=0),null==r&&(r="fixed"),Ut.fromString(Nt(t,e),Bt.from(r))}static fromString(t,e){null==e&&(e="fixed");const r=Bt.from(e),n=Lt(t,r.decimals);!r.signed&&n.lt(Tt)&&It("unsigned value cannot be negative","overflow","value",t);let i=null;r.signed?i=n.toTwos(r.width).toHexString():(i=n.toHexString(),i=lt(i,r.width/8));const o=Nt(n,r.decimals);return new Ut(Rt,i,o,r)}static fromBytes(t,e){null==e&&(e="fixed");const r=Bt.from(e);if(tt(t).length>r.width/8)throw new Error("overflow");let n=Et.from(t);r.signed&&(n=n.fromTwos(r.width));const i=n.toTwos((r.signed?0:1)+r.width).toHexString(),o=Nt(n,r.decimals);return new Ut(Rt,i,o,r)}static from(t,e){if("string"==typeof t)return Ut.fromString(t,e);if(Q(t))return Ut.fromBytes(t,e);try{return Ut.fromValue(t,0,e)}catch(t){if(t.code!==K.errors.INVALID_ARGUMENT)throw t}return At.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const jt=Ut.from(1),Dt=Ut.from("0.5");var Ft="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function zt(){throw new Error("setTimeout has not been defined")}function qt(){throw new Error("clearTimeout has not been defined")}var Ht=zt,Wt=qt;function Gt(t){if(Ht===setTimeout)return setTimeout(t,0);if((Ht===zt||!Ht)&&setTimeout)return Ht=setTimeout,setTimeout(t,0);try{return Ht(t,0)}catch(e){try{return Ht.call(null,t,0)}catch(e){return Ht.call(this,t,0)}}}"function"==typeof Ft.setTimeout&&(Ht=setTimeout),"function"==typeof Ft.clearTimeout&&(Wt=clearTimeout);var Vt,Kt=[],$t=!1,Zt=-1;function Jt(){$t&&Vt&&($t=!1,Vt.length?Kt=Vt.concat(Kt):Zt=-1,Kt.length&&Yt())}function Yt(){if(!$t){var t=Gt(Jt);$t=!0;for(var e=Kt.length;e;){for(Vt=Kt,Kt=[];++Zt<e;)Vt&&Vt[Zt].run();Zt=-1,e=Kt.length}Vt=null,$t=!1,function(t){if(Wt===clearTimeout)return clearTimeout(t);if((Wt===qt||!Wt)&&clearTimeout)return Wt=clearTimeout,clearTimeout(t);try{Wt(t)}catch(e){try{return Wt.call(null,t)}catch(e){return Wt.call(this,t)}}}(t)}}function Xt(t,e){this.fun=t,this.array=e}Xt.prototype.run=function(){this.fun.apply(null,this.array)};function Qt(){}var te=Qt,ee=Qt,re=Qt,ne=Qt,ie=Qt,oe=Qt,se=Qt;var ae=Ft.performance||{},ue=ae.now||ae.mozNow||ae.msNow||ae.oNow||ae.webkitNow||function(){return(new Date).getTime()};var ce=new Date;var le={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Kt.push(new Xt(t,e)),1!==Kt.length||$t||Gt(Yt)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:te,addListener:ee,once:re,off:ne,removeListener:ie,removeAllListeners:oe,emit:se,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*ue.call(ae),r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r-=t[0],(n-=t[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-ce)/1e3}},he={exports:{}};!function(t){!function(){var e="input is invalid type",r="object"==typeof window,n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"==typeof self;!n.JS_SHA3_NO_NODE_JS&&"object"==typeof le&&le.versions&&le.versions.node?n=ft:i&&(n=self);var o=!n.JS_SHA3_NO_COMMON_JS&&t.exports,s=!n.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,a="0123456789abcdef".split(""),u=[4,1024,262144,67108864],c=[0,8,16,24],l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],h=[224,256,384,512],f=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!n.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!s||!n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var m=function(t,e,r){return function(n){return new O(t,e,t).update(n)[r]()}},g=function(t,e,r){return function(n,i){return new O(t,e,i).update(n)[r]()}},y=function(t,e,r){return function(e,n,i,o){return E["cshake"+t].update(e,n,i,o)[r]()}},v=function(t,e,r){return function(e,n,i,o){return E["kmac"+t].update(e,n,i,o)[r]()}},_=function(t,e,r,n){for(var i=0;i<d.length;++i){var o=d[i];t[o]=e(r,n,o)}return t},b=function(t,e){var r=m(t,e,"hex");return r.create=function(){return new O(t,e,t)},r.update=function(t){return r.create().update(t)},_(r,m,t,e)},w=[{name:"keccak",padding:[1,256,65536,16777216],bits:h,createMethod:b},{name:"sha3",padding:[6,1536,393216,100663296],bits:h,createMethod:b},{name:"shake",padding:[31,7936,2031616,520093696],bits:f,createMethod:function(t,e){var r=g(t,e,"hex");return r.create=function(r){return new O(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},_(r,g,t,e)}},{name:"cshake",padding:u,bits:f,createMethod:function(t,e){var r=p[t],n=y(t,0,"hex");return n.create=function(n,i,o){return i||o?new O(t,e,n).bytepad([i,o],r):E["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},_(n,y,t,e)}},{name:"kmac",padding:u,bits:f,createMethod:function(t,e){var r=p[t],n=v(t,0,"hex");return n.create=function(n,i,o){return new I(t,e,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},_(n,v,t,e)}}],E={},x=[],S=0;S<w.length;++S)for(var M=w[S],k=M.bits,A=0;A<k.length;++A){var R=M.name+"_"+k[A];if(x.push(R),E[R]=M.createMethod(k[A],M.padding),"sha3"!==M.name){var T=M.name+k[A];x.push(T),E[T]=E[R]}}function O(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function I(t,e,r){O.call(this,t,e,r)}O.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(s&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||s&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}for(var i,o,a=this.blocks,u=this.byteCount,l=t.length,h=this.blockCount,f=0,d=this.s;f<l;){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<h+1;++i)a[i]=0;if(r)for(i=this.start;f<l&&i<u;++f)a[i>>2]|=t[f]<<c[3&i++];else for(i=this.start;f<l&&i<u;++f)(o=t.charCodeAt(f))<128?a[i>>2]|=o<<c[3&i++]:o<2048?(a[i>>2]|=(192|o>>6)<<c[3&i++],a[i>>2]|=(128|63&o)<<c[3&i++]):o<55296||o>=57344?(a[i>>2]|=(224|o>>12)<<c[3&i++],a[i>>2]|=(128|o>>6&63)<<c[3&i++],a[i>>2]|=(128|63&o)<<c[3&i++]):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++f)),a[i>>2]|=(240|o>>18)<<c[3&i++],a[i>>2]|=(128|o>>12&63)<<c[3&i++],a[i>>2]|=(128|o>>6&63)<<c[3&i++],a[i>>2]|=(128|63&o)<<c[3&i++]);if(this.lastByteIndex=i,i>=u){for(this.start=i-u,this.block=a[h],i=0;i<h;++i)d[i]^=a[i];C(d),this.reset=!0}else this.start=i}return this},O.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},O.prototype.encodeString=function(t){var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(s&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||s&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}var i=0,o=t.length;if(r)i=o;else for(var a=0;a<t.length;++a){var u=t.charCodeAt(a);u<128?i+=1:u<2048?i+=2:u<55296||u>=57344?i+=3:(u=65536+((1023&u)<<10|1023&t.charCodeAt(++a)),i+=4)}return i+=this.encode(8*i),this.update(t),i},O.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,o=[];return o.length=i,this.update(o),this},O.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];C(n)}},O.prototype.toString=O.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,u="";s<n;){for(o=0;o<e&&s<n;++o,++s)t=r[o],u+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];s%e==0&&(C(r),o=0)}return i&&(t=r[o],u+=a[t>>4&15]+a[15&t],i>1&&(u+=a[t>>12&15]+a[t>>8&15]),i>2&&(u+=a[t>>20&15]+a[t>>16&15])),u},O.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(t);s<n;){for(o=0;o<e&&s<n;++o,++s)u[s]=r[o];s%e==0&&C(r)}return i&&(u[o]=r[o],t=t.slice(0,a)),t},O.prototype.buffer=O.prototype.arrayBuffer,O.prototype.digest=O.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,u=[];a<i;){for(s=0;s<r&&a<i;++s,++a)t=a<<2,e=n[s],u[t]=255&e,u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;a%r==0&&C(n)}return o&&(t=a<<2,e=n[s],u[t]=255&e,o>1&&(u[t+1]=e>>8&255),o>2&&(u[t+2]=e>>16&255)),u},I.prototype=new O,I.prototype.finalize=function(){return this.encode(this.outputBits,!0),O.prototype.finalize.call(this)};var C=function(t){var e,r,n,i,o,s,a,u,c,h,f,d,p,m,g,y,v,_,b,w,E,x,S,M,k,A,R,T,O,I,C,P,N,L,B,U,j,D,F,z,q,H,W,G,V,K,$,Z,J,Y,X,Q,tt,et,rt,nt,it,ot,st,at,ut,ct,lt;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],c=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(s<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|s>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(u<<1|c>>>31),r=o^(c<<1|u>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=s^(h<<1|f>>>31),r=a^(f<<1|h>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=u^(d<<1|p>>>31),r=c^(p<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=h^(i<<1|o>>>31),r=f^(o<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,m=t[0],g=t[1],K=t[11]<<4|t[10]>>>28,$=t[10]<<4|t[11]>>>28,T=t[20]<<3|t[21]>>>29,O=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,W=t[41]<<18|t[40]>>>14,L=t[2]<<1|t[3]>>>31,B=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,v=t[12]<<12|t[13]>>>20,Z=t[22]<<10|t[23]>>>22,J=t[23]<<10|t[22]>>>22,I=t[33]<<13|t[32]>>>19,C=t[32]<<13|t[33]>>>19,ct=t[42]<<2|t[43]>>>30,lt=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,U=t[14]<<6|t[15]>>>26,j=t[15]<<6|t[14]>>>26,_=t[25]<<11|t[24]>>>21,b=t[24]<<11|t[25]>>>21,Y=t[34]<<15|t[35]>>>17,X=t[35]<<15|t[34]>>>17,P=t[45]<<29|t[44]>>>3,N=t[44]<<29|t[45]>>>3,M=t[6]<<28|t[7]>>>4,k=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,F=t[27]<<25|t[26]>>>7,w=t[36]<<21|t[37]>>>11,E=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,G=t[8]<<27|t[9]>>>5,V=t[9]<<27|t[8]>>>5,A=t[18]<<20|t[19]>>>12,R=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,z=t[38]<<8|t[39]>>>24,q=t[39]<<8|t[38]>>>24,x=t[48]<<14|t[49]>>>18,S=t[49]<<14|t[48]>>>18,t[0]=m^~y&_,t[1]=g^~v&b,t[10]=M^~A&T,t[11]=k^~R&O,t[20]=L^~U&D,t[21]=B^~j&F,t[30]=G^~K&Z,t[31]=V^~$&J,t[40]=et^~nt&ot,t[41]=rt^~it&st,t[2]=y^~_&w,t[3]=v^~b&E,t[12]=A^~T&I,t[13]=R^~O&C,t[22]=U^~D&z,t[23]=j^~F&q,t[32]=K^~Z&Y,t[33]=$^~J&X,t[42]=nt^~ot&at,t[43]=it^~st&ut,t[4]=_^~w&x,t[5]=b^~E&S,t[14]=T^~I&P,t[15]=O^~C&N,t[24]=D^~z&H,t[25]=F^~q&W,t[34]=Z^~Y&Q,t[35]=J^~X&tt,t[44]=ot^~at&ct,t[45]=st^~ut&lt,t[6]=w^~x&m,t[7]=E^~S&g,t[16]=I^~P&M,t[17]=C^~N&k,t[26]=z^~H&L,t[27]=q^~W&B,t[36]=Y^~Q&G,t[37]=X^~tt&V,t[46]=at^~ct&et,t[47]=ut^~lt&rt,t[8]=x^~m&y,t[9]=S^~g&v,t[18]=P^~M&A,t[19]=N^~k&R,t[28]=H^~L&U,t[29]=W^~B&j,t[38]=Q^~G&K,t[39]=tt^~V&$,t[48]=ct^~et&nt,t[49]=lt^~rt&it,t[0]^=l[n],t[1]^=l[n+1]};if(o)t.exports=E;else for(S=0;S<x.length;++S)n[x[S]]=E[x[S]]}()}(he);var fe=he.exports;function de(t){return"0x"+fe.keccak_256(tt(t))}const pe=new K("rlp/5.5.0");function me(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function ge(t,e,r){let n=0;for(let i=0;i<r;i++)n=256*n+t[e+i];return n}function ye(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(ye(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=me(e.length);return r.unshift(247+r.length),r.concat(e)}Y(t)||pe.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(tt(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=me(e.length);return r.unshift(183+r.length),r.concat(e)}function ve(t){return ot(ye(t))}function _e(t,e,r,n){const i=[];for(;r<e+1+n;){const o=be(t,r);i.push(o.result),(r+=o.consumed)>e+1+n&&pe.throwError("child data too short",K.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function be(t,e){if(0===t.length&&pe.throwError("data too short",K.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&pe.throwError("data short segment too short",K.errors.BUFFER_OVERRUN,{});const n=ge(t,e+1,r);return e+1+r+n>t.length&&pe.throwError("data long segment too short",K.errors.BUFFER_OVERRUN,{}),_e(t,e,e+1+r,r+n)}if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&pe.throwError("data array too short",K.errors.BUFFER_OVERRUN,{}),_e(t,e,e+1,r)}if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&pe.throwError("data array too short",K.errors.BUFFER_OVERRUN,{});const n=ge(t,e+1,r);e+1+r+n>t.length&&pe.throwError("data array too short",K.errors.BUFFER_OVERRUN,{});return{consumed:1+r+n,result:ot(t.slice(e+1+r,e+1+r+n))}}if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&pe.throwError("data too short",K.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:ot(t.slice(e+1,e+1+r))}}return{consumed:1,result:ot(t[e])}}function we(t){const e=tt(t),r=be(e,0);return r.consumed!==e.length&&pe.throwArgumentError("invalid rlp data","data",t),r.result}const Ee=new K("address/5.5.0");function xe(t){nt(t,20)||Ee.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=tt(de(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const Se={};for(let t=0;t<10;t++)Se[String(t)]=String(t);for(let t=0;t<26;t++)Se[String.fromCharCode(65+t)]=String(10+t);const Me=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function ke(t){let e=null;if("string"!=typeof t&&Ee.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=xe(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Ee.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>Se[t])).join("");for(;e.length>=Me;){let t=e.substring(0,Me);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&Ee.throwArgumentError("bad icap checksum","address",t),e=function(t){return new yt(t,36).toString(16)}(t.substring(4));e.length<40;)e="0"+e;e=xe("0x"+e)}else Ee.throwArgumentError("invalid address","address",t);return e}function Ae(t){try{return ke(t),!0}catch(t){}return!1}function Re(t){let e=null;try{e=ke(t.from)}catch(e){Ee.throwArgumentError("missing from address","transaction",t)}return ke(at(de(ve([e,rt(tt(Et.from(t.nonce).toHexString()))])),12))}const Te="0x0000000000000000000000000000000000000000",Oe=Et.from(-1),Ie=Et.from(0),Ce=Et.from(1),Pe=Et.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Ne=function(t,e){return Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Ne(t,e)};var Le=function(){return Le=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Le.apply(this,arguments)};function Be(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function Ue(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):function(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(s,a)}u((n=n.apply(t,e||[])).next())}))}function je(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function Fe(t){return this instanceof Fe?(this.v=t,this):new Fe(t)}var ze,qe,He,We=Object.freeze({__proto__:null,__extends:function(t,e){function r(){this.constructor=t}Ne(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},get __assign(){return Le},__rest:Be,__decorate:function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},__param:function(t,e){return function(r,n){e(r,n,t)}},__metadata:function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__awaiter:Ue,__generator:function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},__createBinding:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]},__exportStar:function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])},__values:je,__read:De,__spread:function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(De(arguments[e]));return t},__spreadArrays:function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},__await:Fe,__asyncGenerator:function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{!function(t){t.value instanceof Fe?Promise.resolve(t.value.v).then(u,c):l(o[0][2],t)}(i[t](e))}catch(t){l(o[0][3],t)}}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}},__asyncDelegator:function(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:Fe(t[n](e)),done:"return"===n}:i?i(e):e}:i}},__asyncValues:function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=je(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}},__makeTemplateObject:function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__importStar:function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},__importDefault:function(t){return t&&t.__esModule?t:{default:t}},__classPrivateFieldGet:function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},__classPrivateFieldSet:function(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}}),Ge=0,Ve=[],Ke=r.__b,$e=r.__r,Ze=r.diffed,Je=r.__c,Ye=r.unmount;function Xe(t,e){r.__h&&r.__h(qe,t,Ge||e),Ge=0;var n=qe.__H||(qe.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Qe(t){return Ge=1,tr(fr,t)}function tr(t,e,r){var n=Xe(ze++,2);return n.t=t,n.__c||(n.__=[r?r(e):fr(void 0,e),function(t){var e=n.t(n.__[0],t);n.__[0]!==e&&(n.__=[e,n.__[1]],n.__c.setState({}))}],n.__c=qe),n.__}function er(t,e){var n=Xe(ze++,3);!r.__s&&hr(n.__H,e)&&(n.__=t,n.__H=e,qe.__H.__h.push(n))}function rr(t,e){var n=Xe(ze++,4);!r.__s&&hr(n.__H,e)&&(n.__=t,n.__H=e,qe.__h.push(n))}function nr(t){return Ge=5,ir((function(){return{current:t}}),[])}function ir(t,e){var r=Xe(ze++,7);return hr(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function or(t,e){return Ge=8,ir((function(){return t}),e)}function sr(t){var e=qe.context[t.__c],r=Xe(ze++,9);return r.c=t,e?(null==r.__&&(r.__=!0,e.sub(qe)),e.props.value):t.__}function ar(){for(var t;t=Ve.shift();)if(t.__P)try{t.__H.__h.forEach(cr),t.__H.__h.forEach(lr),t.__H.__h=[]}catch(e){t.__H.__h=[],r.__e(e,t.__v)}}r.__b=function(t){qe=null,Ke&&Ke(t)},r.__r=function(t){$e&&$e(t),ze=0;var e=(qe=t.__c).__H;e&&(e.__h.forEach(cr),e.__h.forEach(lr),e.__h=[])},r.diffed=function(t){Ze&&Ze(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(1!==Ve.push(e)&&He===r.requestAnimationFrame||((He=r.requestAnimationFrame)||function(t){var e,r=function(){clearTimeout(n),ur&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);ur&&(e=requestAnimationFrame(r))})(ar)),qe=null},r.__c=function(t,e){e.some((function(t){try{t.__h.forEach(cr),t.__h=t.__h.filter((function(t){return!t.__||lr(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],r.__e(n,t.__v)}})),Je&&Je(t,e)},r.unmount=function(t){Ye&&Ye(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{cr(t)}catch(t){e=t}})),e&&r.__e(e,n.__v))};var ur="function"==typeof requestAnimationFrame;function cr(t){var e=qe,r=t.__c;"function"==typeof r&&(t.__c=void 0,r()),qe=e}function lr(t){var e=qe;t.__c=t.__(),qe=e}function hr(t,e){return!t||t.length!==e.length||e.some((function(e,r){return e!==t[r]}))}function fr(t,e){return"function"==typeof e?e(t):e}function dr(t,e){for(var r in e)t[r]=e[r];return t}function pr(t,e){for(var r in t)if("__source"!==r&&!(r in e))return!0;for(var n in e)if("__source"!==n&&t[n]!==e[n])return!0;return!1}function mr(t){this.props=t}(mr.prototype=new g).isPureReactComponent=!0,mr.prototype.shouldComponentUpdate=function(t,e){return pr(this.props,t)||pr(this.state,e)};var gr=r.__b;r.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),gr&&gr(t)};var yr="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var vr=function(t,e){return null==t?null:x(x(t).map(e))},_r={map:vr,forEach:vr,count:function(t){return t?x(t).length:0},only:function(t){var e=x(t);if(1!==e.length)throw"Children.only";return e[0]},toArray:x},br=r.__e;r.__e=function(t,e,r){if(t.then)for(var n,i=e;i=i.__;)if((n=i.__c)&&n.__c)return null==e.__e&&(e.__e=r.__e,e.__k=r.__k),n.__c(t,e);br(t,e,r)};var wr=r.unmount;function Er(){this.__u=0,this.t=null,this.__b=null}function xr(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function Sr(){this.u=null,this.o=null}r.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&!0===t.__h&&(t.type=null),wr&&wr(t)},(Er.prototype=new g).__c=function(t,e){var r=e.__c,n=this;null==n.t&&(n.t=[]),n.t.push(r);var i=xr(n.__v),o=!1,s=function(){o||(o=!0,r.__R=null,i?i(a):a())};r.__R=s;var a=function(){if(!--n.__u){if(n.state.__e){var t=n.state.__e;n.__v.__k[0]=function t(e,r,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return t(e,r,n)})),e.__c&&e.__c.__P===r&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}(t,t.__c.__P,t.__c.__O)}var e;for(n.setState({__e:n.__b=null});e=n.t.pop();)e.forceUpdate()}},u=!0===e.__h;n.__u++||u||n.setState({__e:n.__b=n.__v.__k[0]}),t.then(s,s)},Er.prototype.componentWillUnmount=function(){this.t=[]},Er.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=function t(e,r,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),e.__c.__H=null),null!=(e=dr({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=r),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return t(e,r,n)}))),e}(this.__b,r,n.__O=n.__P)}this.__b=null}var i=e.__e&&d(m,null,t.fallback);return i&&(i.__h=null),[d(m,null,e.__e?null:t.children),i]};var Mr=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function kr(t){return this.getChildContext=function(){return t.context},t.children}function Ar(t){var e=this,r=t.i;e.componentWillUnmount=function(){N(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),t.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t,r){this.childNodes.push(t),e.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),N(d(kr,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}(Sr.prototype=new g).__e=function(t){var e=this,r=xr(e.__v),n=e.o.get(t);return n[0]++,function(i){var o=function(){e.props.revealOrder?(n.push(i),Mr(e,t,n)):i()};r?r(o):o()}},Sr.prototype.render=function(t){this.u=null,this.o=new Map;var e=x(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},Sr.prototype.componentDidUpdate=Sr.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,r){Mr(t,r,e)}))};var Rr="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Tr=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Or="undefined"!=typeof document,Ir=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t)};g.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(g.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var Cr=r.event;function Pr(){}function Nr(){return this.cancelBubble}function Lr(){return this.defaultPrevented}r.event=function(t){return Cr&&(t=Cr(t)),t.persist=Pr,t.isPropagationStopped=Nr,t.isDefaultPrevented=Lr,t.nativeEvent=t};var Br,Ur={configurable:!0,get:function(){return this.class}},jr=r.vnode;r.vnode=function(t){var e=t.type,r=t.props,n=r;if("string"==typeof e){var i=-1===e.indexOf("-");for(var o in n={},r){var s=r[o];Or&&"children"===o&&"noscript"===e||"value"===o&&"defaultValue"in r&&null==s||("defaultValue"===o&&"value"in r&&null==r.value?o="value":"download"===o&&!0===s?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!Ir(r.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():i&&Tr.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===s&&(s=void 0),n[o]=s)}"select"==e&&n.multiple&&Array.isArray(n.value)&&(n.value=x(r.children).forEach((function(t){t.props.selected=-1!=n.value.indexOf(t.props.value)}))),"select"==e&&null!=n.defaultValue&&(n.value=x(r.children).forEach((function(t){t.props.selected=n.multiple?-1!=n.defaultValue.indexOf(t.props.value):n.defaultValue==t.props.value}))),t.props=n,r.class!=r.className&&(Ur.enumerable="className"in r,null!=r.className&&(n.class=r.className),Object.defineProperty(n,"className",Ur))}t.$$typeof=Rr,jr&&jr(t)};var Dr=r.__r;r.__r=function(t){Dr&&Dr(t),Br=t.__c};var Fr={ReactCurrentDispatcher:{current:{readContext:function(t){return Br.__n[t.__c].props.value}}}};function zr(t){return!!t&&t.$$typeof===Rr}var qr,Hr={useState:Qe,useReducer:tr,useEffect:er,useLayoutEffect:rr,useRef:nr,useImperativeHandle:function(t,e,r){Ge=6,rr((function(){"function"==typeof t?t(e()):t&&(t.current=e())}),null==r?r:r.concat(t))},useMemo:ir,useCallback:or,useContext:sr,useDebugValue:function(t,e){r.useDebugValue&&r.useDebugValue(e?e(t):t)},version:"17.0.2",Children:_r,render:function(t,e,r){return null==e.__k&&(e.textContent=""),N(t,e),"function"==typeof r&&r(),t?t.__c:null},hydrate:function(t,e,r){return L(t,e),"function"==typeof r&&r(),t?t.__c:null},unmountComponentAtNode:function(t){return!!t.__k&&(N(null,t),!0)},createPortal:function(t,e){return d(Ar,{__v:t,i:e})},createElement:d,createContext:U,createFactory:function(t){return d.bind(null,t)},cloneElement:function(t){return zr(t)?B.apply(null,arguments):t},createRef:function(){return{current:null}},Fragment:m,isValidElement:zr,findDOMNode:function(t){return t&&(t.base||1===t.nodeType&&t)||null},Component:g,PureComponent:mr,memo:function(t,e){function r(t){var r=this.props.ref,n=r==t.ref;return!n&&r&&(r.call?r(null):r.current=null),e?!e(this.props,t)||!n:pr(this.props,t)}function n(e){return this.shouldComponentUpdate=r,d(t,e)}return n.displayName="Memo("+(t.displayName||t.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n},forwardRef:function(t){function e(e,r){var n=dr({},e);return delete n.ref,t(n,(r=e.ref||r)&&("object"!=typeof r||"current"in r)?r:null)}return e.$$typeof=yr,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e},flushSync:function(t,e){return t(e)},unstable_batchedUpdates:function(t,e){return t(e)},StrictMode:m,Suspense:Er,SuspenseList:Sr,lazy:function(t){var e,r,n;function i(i){if(e||(e=t()).then((function(t){r=t.default||t}),(function(t){n=t})),n)throw n;if(!r)throw e;return d(r,i)}return i.displayName="Lazy",i.__f=!0,i},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Fr},Wr="Invariant failed";function Gr(t,e){if(!t){var r="function"==typeof e?e():e;throw new Error(r?Wr+": "+r:Wr)}}function Vr(t,e){if(!t){var r="Warning: "+e;"undefined"!=typeof console&&console.warn(r);try{throw Error(r)}catch(t){}}}function Kr(){return Kr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kr.apply(this,arguments)}function $r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Jr(t,e)}function Zr(t){return Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zr(t)}function Jr(t,e){return Jr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Jr(t,e)}function Yr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Xr(t,e,r){return Xr=Yr()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&Jr(i,r.prototype),i},Xr.apply(null,arguments)}function Qr(t){var e="function"==typeof Map?new Map:void 0;return Qr=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Xr(t,arguments,Zr(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Jr(n,t)},Qr(t)}function tn(t,e){try{var r=t()}catch(t){return e(t)}return r&&r.then?r.then(void 0,e):r}function en(t){if("string"==typeof t){t=t.replace(/^Ox/,"0x");var e=Number.parseInt(t,"0x"===t.trim().substring(0,2)?16:10);return Number.isNaN(e)&&Gr(!1,"chainId "+t+" is not an integer"),e}return Number.isInteger(t)||Gr(!1,"chainId "+t+" is not an integer"),t}function rn(t){"string"==typeof t&&t.match(/^(0x)?[0-9a-fA-F]{40}$/)||Gr(!1,"Invalid address "+t);for(var e="0x"===t.substring(0,2)?t:"0x"+t,r=e.toLowerCase().substring(2).split(""),n=new Uint8Array(40),i=0;i<40;i++)n[i]=r[i].charCodeAt(0);for(var o=tt(de(n)),s=0;s<40;s+=2)o[s>>1]>>4>=8&&(r[s]=r[s].toUpperCase()),(15&o[s>>1])>=8&&(r[s+1]=r[s+1].toUpperCase());var a="0x"+r.join("");return e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==a&&Gr(!1,"Bad address checksum "+e+" "+a),a}!function(t){t.Update="Web3ReactUpdate",t.Error="Web3ReactError",t.Deactivate="Web3ReactDeactivate"}(qr||(qr={})),"undefined"==typeof Symbol||(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"==typeof Symbol||(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var nn,on=function(t,e){try{var r=function(r){return Promise.resolve(Promise.all([void 0===e.chainId?t.getChainId():e.chainId,void 0===e.account?t.getAccount():e.account])).then((function(e){var n=e[0],i=e[1],o=en(n);if(t.supportedChainIds&&!t.supportedChainIds.includes(o))throw new an(o,t.supportedChainIds);var s=null===i?i:rn(i);return{provider:r,chainId:o,account:s}}))},n=void 0===e.provider;return Promise.resolve(n?Promise.resolve(t.getProvider()).then(r):r(e.provider))}catch(t){return Promise.reject(t)}},sn=function(t){function e(){var e;return(e=t.call(this)||this).name=e.constructor.name,e}return $r(e,t),e}(Qr(Error)),an=function(t){function e(e,r){var n;return(n=t.call(this)||this).name=n.constructor.name,n.message="Unsupported chain id: "+e+". Supported chain ids are: "+r+".",n}return $r(e,t),e}(Qr(Error));function un(t,e){var r=e.type,n=e.payload;switch(r){case nn.ACTIVATE_CONNECTOR:return{connector:n.connector,provider:n.provider,chainId:n.chainId,account:n.account,onError:n.onError};case nn.UPDATE:var i=n.provider,o=n.chainId,s=n.account;return Kr({},t,void 0===i?{}:{provider:i},void 0===o?{}:{chainId:o},void 0===s?{}:{account:s});case nn.UPDATE_FROM_ERROR:var a=n.provider,u=n.chainId,c=n.account;return Kr({},t,void 0===a?{}:{provider:a},void 0===u?{}:{chainId:u},void 0===c?{}:{account:c},{error:void 0});case nn.ERROR:var l=n.error;return{connector:t.connector,error:l,onError:t.onError};case nn.ERROR_FROM_ACTIVATION:return{connector:n.connector,error:n.error};case nn.DEACTIVATE_CONNECTOR:return{}}}!function(t){t[t.ACTIVATE_CONNECTOR=0]="ACTIVATE_CONNECTOR",t[t.UPDATE=1]="UPDATE",t[t.UPDATE_FROM_ERROR=2]="UPDATE_FROM_ERROR",t[t.ERROR=3]="ERROR",t[t.ERROR_FROM_ACTIVATION=4]="ERROR_FROM_ACTIVATION",t[t.DEACTIVATE_CONNECTOR=5]="DEACTIVATE_CONNECTOR"}(nn||(nn={}));var cn="primary",ln={};function hn(t){ln[t]&&("production"!==le.env.NODE_ENV?Gr(!1,"A root already exists for provided key "+t):Gr(!1)),ln[t]=U({activate:function(){try{return"production"!==le.env.NODE_ENV?Gr(!1,"No <Web3ReactProvider ... /> found."):Gr(!1),Promise.resolve()}catch(t){return Promise.reject(t)}},setError:function(){"production"!==le.env.NODE_ENV?Gr(!1,"No <Web3ReactProvider ... /> found."):Gr(!1)},deactivate:function(){"production"!==le.env.NODE_ENV?Gr(!1,"No <Web3ReactProvider ... /> found."):Gr(!1)},active:!1}),ln[t].displayName="Web3ReactContext - "+t;var e=ln[t].Provider;return function(t){var r=t.getLibrary,n=t.children,i=function(){var t=tr(un,{}),e=t[0],r=t[1],n=e.connector,i=e.provider,o=e.chainId,s=e.account,a=e.onError,u=e.error,c=nr(-1);c.current+=1;var l=or((function(t,e,n){void 0===n&&(n=!1);try{var i=c.current,o=!1;return Promise.resolve(tn((function(){return Promise.resolve(t.activate().then((function(t){return o=!0,t}))).then((function(n){return Promise.resolve(on(t,n)).then((function(n){if(c.current>i)throw new sn;r({type:nn.ACTIVATE_CONNECTOR,payload:Kr({connector:t},n,{onError:e})})}))}))}),(function(i){if(i instanceof sn)o&&t.deactivate(),"production"!==le.env.NODE_ENV&&Vr(!1,"Suppressed stale connector activation "+t);else{if(n)throw o&&t.deactivate(),i;e?(o&&t.deactivate(),e(i)):r({type:nn.ERROR_FROM_ACTIVATION,payload:{connector:t,error:i}})}})))}catch(t){return Promise.reject(t)}}),[]),h=or((function(t){r({type:nn.ERROR,payload:{error:t}})}),[]),f=or((function(){r({type:nn.DEACTIVATE_CONNECTOR})}),[]),d=or((function(t){try{if(!n)throw Error("This should never happen, it's just so Typescript stops complaining");var e=c.current;return Promise.resolve(function(){if(u)return tn((function(){return Promise.resolve(on(n,t)).then((function(t){if(c.current>e)throw new sn;r({type:nn.UPDATE_FROM_ERROR,payload:t})}))}),(function(e){e instanceof sn?"production"!==le.env.NODE_ENV&&Vr(!1,"Suppressed stale connector update from error state "+n+" "+t):a?a(e):r({type:nn.ERROR,payload:{error:e}})}));var i=void 0===t.chainId?void 0:en(t.chainId);if(void 0!==i&&n.supportedChainIds&&!n.supportedChainIds.includes(i)){var o=new an(i,n.supportedChainIds);a?a(o):r({type:nn.ERROR,payload:{error:o}})}else{var s="string"==typeof t.account?rn(t.account):t.account;r({type:nn.UPDATE,payload:{provider:t.provider,chainId:i,account:s}})}}())}catch(t){return Promise.reject(t)}}),[n,u,a]),p=or((function(t){a?a(t):r({type:nn.ERROR,payload:{error:t}})}),[a]),m=or((function(){r({type:nn.DEACTIVATE_CONNECTOR})}),[]);return er((function(){return function(){n&&n.deactivate()}}),[n]),er((function(){return n&&n.on(qr.Update,d).on(qr.Error,p).on(qr.Deactivate,m),function(){n&&n.off(qr.Update,d).off(qr.Error,p).off(qr.Deactivate,m)}}),[n,d,p,m]),{connector:n,provider:i,chainId:o,account:s,activate:l,setError:h,deactivate:f,error:u}}(),o=i.connector,s=i.provider,a=i.chainId,u=i.account,c=i.activate,l=i.setError,h=i.deactivate,f=i.error,d=void 0!==o&&void 0!==a&&void 0!==u&&!f,p=ir((function(){return d&&void 0!==a&&Number.isInteger(a)&&o?r(s,o):void 0}),[d,r,s,o,a]),m={connector:o,library:p,chainId:a,account:u,activate:c,setError:l,deactivate:h,active:d,error:f};return Hr.createElement(e,{value:m},n)}}var fn=hn(cn);function dn(t){return sr(function(t){return void 0===t&&(t=cn),Object.keys(ln).includes(t)||("production"!==le.env.NODE_ENV?Gr(!1,"Invalid key "+t):Gr(!1)),ln[t]}(t))}var pn={exports:{}};
/*!
      Copyright (c) 2018 Jed Watson.
      Licensed under the MIT License (MIT), see
      http://jedwatson.github.io/classnames
    */!function(t){!function(){var e={}.hasOwnProperty;function r(){for(var t=[],n=0;n<arguments.length;n++){var i=arguments[n];if(i){var o=typeof i;if("string"===o||"number"===o)t.push(i);else if(Array.isArray(i)){if(i.length){var s=r.apply(null,i);s&&t.push(s)}}else if("object"===o)if(i.toString===Object.prototype.toString)for(var a in i)e.call(i,a)&&i[a]&&t.push(a);else t.push(i.toString())}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):window.classNames=r}()}(pn);var mn=pn.exports,gn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yn=Hr.createContext&&Hr.createContext(gn),vn=function(){return vn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},vn.apply(this,arguments)},_n=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r};function bn(t){return t&&t.map((function(t,e){return Hr.createElement(t.tag,vn({key:e},t.attr),bn(t.child))}))}function wn(t){var e=function(e){var r,n=t.attr,i=t.size,o=t.title,s=_n(t,["attr","size","title"]),a=i||e.size||"1em";return e.className&&(r=e.className),t.className&&(r=(r?r+" ":"")+t.className),Hr.createElement("svg",vn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,s,{className:r,style:vn(vn({color:t.color||e.color},e.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&Hr.createElement("title",null,o),t.children)};return void 0!==yn?Hr.createElement(yn.Consumer,null,(function(t){return e(t)})):e(gn)}var En=dt(Object.freeze({__proto__:null,IconsManifest:[{id:"fa",name:"Font Awesome",projectUrl:"https://fontawesome.com/",license:"CC BY 4.0 License",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"},{id:"io",name:"Ionicons 4",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"io5",name:"Ionicons 5",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"md",name:"Material Design icons",projectUrl:"http://google.github.io/material-design-icons/",license:"Apache License Version 2.0",licenseUrl:"https://github.com/google/material-design-icons/blob/master/LICENSE"},{id:"ti",name:"Typicons",projectUrl:"http://s-ings.com/typicons/",license:"CC BY-SA 3.0",licenseUrl:"https://creativecommons.org/licenses/by-sa/3.0/"},{id:"go",name:"Github Octicons icons",projectUrl:"https://octicons.github.com/",license:"MIT",licenseUrl:"https://github.com/primer/octicons/blob/master/LICENSE"},{id:"fi",name:"Feather",projectUrl:"https://feathericons.com/",license:"MIT",licenseUrl:"https://github.com/feathericons/feather/blob/master/LICENSE"},{id:"gi",name:"Game Icons",projectUrl:"https://game-icons.net/",license:"CC BY 3.0",licenseUrl:"https://creativecommons.org/licenses/by/3.0/"},{id:"wi",name:"Weather Icons",projectUrl:"https://erikflowers.github.io/weather-icons/",license:"SIL OFL 1.1",licenseUrl:"http://scripts.sil.org/OFL"},{id:"di",name:"Devicons",projectUrl:"https://vorillaz.github.io/devicons/",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ai",name:"Ant Design Icons",projectUrl:"https://github.com/ant-design/ant-design-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"bs",name:"Bootstrap Icons",projectUrl:"https://github.com/twbs/icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ri",name:"Remix Icon",projectUrl:"https://github.com/Remix-Design/RemixIcon",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"fc",name:"Flat Color Icons",projectUrl:"https://github.com/icons8/flat-color-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"gr",name:"Grommet-Icons",projectUrl:"https://github.com/grommet/grommet-icons",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"hi",name:"Heroicons",projectUrl:"https://github.com/refactoringui/heroicons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"si",name:"Simple Icons",projectUrl:"https://simpleicons.org/",license:"CC0 1.0 Universal",licenseUrl:"https://creativecommons.org/publicdomain/zero/1.0/"},{id:"im",name:"IcoMoon Free",projectUrl:"https://github.com/Keyamoon/IcoMoon-Free",license:"CC BY 4.0 License"},{id:"bi",name:"BoxIcons",projectUrl:"https://github.com/atisawd/boxicons",license:"CC BY 4.0 License"},{id:"cg",name:"css.gg",projectUrl:"https://github.com/astrit/css.gg",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"vsc",name:"VS Code Icons",projectUrl:"https://github.com/microsoft/vscode-codicons",license:"CC BY 4.0",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"}],GenIcon:function(t){return function(e){return Hr.createElement(wn,vn({attr:vn({},t.attr)},e),bn(t.child))}},IconBase:wn,DefaultContext:gn,IconContext:yn})),xn=En.GenIcon,Sn=function(t){return xn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144m224 0L144 368"}}]})(t)};const Mn=U({activeRouteId:0,goForward:()=>{},goBack:()=>{},goToRoute:t=>{}}),kn=(t,e)=>{switch(e.type){case"GO_FORWARD":return{activeRouteId:t.activeRouteId+1};case"GO_BACK":return{activeRouteId:t.activeRouteId>0?t.activeRouteId-1:0};case"GO_TO_ROUTE":return{activeRouteId:e.routeId};default:throw new Error(`Invalid action ${e.type}`)}};function An(){return sr(Mn)}const Rn=t=>{var{initialRouteId:e}=t,r=Be(t,["initialRouteId"]);const n=function({initialRouteId:t}){const[e,r]=tr(kn,{activeRouteId:t});return{state:e,goForward:or((()=>r({type:"GO_FORWARD"})),[]),goBack:or((()=>r({type:"GO_BACK"})),[]),goToRoute:or((t=>r({type:"GO_TO_ROUTE",routeId:t})),[])}}({initialRouteId:e}),{state:i}=n,o=Be(n,["state"]),s=ir((()=>Object.assign(Object.assign({},i),o)),[i,o]);return d(Mn.Provider,{value:s},r.children)},Tn=({routeId:t,component:e})=>{const{activeRouteId:r}=An();return r!==t?null:e},On=U({});function In(){return sr(On)}function Cn(t){var{config:e}=t,r=Be(t,["config"]);const n=()=>{localStorage.removeItem("sleek-wc")},i=Object.assign(Object.assign({},e),{onClose:()=>Ue(this,void 0,void 0,(function*(){n(),console.log(e.onClose),e.onClose&&(yield e.onClose())})),onError:t=>Ue(this,void 0,void 0,(function*(){n(),e.onClose&&(yield e.onClose()),e.onError&&(yield e.onError(t))})),onSuccess:t=>Ue(this,void 0,void 0,(function*(){n(),e.onClose&&(yield e.onClose()),e.onSuccess&&(yield e.onSuccess(t))}))}),[o]=function(t){var e=Xe(ze++,10),r=Qe();return e.__=t,qe.componentDidCatch||(qe.componentDidCatch=function(t){e.__&&e.__(t),r[1](t)}),[r[0],function(){r[1](void 0)}]}((t=>{i.onError(t)}));return o?null:d(On.Provider,{value:i},r.children)}const Pn=({children:t,maxPages:e})=>{const{activeRouteId:r}=An(),{onClose:n}=In();return d("div",{class:"flex items-center justify-center fixed top-0 left-0 w-full h-full z-[599998] bg-[#000000b3]"},d("div",{class:"relative flex flex-col bg-white rounded-3xl p-8 w-[380px] h-auto mx-14"},d("header",{class:"flex justify-between"},d("div",null,d("h2",{class:"text-xl font-bold text-stone-800"},"Sleek Pay"),d("p",{class:"text-sm text-gray-700"},"The easiest way to pay with crypto")),d("button",{class:"bg-gray-100 w-7 h-7 p-1 rounded-full flex items-center justify-center hover:bg-gray-200 transition-all",onClick:()=>n()},d(Sn,null))),d("main",{class:"flex-1 mb-auto flex flex-col justify-center py-5"},t),d("footer",{class:"flex justify-center mt-4"},Array.from({length:e},((t,e)=>d("div",{key:e,class:mn("w-2 h-2 bg-black rounded-full ml-1 mr-1",{"opacity-20":e>(r||0),"opacity-100":e<=r})}))))))};function Nn(t){return function(){const{account:t,library:e,chainId:r,error:n}=dn(),{goToRoute:i}=An();er((()=>t?n instanceof an?(console.debug("bad chain id"),i(0)):void 0:(console.debug("no account"),i(0))),[t,e,r])}(),t.children}var Ln=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):function(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Bn=new K("properties/5.5.0");function Un(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function jn(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Dn(t){return Ln(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}function Fn(t){const e={};for(const r in t)e[r]=t[r];return e}const zn={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function qn(t){if(null==t||zn[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch(t){continue}if(!qn(n))return!1}return!0}return Bn.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function Hn(t){if(qn(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>Wn(t))));if("object"==typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&Un(e,r,Wn(n))}return e}return Bn.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function Wn(t){return Hn(t)}class Gn{constructor(t){for(const e in t)this[e]=Wn(t[e])}}var Vn=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):function(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Kn=new K("abstract-provider/5.5.1");class $n extends Gn{static isForkEvent(t){return!(!t||!t._isForkEvent)}}class Zn{constructor(){Kn.checkAbstract(new.target,Zn),Un(this,"_isProvider",!0)}getFeeData(){return Vn(this,void 0,void 0,(function*(){const{block:t,gasPrice:e}=yield Dn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((t=>null))});let r=null,n=null;return t&&t.baseFeePerGas&&(n=Et.from("2500000000"),r=t.baseFeePerGas.mul(2).add(n)),{maxFeePerGas:r,maxPriorityFeePerGas:n,gasPrice:e}}))}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!(!t||!t._isProvider)}}const Jn=new K("networks/5.5.2");function Yn(t){const e=function(e,r){null==r&&(r={});const n=[];if(e.InfuraProvider)try{n.push(new e.InfuraProvider(t,r.infura))}catch(t){}if(e.EtherscanProvider)try{n.push(new e.EtherscanProvider(t,r.etherscan))}catch(t){}if(e.AlchemyProvider)try{n.push(new e.AlchemyProvider(t,r.alchemy))}catch(t){}if(e.PocketProvider){const r=["goerli","ropsten","rinkeby"];try{const i=new e.PocketProvider(t);i.network&&-1===r.indexOf(i.network.name)&&n.push(i)}catch(t){}}if(e.CloudflareProvider)try{n.push(new e.CloudflareProvider(t))}catch(t){}if(0===n.length)return null;if(e.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===t&&(i=2),new e.FallbackProvider(n,i)}return n[0]};return e.renetwork=function(t){return Yn(t)},e}function Xn(t,e){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return r.renetwork=function(e){return Xn(t,e)},r}const Qn={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Yn("homestead")},ti={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Yn("ropsten")},ei={chainId:63,name:"classicMordor",_defaultProvider:Xn("https://www.ethercluster.com/mordor","classicMordor")},ri={unspecified:{chainId:0,name:"unspecified"},homestead:Qn,mainnet:Qn,morden:{chainId:2,name:"morden"},ropsten:ti,testnet:ti,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Yn("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Yn("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Yn("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:Xn("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:ei,classicTestnet:ei,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Xn("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism"},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};class ni{constructor(t){Un(this,"alphabet",t),Un(this,"base",t.length),Un(this,"_alphabetMap",{}),Un(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=tt(t);if(0===e.length)return"";let r=[0];for(let t=0;t<e.length;++t){let n=e[t];for(let t=0;t<r.length;++t)n+=r[t]<<8,r[t]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let t=0;0===e[t]&&t<e.length-1;++t)n+=this._leader;for(let t=r.length-1;t>=0;--t)n+=this.alphabet[r[t]];return n}decode(t){if("string"!=typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let t=0;t<e.length;++t)i+=e[t]*this.base,e[t]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return tt(new Uint8Array(e.reverse()))}}new ni("abcdefghijklmnopqrstuvwxyz234567");const ii=new ni("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),oi=new K("strings/5.5.0");var si,ai;function ui(t,e,r,n,i){if(t===ai.BAD_PREFIX||t===ai.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===ai.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(si||(si={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(ai||(ai={}));const ci=Object.freeze({error:function(t,e,r,n,i){return oi.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:ui,replace:function(t,e,r,n,i){return t===ai.OVERLONG?(n.push(i),0):(n.push(65533),ui(t,e,r))}});function li(t,e){null==e&&(e=ci.error),t=tt(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if(192==(224&i))o=1,s=127;else if(224==(240&i))o=2,s=2047;else{if(240!=(248&i)){n+=e(128==(192&i)?ai.UNEXPECTED_CONTINUE:ai.BAD_PREFIX,n-1,t,r);continue}o=3,s=65535}if(n-1+o>=t.length){n+=e(ai.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let i=0;i<o;i++){let i=t[n];if(128!=(192&i)){n+=e(ai.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e(ai.OUT_OF_RANGE,n-1-o,t,r,a):a>=55296&&a<=57343?n+=e(ai.UTF16_SURROGATE,n-1-o,t,r,a):a<=s?n+=e(ai.OVERLONG,n-1-o,t,r,a):r.push(a))}return r}function hi(t,e=si.current){e!=si.current&&(oi.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const i=t.charCodeAt(e);if(e>=t.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return tt(r)}function fi(t){return t.map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function di(t,e){return fi(li(t,e))}function pi(t,e=si.current){return li(hi(t,e))}function mi(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,n={};return t.split(",").forEach((t=>{let i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function gi(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:n,h:e}}))}function yi(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(t-r))continue;return i}}return null}const vi=gi("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),_i="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),bi=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],wi=mi("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Ei=mi("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),xi=mi("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),Si=gi("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Mi(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=pi(t);var r;r=e.map((t=>{if(_i.indexOf(t)>=0)return[];if(t>=65024&&t<=65039)return[];let e=function(t){let e=yi(t,bi);if(e)return[t+e.s];let r=wi[t];if(r)return r;let n=Ei[t];return n?[t+n[0]]:xi[t]||null}(t);return e||[t]})),e=r.reduce(((t,e)=>(e.forEach((e=>{t.push(e)})),t)),[]),e=pi(fi(e),si.NFKC),e.forEach((t=>{if(yi(t,Si))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),e.forEach((t=>{if(yi(t,vi))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let n=fi(e);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");if(n.length>63)throw new Error("too long");return n}function ki(t){return de(hi(t))}const Ai="hash/5.5.0",Ri=new K(Ai),Ti=new Uint8Array(32);Ti.fill(0);const Oi=new RegExp("^((.*)\\.)?([^.]+)$");function Ii(t){"string"!=typeof t&&Ri.throwArgumentError("invalid ENS name; not a string","name",t);let e=t,r=Ti;for(;e.length;){const n=e.match(Oi);null!=n&&""!==n[2]||Ri.throwArgumentError("invalid ENS address; missing component","name",t);r=de(et([r,de(hi(Mi(n[3])))])),e=n[2]||""}return ot(r)}var Ci=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):function(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Pi=new K(Ai),Ni=new Uint8Array(32);Ni.fill(0);const Li=Et.from(-1),Bi=Et.from(0),Ui=Et.from(1),ji=Et.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Di=lt(Ui.toHexString(),32),Fi=lt(Bi.toHexString(),32),zi={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},qi=["name","version","chainId","verifyingContract","salt"];function Hi(t){return function(e){return"string"!=typeof e&&Pi.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Wi={name:Hi("name"),version:Hi("version"),chainId:function(t){try{return Et.from(t).toString()}catch(t){}return Pi.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return ke(t).toLowerCase()}catch(t){}return Pi.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=tt(t);if(32!==e.length)throw new Error("bad length");return ot(e)}catch(t){}return Pi.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Gi(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],n=parseInt(e[2]||"256");(n%8!=0||n>256||e[2]&&e[2]!==String(n))&&Pi.throwArgumentError("invalid numeric width","type",t);const i=ji.mask(r?n-1:n),o=r?i.add(Ui).mul(Li):Bi;return function(e){const r=Et.from(e);return(r.lt(o)||r.gt(i))&&Pi.throwArgumentError(`value out-of-bounds for ${t}`,"value",e),lt(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(0===r||r>32||e[1]!==String(r))&&Pi.throwArgumentError("invalid bytes width","type",t),function(e){return tt(e).length!==r&&Pi.throwArgumentError(`invalid length for ${t}`,"value",e),function(t){const e=tt(t),r=e.length%32;return r?ut([e,Ni.slice(r)]):ot(e)}(e)}}}switch(t){case"address":return function(t){return lt(ke(t),32)};case"bool":return function(t){return t?Di:Fi};case"bytes":return function(t){return de(t)};case"string":return function(t){return ki(t)}}return null}function Vi(t,e){return`${t}(${e.map((({name:t,type:e})=>e+" "+t)).join(",")})`}class Ki{constructor(t){Un(this,"types",Object.freeze(Wn(t))),Un(this,"_encoderCache",{}),Un(this,"_types",{});const e={},r={},n={};Object.keys(t).forEach((t=>{e[t]={},r[t]=[],n[t]={}}));for(const n in t){const i={};t[n].forEach((o=>{i[o.name]&&Pi.throwArgumentError(`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(n)}`,"types",t),i[o.name]=!0;const s=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===n&&Pi.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",t);Gi(s)||(r[s]||Pi.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",t),r[s].push(n),e[n][s]=!0)}))}const i=Object.keys(r).filter((t=>0===r[t].length));0===i.length?Pi.throwArgumentError("missing primary type","types",t):i.length>1&&Pi.throwArgumentError(`ambiguous primary types or unused types: ${i.map((t=>JSON.stringify(t))).join(", ")}`,"types",t),Un(this,"primaryType",i[0]),function i(o,s){s[o]&&Pi.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",t),s[o]=!0,Object.keys(e[o]).forEach((t=>{r[t]&&(i(t,s),Object.keys(s).forEach((e=>{n[e][t]=!0})))})),delete s[o]}(this.primaryType,{});for(const e in n){const r=Object.keys(n[e]);r.sort(),this._types[e]=Vi(e,t[e])+r.map((e=>Vi(e,t[e]))).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=Gi(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),n=parseInt(e[3]);return e=>{n>=0&&e.length!==n&&Pi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let i=e.map(r);return this._types[t]&&(i=i.map(de)),de(ut(i))}}const r=this.types[t];if(r){const e=ki(this._types[t]);return t=>{const n=r.map((({name:e,type:r})=>{const n=this.getEncoder(r)(t[e]);return this._types[r]?de(n):n}));return n.unshift(e),ut(n)}}return Pi.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){const e=this._types[t];return e||Pi.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return de(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(Gi(t))return r(t,e);const n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const t=n[1],i=parseInt(n[3]);return i>=0&&e.length!==i&&Pi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((e=>this._visit(t,e,r)))}const i=this.types[t];return i?i.reduce(((t,{name:n,type:i})=>(t[n]=this._visit(i,e[n],r),t)),{}):Pi.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new Ki(t)}static getPrimaryType(t){return Ki.from(t).primaryType}static hashStruct(t,e,r){return Ki.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const n=zi[r];n||Pi.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:n})}return e.sort(((t,e)=>qi.indexOf(t.name)-qi.indexOf(e.name))),Ki.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return ut(["0x1901",Ki.hashDomain(t),Ki.from(e).hash(r)])}static hash(t,e,r){return de(Ki.encode(t,e,r))}static resolveNames(t,e,r,n){return Ci(this,void 0,void 0,(function*(){t=Fn(t);const i={};t.verifyingContract&&!nt(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const o=Ki.from(e);o.visit(r,((t,e)=>("address"!==t||nt(e,20)||(i[e]="0x"),e)));for(const t in i)i[t]=yield n(t);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),r=o.visit(r,((t,e)=>"address"===t&&i[e]?i[e]:e)),{domain:t,value:r}}))}static getPayload(t,e,r){Ki.hashDomain(t);const n={},i=[];qi.forEach((e=>{const r=t[e];null!=r&&(n[e]=Wi[e](r),i.push({name:e,type:zi[e]}))}));const o=Ki.from(e),s=Fn(e);return s.EIP712Domain?Pi.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return ot(tt(e));if(t.match(/^u?int/))return Et.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!=typeof e&&Pi.throwArgumentError("invalid string","value",e),e}return Pi.throwArgumentError("unsupported type","type",t)}))}}}var $i={},Zi={},Ji=Yi;function Yi(t,e){if(!t)throw new Error(e||"Assertion failed")}Yi.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var Xi={exports:{}},Qi={exports:{}};"function"==typeof Object.create?Qi.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Qi.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};try{var to=require("util");if("function"!=typeof to.inherits)throw"";Xi.exports=to.inherits}catch(WR){Xi.exports=Qi.exports}var eo=Ji,ro=Xi.exports;function no(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function io(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function oo(t){return 1===t.length?"0"+t:t}function so(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}Zi.inherits=ro,Zi.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):no(t,i)?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},Zi.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=oo(t[r].toString(16));return e},Zi.htonl=io,Zi.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=io(i)),r+=so(i.toString(16))}return r},Zi.zero2=oo,Zi.zero8=so,Zi.join32=function(t,e,r,n){var i=r-e;eo(i%4==0);for(var o=new Array(i/4),s=0,a=e;s<o.length;s++,a+=4){var u;u="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],o[s]=u>>>0}return o},Zi.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},Zi.rotr32=function(t,e){return t>>>e|t<<32-e},Zi.rotl32=function(t,e){return t<<e|t>>>32-e},Zi.sum32=function(t,e){return t+e>>>0},Zi.sum32_3=function(t,e,r){return t+e+r>>>0},Zi.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},Zi.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},Zi.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o},Zi.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},Zi.sum64_lo=function(t,e,r,n){return e+n>>>0},Zi.sum64_4_hi=function(t,e,r,n,i,o,s,a){var u=0,c=e;return u+=(c=c+n>>>0)<e?1:0,u+=(c=c+o>>>0)<o?1:0,t+r+i+s+(u+=(c=c+a>>>0)<a?1:0)>>>0},Zi.sum64_4_lo=function(t,e,r,n,i,o,s,a){return e+n+o+a>>>0},Zi.sum64_5_hi=function(t,e,r,n,i,o,s,a,u,c){var l=0,h=e;return l+=(h=h+n>>>0)<e?1:0,l+=(h=h+o>>>0)<o?1:0,l+=(h=h+a>>>0)<a?1:0,t+r+i+s+u+(l+=(h=h+c>>>0)<c?1:0)>>>0},Zi.sum64_5_lo=function(t,e,r,n,i,o,s,a,u,c){return e+n+o+a+c>>>0},Zi.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},Zi.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},Zi.shr64_hi=function(t,e,r){return t>>>r},Zi.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var ao={},uo=Zi,co=Ji;function lo(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}ao.BlockHash=lo,lo.prototype.update=function(t,e){if(t=uo.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=uo.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},lo.prototype.digest=function(t){return this.update(this._pad()),co(null===this.pending),this._digest(t)},lo.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var ho={},fo={},po=Zi.rotr32;function mo(t,e,r){return t&e^~t&r}function go(t,e,r){return t&e^t&r^e&r}function yo(t,e,r){return t^e^r}fo.ft_1=function(t,e,r,n){return 0===t?mo(e,r,n):1===t||3===t?yo(e,r,n):2===t?go(e,r,n):void 0},fo.ch32=mo,fo.maj32=go,fo.p32=yo,fo.s0_256=function(t){return po(t,2)^po(t,13)^po(t,22)},fo.s1_256=function(t){return po(t,6)^po(t,11)^po(t,25)},fo.g0_256=function(t){return po(t,7)^po(t,18)^t>>>3},fo.g1_256=function(t){return po(t,17)^po(t,19)^t>>>10};var vo=Zi,_o=ao,bo=fo,wo=vo.rotl32,Eo=vo.sum32,xo=vo.sum32_5,So=bo.ft_1,Mo=_o.BlockHash,ko=[1518500249,1859775393,2400959708,3395469782];function Ao(){if(!(this instanceof Ao))return new Ao;Mo.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}vo.inherits(Ao,Mo);var Ro=Ao;Ao.blockSize=512,Ao.outSize=160,Ao.hmacStrength=80,Ao.padLength=64,Ao.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=wo(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),l=xo(wo(i,5),So(c,o,s,a),u,r[n],ko[c]);u=a,a=s,s=wo(o,30),o=i,i=l}this.h[0]=Eo(this.h[0],i),this.h[1]=Eo(this.h[1],o),this.h[2]=Eo(this.h[2],s),this.h[3]=Eo(this.h[3],a),this.h[4]=Eo(this.h[4],u)},Ao.prototype._digest=function(t){return"hex"===t?vo.toHex32(this.h,"big"):vo.split32(this.h,"big")};var To=Zi,Oo=ao,Io=fo,Co=Ji,Po=To.sum32,No=To.sum32_4,Lo=To.sum32_5,Bo=Io.ch32,Uo=Io.maj32,jo=Io.s0_256,Do=Io.s1_256,Fo=Io.g0_256,zo=Io.g1_256,qo=Oo.BlockHash,Ho=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Wo(){if(!(this instanceof Wo))return new Wo;qo.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Ho,this.W=new Array(64)}To.inherits(Wo,qo);var Go=Wo;Wo.blockSize=512,Wo.outSize=256,Wo.hmacStrength=192,Wo.padLength=64,Wo.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=No(zo(r[n-2]),r[n-7],Fo(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],l=this.h[6],h=this.h[7];for(Co(this.k.length===r.length),n=0;n<r.length;n++){var f=Lo(h,Do(u),Bo(u,c,l),this.k[n],r[n]),d=Po(jo(i),Uo(i,o,s));h=l,l=c,c=u,u=Po(a,f),a=s,s=o,o=i,i=Po(f,d)}this.h[0]=Po(this.h[0],i),this.h[1]=Po(this.h[1],o),this.h[2]=Po(this.h[2],s),this.h[3]=Po(this.h[3],a),this.h[4]=Po(this.h[4],u),this.h[5]=Po(this.h[5],c),this.h[6]=Po(this.h[6],l),this.h[7]=Po(this.h[7],h)},Wo.prototype._digest=function(t){return"hex"===t?To.toHex32(this.h,"big"):To.split32(this.h,"big")};var Vo=Zi,Ko=Go;function $o(){if(!(this instanceof $o))return new $o;Ko.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Vo.inherits($o,Ko);var Zo=$o;$o.blockSize=512,$o.outSize=224,$o.hmacStrength=192,$o.padLength=64,$o.prototype._digest=function(t){return"hex"===t?Vo.toHex32(this.h.slice(0,7),"big"):Vo.split32(this.h.slice(0,7),"big")};var Jo=Zi,Yo=ao,Xo=Ji,Qo=Jo.rotr64_hi,ts=Jo.rotr64_lo,es=Jo.shr64_hi,rs=Jo.shr64_lo,ns=Jo.sum64,is=Jo.sum64_hi,os=Jo.sum64_lo,ss=Jo.sum64_4_hi,as=Jo.sum64_4_lo,us=Jo.sum64_5_hi,cs=Jo.sum64_5_lo,ls=Yo.BlockHash,hs=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function fs(){if(!(this instanceof fs))return new fs;ls.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=hs,this.W=new Array(160)}Jo.inherits(fs,ls);var ds=fs;function ps(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function ms(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function gs(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function ys(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function vs(t,e){var r=Qo(t,e,28)^Qo(e,t,2)^Qo(e,t,7);return r<0&&(r+=4294967296),r}function _s(t,e){var r=ts(t,e,28)^ts(e,t,2)^ts(e,t,7);return r<0&&(r+=4294967296),r}function bs(t,e){var r=Qo(t,e,14)^Qo(t,e,18)^Qo(e,t,9);return r<0&&(r+=4294967296),r}function ws(t,e){var r=ts(t,e,14)^ts(t,e,18)^ts(e,t,9);return r<0&&(r+=4294967296),r}function Es(t,e){var r=Qo(t,e,1)^Qo(t,e,8)^es(t,e,7);return r<0&&(r+=4294967296),r}function xs(t,e){var r=ts(t,e,1)^ts(t,e,8)^rs(t,e,7);return r<0&&(r+=4294967296),r}function Ss(t,e){var r=Qo(t,e,19)^Qo(e,t,29)^es(t,e,6);return r<0&&(r+=4294967296),r}function Ms(t,e){var r=ts(t,e,19)^ts(e,t,29)^rs(t,e,6);return r<0&&(r+=4294967296),r}fs.blockSize=1024,fs.outSize=512,fs.hmacStrength=192,fs.padLength=128,fs.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=Ss(r[n-4],r[n-3]),o=Ms(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=Es(r[n-30],r[n-29]),c=xs(r[n-30],r[n-29]),l=r[n-32],h=r[n-31];r[n]=ss(i,o,s,a,u,c,l,h),r[n+1]=as(i,o,s,a,u,c,l,h)}},fs.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7],h=this.h[8],f=this.h[9],d=this.h[10],p=this.h[11],m=this.h[12],g=this.h[13],y=this.h[14],v=this.h[15];Xo(this.k.length===r.length);for(var _=0;_<r.length;_+=2){var b=y,w=v,E=bs(h,f),x=ws(h,f),S=ps(h,f,d,p,m),M=ms(h,f,d,p,m,g),k=this.k[_],A=this.k[_+1],R=r[_],T=r[_+1],O=us(b,w,E,x,S,M,k,A,R,T),I=cs(b,w,E,x,S,M,k,A,R,T);b=vs(n,i),w=_s(n,i),E=gs(n,i,o,s,a),x=ys(n,i,o,s,a,u);var C=is(b,w,E,x),P=os(b,w,E,x);y=m,v=g,m=d,g=p,d=h,p=f,h=is(c,l,O,I),f=os(l,l,O,I),c=a,l=u,a=o,u=s,o=n,s=i,n=is(O,I,C,P),i=os(O,I,C,P)}ns(this.h,0,n,i),ns(this.h,2,o,s),ns(this.h,4,a,u),ns(this.h,6,c,l),ns(this.h,8,h,f),ns(this.h,10,d,p),ns(this.h,12,m,g),ns(this.h,14,y,v)},fs.prototype._digest=function(t){return"hex"===t?Jo.toHex32(this.h,"big"):Jo.split32(this.h,"big")};var ks=Zi,As=ds;function Rs(){if(!(this instanceof Rs))return new Rs;As.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ks.inherits(Rs,As);var Ts=Rs;Rs.blockSize=1024,Rs.outSize=384,Rs.hmacStrength=192,Rs.padLength=128,Rs.prototype._digest=function(t){return"hex"===t?ks.toHex32(this.h.slice(0,12),"big"):ks.split32(this.h.slice(0,12),"big")},ho.sha1=Ro,ho.sha224=Zo,ho.sha256=Go,ho.sha384=Ts,ho.sha512=ds;var Os={},Is=Zi,Cs=ao,Ps=Is.rotl32,Ns=Is.sum32,Ls=Is.sum32_3,Bs=Is.sum32_4,Us=Cs.BlockHash;function js(){if(!(this instanceof js))return new js;Us.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function Ds(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function Fs(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function zs(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Is.inherits(js,Us),Os.ripemd160=js,js.blockSize=512,js.outSize=160,js.hmacStrength=192,js.padLength=64,js.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],s=this.h[4],a=r,u=n,c=i,l=o,h=s,f=0;f<80;f++){var d=Ns(Ps(Bs(r,Ds(f,n,i,o),t[qs[f]+e],Fs(f)),Ws[f]),s);r=s,s=o,o=Ps(i,10),i=n,n=d,d=Ns(Ps(Bs(a,Ds(79-f,u,c,l),t[Hs[f]+e],zs(f)),Gs[f]),h),a=h,h=l,l=Ps(c,10),c=u,u=d}d=Ls(this.h[1],i,l),this.h[1]=Ls(this.h[2],o,h),this.h[2]=Ls(this.h[3],s,a),this.h[3]=Ls(this.h[4],r,u),this.h[4]=Ls(this.h[0],n,c),this.h[0]=d},js.prototype._digest=function(t){return"hex"===t?Is.toHex32(this.h,"little"):Is.split32(this.h,"little")};var qs=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Hs=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ws=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Gs=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Vs=Zi,Ks=Ji;function $s(t,e,r){if(!(this instanceof $s))return new $s(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Vs.toArray(e,r))}var Zs=$s;$s.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),Ks(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},$s.prototype.update=function(t,e){return this.inner.update(t,e),this},$s.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=Zi,e.common=ao,e.sha=ho,e.ripemd=Os,e.hmac=Zs,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}($i);function Js(t){return"0x"+$i.sha256().update(tt(t)).digest("hex")}function Ys(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return tt(e)}function Xs(t){t=tt(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}new K("sha2/5.5.0");var Qs=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):function(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(s,a)}u((n=n.apply(t,e||[])).next())}))};function ta(t,e){return Qs(this,void 0,void 0,(function*(){null==e&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};!0!==e.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client");const n=yield fetch(t,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach(((t,e)=>{o[e.toLowerCase()]=t})):n.headers.keys().forEach((t=>{o[t.toLowerCase()]=n.headers.get(t)})),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:tt(new Uint8Array(i))}}))}var ea=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):function(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const ra=new K("web/5.5.1");function na(t){return new Promise((e=>{setTimeout(e,t)}))}function ia(t,e){if(null==t)return null;if("string"==typeof t)return t;if(Y(t)){if(e&&("text"===e.split("/")[0]||"application/json"===e.split(";")[0].trim()))try{return di(t)}catch(t){}return ot(t)}return t}function oa(t,e,r){let n=null;if(null!=e){n=hi(e);const r="string"==typeof t?{url:t}:Fn(t);if(r.headers){const t=0!==Object.keys(r.headers).filter((t=>"content-type"===t.toLowerCase())).length;t||(r.headers=Fn(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};t=r}return function(t,e,r){const n="object"==typeof t&&null!=t.throttleLimit?t.throttleLimit:12;ra.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);const i="object"==typeof t?t.throttleCallback:null,o="object"==typeof t&&"number"==typeof t.throttleSlotInterval?t.throttleSlotInterval:100;ra.assertArgument(o>0&&o%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s={};let a=null;const u={method:"GET"};let c=!1,l=12e4;if("string"==typeof t)a=t;else if("object"==typeof t){if(null!=t&&null!=t.url||ra.throwArgumentError("missing URL","connection.url",t),a=t.url,"number"==typeof t.timeout&&t.timeout>0&&(l=t.timeout),t.headers)for(const e in t.headers)s[e.toLowerCase()]={key:e,value:String(t.headers[e])},["if-none-match","if-modified-since"].indexOf(e.toLowerCase())>=0&&(c=!0);if(u.allowGzip=!!t.allowGzip,null!=t.user&&null!=t.password){"https:"!==a.substring(0,6)&&!0!==t.allowInsecureAuthentication&&ra.throwError("basic authentication requires a secure https url",K.errors.INVALID_ARGUMENT,{argument:"url",url:a,user:t.user,password:"[REDACTED]"});const e=t.user+":"+t.password;s.authorization={key:"Authorization",value:"Basic "+Xs(hi(e))}}}const h=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),f=a?a.match(h):null;if(f)try{const t={statusCode:200,statusMessage:"OK",headers:{"content-type":f[1]},body:Ys(f[2])};let e=t.body;return r&&(e=r(t.body,t)),Promise.resolve(e)}catch(t){ra.throwError("processing response error",K.errors.SERVER_ERROR,{body:ia(f[1],f[2]),error:t,requestBody:null,requestMethod:"GET",url:a})}e&&(u.method="POST",u.body=e,null==s["content-type"]&&(s["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==s["content-length"]&&(s["content-length"]={key:"Content-Length",value:String(e.length)}));const d={};Object.keys(s).forEach((t=>{const e=s[t];d[e.key]=e.value})),u.headers=d;const p=function(){let t=null;return{promise:new Promise((function(e,r){l&&(t=setTimeout((()=>{null!=t&&(t=null,r(ra.makeError("timeout",K.errors.TIMEOUT,{requestBody:ia(u.body,d["content-type"]),requestMethod:u.method,timeout:l,url:a})))}),l))})),cancel:function(){null!=t&&(clearTimeout(t),t=null)}}}(),m=function(){return ea(this,void 0,void 0,(function*(){for(let t=0;t<n;t++){let e=null;try{if(e=yield ta(a,u),t<n)if(301===e.statusCode||302===e.statusCode){const t=e.headers.location||"";if("GET"===u.method&&t.match(/^https:/)){a=e.headers.location;continue}}else if(429===e.statusCode){let r=!0;if(i&&(r=yield i(t,a)),r){let r=0;const n=e.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,t))),yield na(r);continue}}}catch(t){e=t.response,null==e&&(p.cancel(),ra.throwError("missing response",K.errors.SERVER_ERROR,{requestBody:ia(u.body,d["content-type"]),requestMethod:u.method,serverError:t,url:a}))}let s=e.body;if(c&&304===e.statusCode?s=null:(e.statusCode<200||e.statusCode>=300)&&(p.cancel(),ra.throwError("bad response",K.errors.SERVER_ERROR,{status:e.statusCode,headers:e.headers,body:ia(s,e.headers?e.headers["content-type"]:null),requestBody:ia(u.body,d["content-type"]),requestMethod:u.method,url:a})),r)try{const t=yield r(s,e);return p.cancel(),t}catch(r){if(r.throttleRetry&&t<n){let e=!0;if(i&&(e=yield i(t,a)),e){const e=o*parseInt(String(Math.random()*Math.pow(2,t)));yield na(e);continue}}p.cancel(),ra.throwError("processing response error",K.errors.SERVER_ERROR,{body:ia(s,e.headers?e.headers["content-type"]:null),error:r,requestBody:ia(u.body,d["content-type"]),requestMethod:u.method,url:a})}return p.cancel(),s}return ra.throwError("failed response",K.errors.SERVER_ERROR,{requestBody:ia(u.body,d["content-type"]),requestMethod:u.method,url:a})}))}();return Promise.race([p.promise,m])}(t,n,((t,e)=>{let n=null;if(null!=t)try{n=JSON.parse(di(t))}catch(e){ra.throwError("invalid JSON",K.errors.SERVER_ERROR,{body:t,error:e})}return r&&(n=r(n,e)),n}))}function sa(t,e){return e||(e={}),null==(e=Fn(e)).floor&&(e.floor=0),null==e.ceiling&&(e.ceiling=1e4),null==e.interval&&(e.interval=250),new Promise((function(r,n){let i=null,o=!1;const s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout((()=>{s()&&n(new Error("timeout"))}),e.timeout));const a=e.retryLimit;let u=0;!function i(){return t().then((function(t){if(void 0!==t)s()&&r(t);else if(e.oncePoll)e.oncePoll.once("poll",i);else if(e.onceBlock)e.onceBlock.once("block",i);else if(!o){if(u++,u>a)return void(s()&&n(new Error("retry limit reached")));let t=e.interval*parseInt(String(Math.random()*Math.pow(2,u)));t<e.floor&&(t=e.floor),t>e.ceiling&&(t=e.ceiling),setTimeout(i,t)}return null}),(function(t){s()&&n(t)}))}()}))}for(var aa="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ua={},ca=0;ca<aa.length;ca++){var la=aa.charAt(ca);if(void 0!==ua[la])throw new TypeError(la+" is ambiguous");ua[la]=ca}function ha(t){var e=t>>25;return(33554431&t)<<5^996825010&-(e>>0&1)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function fa(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=ha(e)^n>>5}for(e=ha(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=ha(e)^31&i}return e}function da(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;var i=(t=r).lastIndexOf("1");if(-1===i)return"No separator character for "+t;if(0===i)return"Missing prefix for "+t;var o=t.slice(0,i),s=t.slice(i+1);if(s.length<6)return"Data too short";var a=fa(o);if("string"==typeof a)return a;for(var u=[],c=0;c<s.length;++c){var l=s.charAt(c),h=ua[l];if(void 0===h)return"Unknown character "+l;a=ha(a)^h,c+6>=s.length||u.push(h)}return 1!==a?"Invalid checksum for "+t:{prefix:o,words:u}}function pa(t,e,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],u=0;u<t.length;++u)for(i=i<<e|t[u],o+=e;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=e)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}var ma={decodeUnsafe:function(){var t=da.apply(null,arguments);if("object"==typeof t)return t},decode:function(t){var e=da.apply(null,arguments);if("object"==typeof e)return e;throw new Error(e)},encode:function(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");var n=fa(t=t.toLowerCase());if("string"==typeof n)throw new Error(n);for(var i=t+"1",o=0;o<e.length;++o){var s=e[o];if(s>>5!=0)throw new Error("Non 5-bit word");n=ha(n)^s,i+=aa.charAt(s)}for(o=0;o<6;++o)n=ha(n);for(n^=1,o=0;o<6;++o){i+=aa.charAt(n>>5*(5-o)&31)}return i},toWordsUnsafe:function(t){var e=pa(t,8,5,!0);if(Array.isArray(e))return e},toWords:function(t){var e=pa(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)},fromWordsUnsafe:function(t){var e=pa(t,5,8,!1);if(Array.isArray(e))return e},fromWords:function(t){var e=pa(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}};const ga="providers/5.5.3";function ya(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},t(r,r.exports),r.exports}var va=_a;function _a(t,e){if(!t)throw new Error(e||"Assertion failed")}_a.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var ba=ya((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),wa=ya((function(t,e){var r=e;r.assert=va,r.toArray=ba.toArray,r.zero2=ba.zero2,r.toHex=ba.toHex,r.encode=ba.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,u=t.andln(3)+i&3,c=e.andln(3)+o&3;3===u&&(u=-1),3===c&&(c=-1),s=0==(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[0].push(s),a=0==(1&c)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==u?c:-c,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new mt(t,"hex","le")}})),Ea=wa.getNAF,xa=wa.getJSF,Sa=wa.assert;function Ma(t,e){this.type=t,this.p=new mt(e.p,16),this.red=e.prime?mt.red(e.prime):mt.mont(this.p),this.zero=new mt(0).toRed(this.red),this.one=new mt(1).toRed(this.red),this.two=new mt(2).toRed(this.red),this.n=e.n&&new mt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ka=Ma;function Aa(t,e){this.curve=t,this.type=e,this.precomputed=null}Ma.prototype.point=function(){throw new Error("Not implemented")},Ma.prototype.validate=function(){throw new Error("Not implemented")},Ma.prototype._fixedNafMul=function(t,e){Sa(t.precomputed);var r=t._getDoubles(),n=Ea(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=i;h>0;h--){for(o=0;o<a.length;o++)(s=a[o])===h?l=l.mixedAdd(r.points[o]):s===-h&&(l=l.mixedAdd(r.points[o].neg()));c=c.add(l)}return c.toP()},Ma.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=Ea(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var c=o[a];Sa(0!==c),s="affine"===t.type?c>0?s.mixedAdd(i[c-1>>1]):s.mixedAdd(i[-c-1>>1].neg()):c>0?s.add(i[c-1>>1]):s.add(i[-c-1>>1].neg())}return"affine"===t.type?s.toP():s},Ma.prototype._wnafMulAdd=function(t,e,r,n,i){var o,s,a,u=this._wnafT1,c=this._wnafT2,l=this._wnafT3,h=0;for(o=0;o<n;o++){var f=(a=e[o])._getNAFPoints(t);u[o]=f.wnd,c[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=xa(r[d],r[p]);for(h=Math.max(y[0].length,h),l[d]=new Array(h),l[p]=new Array(h),s=0;s<h;s++){var v=0|y[0][s],_=0|y[1][s];l[d][s]=g[3*(v+1)+(_+1)],l[p][s]=0,c[d]=m}}else l[d]=Ea(r[d],u[d],this._bitLength),l[p]=Ea(r[p],u[p],this._bitLength),h=Math.max(l[d].length,h),h=Math.max(l[p].length,h)}var b=this.jpoint(null,null,null),w=this._wnafT4;for(o=h;o>=0;o--){for(var E=0;o>=0;){var x=!0;for(s=0;s<n;s++)w[s]=0|l[s][o],0!==w[s]&&(x=!1);if(!x)break;E++,o--}if(o>=0&&E++,b=b.dblp(E),o<0)break;for(s=0;s<n;s++){var S=w[s];0!==S&&(S>0?a=c[s][S-1>>1]:S<0&&(a=c[s][-S-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<n;o++)c[o]=null;return i?b:b.toP()},Ma.BasePoint=Aa,Aa.prototype.eq=function(){throw new Error("Not implemented")},Aa.prototype.validate=function(){return this.curve.validate(this)},Ma.prototype.decodePoint=function(t,e){t=wa.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?Sa(t[t.length-1]%2==0):7===t[0]&&Sa(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},Aa.prototype.encodeCompressed=function(t){return this.encode(t,!0)},Aa.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},Aa.prototype.encode=function(t,e){return wa.encode(this._encode(e),t)},Aa.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},Aa.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},Aa.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},Aa.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},Aa.prototype._getBeta=function(){return null},Aa.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var Ra=ya((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),Ta=wa.assert;function Oa(t){ka.call(this,"short",t),this.a=new mt(t.a,16).toRed(this.red),this.b=new mt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ra(Oa,ka);var Ia=Oa;function Ca(t,e,r,n){ka.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new mt(e,16),this.y=new mt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Pa(t,e,r,n){ka.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new mt(0)):(this.x=new mt(e,16),this.y=new mt(r,16),this.z=new mt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Oa.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new mt(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new mt(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],Ta(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new mt(t.a,16),b:new mt(t.b,16)}})):this._getEndoBasis(r)}}},Oa.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:mt.mont(t),r=new mt(2).toRed(e).redInvm(),n=r.redNeg(),i=new mt(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Oa.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,s,a,u,c,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,f=this.n.clone(),d=new mt(1),p=new mt(0),m=new mt(0),g=new mt(1),y=0;0!==h.cmpn(0);){var v=f.div(h);u=f.sub(v.mul(h)),c=m.sub(v.mul(d));var _=g.sub(v.mul(p));if(!n&&u.cmp(l)<0)e=a.neg(),r=d,n=u.neg(),i=c;else if(n&&2==++y)break;a=u,f=h,h=u,m=d,d=c,g=p,p=_}o=u.neg(),s=c;var b=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},Oa.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),c=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(c).neg()}},Oa.prototype.pointFromX=function(t,e){(t=new mt(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},Oa.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Oa.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var c=this._wnafMulAdd(1,n,i,2*o,r),l=0;l<2*o;l++)n[l]=null,i[l]=null;return c},Ra(Ca,ka.BasePoint),Oa.prototype.point=function(t,e,r){return new Ca(this,t,e,r)},Oa.prototype.pointFromJSON=function(t,e){return Ca.fromJSON(this,t,e)},Ca.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},Ca.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Ca.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Ca.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Ca.prototype.isInfinity=function(){return this.inf},Ca.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Ca.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},Ca.prototype.getX=function(){return this.x.fromRed()},Ca.prototype.getY=function(){return this.y.fromRed()},Ca.prototype.mul=function(t){return t=new mt(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Ca.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Ca.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Ca.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},Ca.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},Ca.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Ra(Pa,ka.BasePoint),Oa.prototype.jpoint=function(t,e,r){return new Pa(this,t,e,r)},Pa.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},Pa.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Pa.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),l=c.redMul(a),h=n.redMul(c),f=u.redSqr().redIAdd(l).redISub(h).redISub(h),d=u.redMul(h.redISub(f)).redISub(o.redMul(l)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},Pa.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),c=u.redMul(s),l=r.redMul(u),h=a.redSqr().redIAdd(c).redISub(l).redISub(l),f=a.redMul(l.redISub(h)).redISub(i.redMul(c)),d=this.z.redMul(s);return this.curve.jpoint(h,f,d)},Pa.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),c=s.redAdd(s);for(e=0;e<t;e++){var l=o.redSqr(),h=c.redSqr(),f=h.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),p=o.redMul(h),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=d.redMul(g);y=y.redIAdd(y).redISub(f);var v=c.redMul(a);e+1<t&&(u=u.redMul(f)),o=m,a=v,c=y}return this.curve.jpoint(o,c.redMul(i),a)},Pa.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Pa.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=u,e=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(l).redISub(f);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},Pa.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var g=h.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},Pa.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),c=(u=u.redIAdd(u)).redMul(s),l=a.redSqr().redISub(c.redAdd(c)),h=c.redISub(l),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,d,p)},Pa.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),l=e.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.x.redMul(a).redISub(l);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(c.redMul(u.redISub(c)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,f,d)},Pa.prototype.mul=function(t,e){return t=new mt(t,e),this.curve._wnafMul(this,t)},Pa.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},Pa.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Pa.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Pa.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Na=ya((function(t,e){var r=e;r.base=ka,r.short=Ia,r.mont=null,r.edwards=null})),La=ya((function(t,e){var r,n=e,i=wa.assert;function o(t){"short"===t.type?this.curve=new Na.short(t):"edwards"===t.type?this.curve=new Na.edwards(t):this.curve=new Na.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:$i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:$i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:$i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:$i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:$i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$i.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(t){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:$i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Ba(t){if(!(this instanceof Ba))return new Ba(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ba.toArray(t.entropy,t.entropyEnc||"hex"),r=ba.toArray(t.nonce,t.nonceEnc||"hex"),n=ba.toArray(t.pers,t.persEnc||"hex");va(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Ua=Ba;Ba.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Ba.prototype._hmac=function(){return new $i.hmac(this.hash,this.K)},Ba.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},Ba.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=ba.toArray(t,e),r=ba.toArray(r,n),va(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},Ba.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=ba.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,ba.encode(o,e)};var ja=wa.assert;function Da(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Fa=Da;Da.fromPublic=function(t,e,r){return e instanceof Da?e:new Da(t,{pub:e,pubEnc:r})},Da.fromPrivate=function(t,e,r){return e instanceof Da?e:new Da(t,{priv:e,privEnc:r})},Da.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Da.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Da.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},Da.prototype._importPrivate=function(t,e){this.priv=new mt(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},Da.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?ja(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||ja(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},Da.prototype.derive=function(t){return t.validate()||ja(t.validate(),"public point not validated"),t.mul(this.priv).getX()},Da.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},Da.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},Da.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var za=wa.assert;function qa(t,e){if(t instanceof qa)return t;this._importDER(t,e)||(za(t.r&&t.s,"Signature without r or s"),this.r=new mt(t.r,16),this.s=new mt(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Ha=qa;function Wa(){this.place=0}function Ga(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function Va(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Ka(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}qa.prototype._importDER=function(t,e){t=wa.toArray(t,e);var r=new Wa;if(48!==t[r.place++])return!1;var n=Ga(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=Ga(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var s=Ga(t,r);if(!1===s)return!1;if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new mt(o),this.s=new mt(a),this.recoveryParam=null,!0},qa.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Va(e),r=Va(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Ka(n,e.length),(n=n.concat(e)).push(2),Ka(n,r.length);var i=n.concat(r),o=[48];return Ka(o,i.length),o=o.concat(i),wa.encode(o,t)};var $a=function(){throw new Error("unsupported")},Za=wa.assert;function Ja(t){if(!(this instanceof Ja))return new Ja(t);"string"==typeof t&&(Za(Object.prototype.hasOwnProperty.call(La,t),"Unknown curve "+t),t=La[t]),t instanceof La.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Ya=Ja;Ja.prototype.keyPair=function(t){return new Fa(this,t)},Ja.prototype.keyFromPrivate=function(t,e){return Fa.fromPrivate(this,t,e)},Ja.prototype.keyFromPublic=function(t,e){return Fa.fromPublic(this,t,e)},Ja.prototype.genKeyPair=function(t){t||(t={});for(var e=new Ua({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||$a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new mt(2));;){var i=new mt(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Ja.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Ja.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new mt(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),s=t.toArray("be",i),a=new Ua({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new mt(1)),c=0;;c++){var l=n.k?n.k(c):new mt(a.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(u)>=0)){var h=this.g.mul(l);if(!h.isInfinity()){var f=h.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=l.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(h.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new Ha({r:d,s:p,recoveryParam:m})}}}}}},Ja.prototype.verify=function(t,e,r,n){t=this._truncateToN(new mt(t,16)),r=this.keyFromPublic(r,n);var i=(e=new Ha(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(t).umod(this.n),c=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),c)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),c)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},Ja.prototype.recoverPubKey=function(t,e,r,n){Za((3&r)===r,"The recovery param is more than two bits"),e=new Ha(e,n);var i=this.n,o=new mt(t),s=e.r,a=e.s,u=1&r,c=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");s=c?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var l=e.r.invm(i),h=i.sub(o).mul(l).umod(i),f=a.mul(l).umod(i);return this.g.mulAdd(h,s,f)},Ja.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new Ha(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Xa=ya((function(t,e){var r=e;r.version="6.5.4",r.utils=wa,r.rand=function(){throw new Error("unsupported")},r.curve=Na,r.curves=La,r.ec=Ya,r.eddsa=null})),Qa=Xa.ec;const tu=new K("signing-key/5.5.0");let eu=null;function ru(){return eu||(eu=new Qa("secp256k1")),eu}class nu{constructor(t){Un(this,"curve","secp256k1"),Un(this,"privateKey",ot(t));const e=ru().keyFromPrivate(tt(this.privateKey));Un(this,"publicKey","0x"+e.getPublic(!1,"hex")),Un(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),Un(this,"_isSigningKey",!0)}_addPoint(t){const e=ru().keyFromPublic(tt(this.publicKey)),r=ru().keyFromPublic(tt(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=ru().keyFromPrivate(tt(this.privateKey)),r=tt(t);32!==r.length&&tu.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return ht({recoveryParam:n.recoveryParam,r:lt("0x"+n.r.toString(16),32),s:lt("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=ru().keyFromPrivate(tt(this.privateKey)),r=ru().keyFromPublic(tt(iu(t)));return lt("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function iu(t,e){const r=tt(t);if(32===r.length){const t=new nu(r);return e?"0x"+ru().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?ot(r):"0x"+ru().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+ru().keyFromPublic(r).getPublic(!0,"hex"):ot(r):tu.throwArgumentError("invalid public or private key","key","[REDACTED]")}const ou=new K("transactions/5.5.0");var su;function au(t){return"0x"===t?null:ke(t)}function uu(t){return"0x"===t?Ie:Et.from(t)}function cu(t,e){return function(t){return ke(at(de(at(iu(t),1)),12))}(function(t,e){const r=ht(e),n={r:tt(r.r),s:tt(r.s)};return"0x"+ru().recoverPubKey(tt(t),n,r.recoveryParam).encode("hex",!1)}(tt(t),e))}function lu(t,e){const r=rt(Et.from(t).toHexString());return r.length>32&&ou.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function hu(t,e){return{address:ke(t),storageKeys:(e||[]).map(((e,r)=>(32!==st(e)&&ou.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,e),e.toLowerCase())))}}function fu(t){if(Array.isArray(t))return t.map(((t,e)=>Array.isArray(t)?(t.length>2&&ou.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${e}]`,t),hu(t[0],t[1])):hu(t.address,t.storageKeys)));const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return hu(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function du(t){return fu(t).map((t=>[t.address,t.storageKeys]))}function pu(t,e){if(null!=t.gasPrice){const e=Et.from(t.gasPrice),r=Et.from(t.maxFeePerGas||0);e.eq(r)||ou.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:e,maxFeePerGas:r})}const r=[lu(t.chainId||0,"chainId"),lu(t.nonce||0,"nonce"),lu(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),lu(t.maxFeePerGas||0,"maxFeePerGas"),lu(t.gasLimit||0,"gasLimit"),null!=t.to?ke(t.to):"0x",lu(t.value||0,"value"),t.data||"0x",du(t.accessList||[])];if(e){const t=ht(e);r.push(lu(t.recoveryParam,"recoveryParam")),r.push(rt(t.r)),r.push(rt(t.s))}return ut(["0x02",ve(r)])}function mu(t,e){const r=[lu(t.chainId||0,"chainId"),lu(t.nonce||0,"nonce"),lu(t.gasPrice||0,"gasPrice"),lu(t.gasLimit||0,"gasLimit"),null!=t.to?ke(t.to):"0x",lu(t.value||0,"value"),t.data||"0x",du(t.accessList||[])];if(e){const t=ht(e);r.push(lu(t.recoveryParam,"recoveryParam")),r.push(rt(t.r)),r.push(rt(t.s))}return ut(["0x01",ve(r)])}function gu(t,e,r){try{const r=uu(e[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");t.v=r}catch(t){ou.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=lt(e[1],32),t.s=lt(e[2],32);try{const e=de(r(t));t.from=cu(e,{r:t.r,s:t.s,recoveryParam:t.v})}catch(t){console.log(t)}}function yu(t){const e=tt(t);if(e[0]>127)return function(t){const e=we(t);9!==e.length&&6!==e.length&&ou.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:uu(e[0]).toNumber(),gasPrice:uu(e[1]),gasLimit:uu(e[2]),to:au(e[3]),value:uu(e[4]),data:e[5],chainId:0};if(6===e.length)return r;try{r.v=Et.from(e[6]).toNumber()}catch(t){return console.log(t),r}if(r.r=lt(e[7],32),r.s=lt(e[8],32),Et.from(r.r).isZero()&&Et.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);0!==r.chainId&&(i.push(ot(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);const o=de(ve(i));try{r.from=cu(o,{r:ot(r.r),s:ot(r.s),recoveryParam:n})}catch(t){console.log(t)}r.hash=de(t)}return r.type=null,r}(e);switch(e[0]){case 1:return function(t){const e=we(t.slice(1));8!==e.length&&11!==e.length&&ou.throwArgumentError("invalid component count for transaction type: 1","payload",ot(t));const r={type:1,chainId:uu(e[0]).toNumber(),nonce:uu(e[1]).toNumber(),gasPrice:uu(e[2]),gasLimit:uu(e[3]),to:au(e[4]),value:uu(e[5]),data:e[6],accessList:fu(e[7])};return 8===e.length||(r.hash=de(t),gu(r,e.slice(8),mu)),r}(e);case 2:return function(t){const e=we(t.slice(1));9!==e.length&&12!==e.length&&ou.throwArgumentError("invalid component count for transaction type: 2","payload",ot(t));const r=uu(e[2]),n=uu(e[3]),i={type:2,chainId:uu(e[0]).toNumber(),nonce:uu(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:uu(e[4]),to:au(e[5]),value:uu(e[6]),data:e[7],accessList:fu(e[8])};return 9===e.length||(i.hash=de(t),gu(i,e.slice(9),pu)),i}(e)}return ou.throwError(`unsupported transaction type: ${e[0]}`,K.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(su||(su={}));const vu=new K(ga);class _u{constructor(){vu.checkNew(new.target,_u),this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},e=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),u=this.type.bind(this);return t.transaction={hash:o,type:u,accessList:_u.allowNull(this.accessList.bind(this),null),blockHash:_u.allowNull(o,null),blockNumber:_u.allowNull(a,null),transactionIndex:_u.allowNull(a,null),confirmations:_u.allowNull(a,null),from:e,gasPrice:_u.allowNull(r),maxPriorityFeePerGas:_u.allowNull(r),maxFeePerGas:_u.allowNull(r),gasLimit:r,to:_u.allowNull(e,null),value:r,nonce:a,data:i,r:_u.allowNull(this.uint256),s:_u.allowNull(this.uint256),v:_u.allowNull(a),creates:_u.allowNull(e,null),raw:_u.allowNull(i)},t.transactionRequest={from:_u.allowNull(e),nonce:_u.allowNull(a),gasLimit:_u.allowNull(r),gasPrice:_u.allowNull(r),maxPriorityFeePerGas:_u.allowNull(r),maxFeePerGas:_u.allowNull(r),to:_u.allowNull(e),value:_u.allowNull(r),data:_u.allowNull((t=>this.data(t,!0))),type:_u.allowNull(a),accessList:_u.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:o,address:e,topics:_u.arrayOf(o),data:i,logIndex:a,blockHash:o},t.receipt={to:_u.allowNull(this.address,null),from:_u.allowNull(this.address,null),contractAddress:_u.allowNull(e,null),transactionIndex:a,root:_u.allowNull(s),gasUsed:r,logsBloom:_u.allowNull(i),blockHash:o,transactionHash:o,logs:_u.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:_u.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:_u.allowNull(r),status:_u.allowNull(a),type:u},t.block={hash:o,parentHash:o,number:a,timestamp:a,nonce:_u.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:e,extraData:i,transactions:_u.allowNull(_u.arrayOf(o)),baseFeePerGas:_u.allowNull(r)},t.blockWithTransactions=Fn(t.block),t.blockWithTransactions.transactions=_u.allowNull(_u.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:_u.allowNull(n,void 0),toBlock:_u.allowNull(n,void 0),blockHash:_u.allowNull(o,void 0),address:_u.allowNull(e,void 0),topics:_u.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:_u.allowNull(a),blockHash:_u.allowNull(o),transactionIndex:a,removed:_u.allowNull(this.boolean.bind(this)),address:e,data:_u.allowFalsish(i,"0x"),topics:_u.arrayOf(o),transactionHash:o,logIndex:a},t}accessList(t){return fu(t||[])}number(t){return"0x"===t?0:Et.from(t).toNumber()}type(t){return"0x"===t||null==t?0:Et.from(t).toNumber()}bigNumber(t){return Et.from(t)}boolean(t){if("boolean"==typeof t)return t;if("string"==typeof t){if("true"===(t=t.toLowerCase()))return!0;if("false"===t)return!1}throw new Error("invalid boolean - "+t)}hex(t,e){return"string"==typeof t&&(e||"0x"===t.substring(0,2)||(t="0x"+t),nt(t))?t.toLowerCase():vu.throwArgumentError("invalid hash","value",t)}data(t,e){const r=this.hex(t,e);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+t);return r}address(t){return ke(t)}callAddress(t){if(!nt(t,32))return null;const e=ke(at(t,12));return e===Te?null:e}contractAddress(t){return Re(t)}blockTag(t){if(null==t)return"latest";if("earliest"===t)return"0x0";if("latest"===t||"pending"===t)return t;if("number"==typeof t||nt(t))return ct(t);throw new Error("invalid blockTag")}hash(t,e){const r=this.hex(t,e);return 32!==st(r)?vu.throwArgumentError("invalid hash","value",t):r}difficulty(t){if(null==t)return null;const e=Et.from(t);try{return e.toNumber()}catch(t){}return null}uint256(t){if(!nt(t))throw new Error("invalid uint256");return lt(t,32)}_block(t,e){null!=t.author&&null==t.miner&&(t.miner=t.author);const r=null!=t._difficulty?t._difficulty:t.difficulty,n=_u.check(e,t);return n._difficulty=null==r?null:Et.from(r),n}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return _u.check(this.formats.transactionRequest,t)}transactionResponse(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&Et.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1!==t.type&&2!==t.type||null!=t.accessList||(t.accessList=[]);const e=_u.check(this.formats.transaction,t);if(null!=t.chainId){let r=t.chainId;nt(r)&&(r=Et.from(r).toNumber()),e.chainId=r}else{let r=t.networkId;null==r&&null==e.v&&(r=t.chainId),nt(r)&&(r=Et.from(r).toNumber()),"number"!=typeof r&&null!=e.v&&(r=(e.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),e.chainId=r}return e.blockHash&&"x"===e.blockHash.replace(/0/g,"")&&(e.blockHash=null),e}transaction(t){return yu(t)}receiptLog(t){return _u.check(this.formats.receiptLog,t)}receipt(t){const e=_u.check(this.formats.receipt,t);if(null!=e.root)if(e.root.length<=4){const t=Et.from(e.root).toNumber();0===t||1===t?(null!=e.status&&e.status!==t&&vu.throwArgumentError("alt-root-status/status mismatch","value",{root:e.root,status:e.status}),e.status=t,delete e.root):vu.throwArgumentError("invalid alt-root-status","value.root",e.root)}else 66!==e.root.length&&vu.throwArgumentError("invalid root hash","value.root",e.root);return null!=e.status&&(e.byzantium=!0),e}topics(t){return Array.isArray(t)?t.map((t=>this.topics(t))):null!=t?this.hash(t,!0):null}filter(t){return _u.check(this.formats.filter,t)}filterLog(t){return _u.check(this.formats.filterLog,t)}static check(t,e){const r={};for(const n in t)try{const i=t[n](e[n]);void 0!==i&&(r[n]=i)}catch(t){throw t.checkKey=n,t.checkValue=e[n],t}return r}static allowNull(t,e){return function(r){return null==r?e:t(r)}}static allowFalsish(t,e){return function(r){return r?t(r):e}}static arrayOf(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const r=[];return e.forEach((function(e){r.push(t(e))})),r}}}var bu=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):function(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const wu=new K(ga);function Eu(t){return null==t?"null":(32!==st(t)&&wu.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function xu(t){for(t=t.slice();t.length>0&&null==t[t.length-1];)t.pop();return t.map((t=>{if(Array.isArray(t)){const e={};t.forEach((t=>{e[Eu(t)]=!0}));const r=Object.keys(e);return r.sort(),r.join("|")}return Eu(t)})).join("&")}function Su(t){if("string"==typeof t){if(32===st(t=t.toLowerCase()))return"tx:"+t;if(-1===t.indexOf(":"))return t}else{if(Array.isArray(t))return"filter:*:"+xu(t);if($n.isForkEvent(t))throw wu.warn("not implemented"),new Error("not implemented");if(t&&"object"==typeof t)return"filter:"+(t.address||"*")+":"+xu(t.topics||[])}throw new Error("invalid event - "+t)}function Mu(){return(new Date).getTime()}function ku(t){return new Promise((e=>{setTimeout(e,t)}))}const Au=["block","network","pending","poll"];class Ru{constructor(t,e,r){Un(this,"tag",t),Un(this,"listener",e),Un(this,"once",r)}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return"tx"!==t[0]?null:t[1]}get filter(){const t=this.tag.split(":");if("filter"!==t[0])return null;const e=t[1],r=""===(n=t[2])?[]:n.split(/&/g).map((t=>{if(""===t)return[];const e=t.split("|").map((t=>"null"===t?null:t));return 1===e.length?e[0]:e}));var n;const i={};return r.length>0&&(i.topics=r),e&&"*"!==e&&(i.address=e),i}pollable(){return this.tag.indexOf(":")>=0||Au.indexOf(this.tag)>=0}}const Tu={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Ou(t){return lt(Et.from(t).toHexString(),32)}function Iu(t){return ii.encode(et([t,at(Js(Js(t)),0,4)]))}const Cu=new RegExp("^(ipfs)://(.*)$","i"),Pu=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Cu,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Nu(t){try{return di(Lu(t))}catch(t){}return null}function Lu(t){if("0x"===t)return null;const e=Et.from(at(t,0,32)).toNumber(),r=Et.from(at(t,e,e+32)).toNumber();return at(t,e+32,e+32+r)}function Bu(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):wu.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class Uu{constructor(t,e,r,n){Un(this,"provider",t),Un(this,"name",r),Un(this,"address",t.formatter.address(e)),Un(this,"_resolvedAddress",n)}_fetchBytes(t,e){return bu(this,void 0,void 0,(function*(){const r={to:this.address,data:ut([t,Ii(this.name),e||"0x"])};try{return Lu(yield this.provider.call(r))}catch(t){return t.code,K.errors.CALL_EXCEPTION,null}}))}_getAddress(t,e){const r=Tu[String(t)];if(null==r&&wu.throwError(`unsupported coin type: ${t}`,K.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),"eth"===r.ilk)return this.provider.formatter.address(e);const n=tt(e);if(null!=r.p2pkh){const t=e.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return Iu(et([[r.p2pkh],"0x"+t[2]]))}}if(null!=r.p2sh){const t=e.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return Iu(et([[r.p2sh],"0x"+t[2]]))}}if(null!=r.prefix){const t=n[1];let e=n[0];if(0===e?20!==t&&32!==t&&(e=-1):e=-1,e>=0&&n.length===2+t&&t>=1&&t<=75){const t=ma.toWords(n.slice(2));return t.unshift(e),ma.encode(r.prefix,t)}}return null}getAddress(t){return bu(this,void 0,void 0,(function*(){if(null==t&&(t=60),60===t)try{const t={to:this.address,data:"0x3b3b57de"+Ii(this.name).substring(2)},e=yield this.provider.call(t);return"0x"===e||"0x0000000000000000000000000000000000000000000000000000000000000000"===e?null:this.provider.formatter.callAddress(e)}catch(t){if(t.code===K.errors.CALL_EXCEPTION)return null;throw t}const e=yield this._fetchBytes("0xf1cb7e06",Ou(t));if(null==e||"0x"===e)return null;const r=this._getAddress(t,e);return null==r&&wu.throwError("invalid or unsupported coin data",K.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`,coinType:t,data:e}),r}))}getAvatar(){return bu(this,void 0,void 0,(function*(){const t=[{type:"name",content:this.name}];try{const e=yield this.getText("avatar");if(null==e)return null;for(let r=0;r<Pu.length;r++){const n=e.match(Pu[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":return t.push({type:"url",content:e}),{linkage:t,url:e};case"data":return t.push({type:"data",content:e}),{linkage:t,url:e};case"ipfs":return t.push({type:"ipfs",content:e}),{linkage:t,url:Bu(e)};case"erc721":case"erc1155":{const r="erc721"===i?"0xc87b56dd":"0x0e89341c";t.push({type:i,content:e});const o=this._resolvedAddress||(yield this.getAddress()),s=(n[2]||"").split("/");if(2!==s.length)return null;const a=yield this.provider.formatter.address(s[0]),u=lt(Et.from(s[1]).toHexString(),32);if("erc721"===i){const e=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:ut(["0x6352211e",u])}));if(o!==e)return null;t.push({type:"owner",content:e})}else if("erc1155"===i){const e=Et.from(yield this.provider.call({to:a,data:ut(["0x00fdd58e",lt(o,32),u])}));if(e.isZero())return null;t.push({type:"balance",content:e.toString()})}const c={to:this.provider.formatter.address(s[0]),data:ut([r,u])};let l=Nu(yield this.provider.call(c));if(null==l)return null;t.push({type:"metadata-url-base",content:l}),"erc1155"===i&&(l=l.replace("{id}",u.substring(2)),t.push({type:"metadata-url-expanded",content:l})),l.match(/^ipfs:/i)&&(l=Bu(l)),t.push({type:"metadata-url",content:l});const h=yield oa(l);if(!h)return null;t.push({type:"metadata",content:JSON.stringify(h)});let f=h.image;if("string"!=typeof f)return null;if(f.match(/^(https:\/\/|data:)/i));else{if(null==f.match(Cu))return null;t.push({type:"url-ipfs",content:f}),f=Bu(f)}return t.push({type:"url",content:f}),{linkage:t,url:f}}}}}catch(t){}return null}))}getContentHash(){return bu(this,void 0,void 0,(function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(null==t||"0x"===t)return null;const e=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t=parseInt(e[3],16);if(e[4].length===2*t)return"ipfs://"+ii.encode("0x"+e[1])}const r=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);return r&&64===r[1].length?"bzz://"+r[1]:wu.throwError("invalid or unsupported content hash data",K.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})}))}getText(t){return bu(this,void 0,void 0,(function*(){let e=hi(t);e=et([Ou(64),Ou(e.length),e]),e.length%32!=0&&(e=et([e,lt("0x",32-t.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",ot(e));return null==r||"0x"===r?null:di(r)}))}}let ju=null,Du=1;class Fu extends Zn{constructor(t){if(wu.checkNew(new.target,Zn),super(),this._events=[],this._emitted={block:-2},this.formatter=new.target.getFormatter(),Un(this,"anyNetwork","any"===t),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch((t=>{})),this._ready().catch((t=>{}));else{const e=jn(new.target,"getNetwork")(t);e?(Un(this,"_network",e),this.emit("network",e,null)):wu.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return bu(this,void 0,void 0,(function*(){if(null==this._network){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch(t){}null==t&&(t=yield this.detectNetwork()),t||wu.throwError("no network detected",K.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:Un(this,"_network",t),this.emit("network",t,null))}return this._network}))}get ready(){return sa((()=>this._ready().then((t=>t),(t=>{if(t.code!==K.errors.NETWORK_ERROR||"noNetwork"!==t.event)throw t}))))}static getFormatter(){return null==ju&&(ju=new _u),ju}static getNetwork(t){return function(t){if(null==t)return null;if("number"==typeof t){for(const e in ri){const r=ri[e];if(r.chainId===t)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:t,name:"unknown"}}if("string"==typeof t){const e=ri[t];return null==e?null:{name:e.name,chainId:e.chainId,ensAddress:e.ensAddress,_defaultProvider:e._defaultProvider||null}}const e=ri[t.name];if(!e)return"number"!=typeof t.chainId&&Jn.throwArgumentError("invalid network chainId","network",t),t;0!==t.chainId&&t.chainId!==e.chainId&&Jn.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return null==r&&e._defaultProvider&&(r=function(t){return t&&"function"==typeof t.renetwork}(e._defaultProvider)?e._defaultProvider.renetwork(t):e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}(null==t?"homestead":t)}_getInternalBlockNumber(t){return bu(this,void 0,void 0,(function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const e=this._internalBlockNumber;try{const r=yield e;if(Mu()-r.respTime<=t)return r.blockNumber;break}catch(t){if(this._internalBlockNumber===e)break}}const e=Mu(),r=Dn({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((t=>null),(t=>t))}).then((({blockNumber:t,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;const i=Mu();return(t=Et.from(t).toNumber())<this._maxInternalBlockNumber&&(t=this._maxInternalBlockNumber),this._maxInternalBlockNumber=t,this._setFastBlockNumber(t),{blockNumber:t,reqTime:e,respTime:i}}));return this._internalBlockNumber=r,r.catch((t=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)})),(yield r).blockNumber}))}poll(){return bu(this,void 0,void 0,(function*(){const t=Du++,e=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(t){return void this.emit("error",t)}if(this._setFastBlockNumber(r),this.emit("poll",t,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)wu.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",wu.makeError("network block skew detected",K.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let t=this._emitted.block+1;t<=r;t++)this.emit("block",t);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach((t=>{if("block"===t)return;const e=this._emitted[t];"pending"!==e&&r-e>12&&delete this._emitted[t]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach((t=>{switch(t.type){case"tx":{const r=t.hash;let n=this.getTransactionReceipt(r).then((t=>t&&null!=t.blockNumber?(this._emitted["t:"+r]=t.blockNumber,this.emit(r,t),null):null)).catch((t=>{this.emit("error",t)}));e.push(n);break}case"filter":{const n=t.filter;n.fromBlock=this._lastBlockNumber+1,n.toBlock=r;const i=this.getLogs(n).then((t=>{0!==t.length&&t.forEach((t=>{this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(n,t)}))})).catch((t=>{this.emit("error",t)}));e.push(i);break}}})),this._lastBlockNumber=r,Promise.all(e).then((()=>{this.emit("didPoll",t)})).catch((t=>{this.emit("error",t)}))}else this.emit("didPoll",t)}))}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return bu(this,void 0,void 0,(function*(){return wu.throwError("provider does not support network detection",K.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return bu(this,void 0,void 0,(function*(){const t=yield this._ready(),e=yield this.detectNetwork();if(t.chainId!==e.chainId){if(this.anyNetwork)return this._network=e,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",e,t),yield ku(0),this._network;const r=wu.makeError("underlying network changed",K.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:e});throw this.emit("error",r),r}return t}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((t=>{this._setFastBlockNumber(t)}),(t=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(t){t&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if("number"!=typeof t||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const t=Mu();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((t=>((null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(t){null!=this._fastBlockNumber&&t<this._fastBlockNumber||(this._fastQueryDate=Mu(),(null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,e,r){return bu(this,void 0,void 0,(function*(){return this._waitForTransaction(t,null==e?1:e,r||0,null)}))}_waitForTransaction(t,e,r,n){return bu(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(t);return(i?i.confirmations:0)>=e?i:new Promise(((i,o)=>{const s=[];let a=!1;const u=function(){return!!a||(a=!0,s.forEach((t=>{t()})),!1)},c=t=>{t.confirmations<e||u()||i(t)};if(this.on(t,c),s.push((()=>{this.removeListener(t,c)})),n){let r=n.startBlock,i=null;const c=s=>bu(this,void 0,void 0,(function*(){a||(yield ku(1e3),this.getTransactionCount(n.from).then((l=>bu(this,void 0,void 0,(function*(){if(!a){if(l<=n.nonce)r=s;else{{const e=yield this.getTransaction(t);if(e&&null!=e.blockNumber)return}for(null==i&&(i=r-3,i<n.startBlock&&(i=n.startBlock));i<=s;){if(a)return;const r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){const s=r.transactions[i];if(s.hash===t)return;if(s.from===n.from&&s.nonce===n.nonce){if(a)return;const r=yield this.waitForTransaction(s.hash,e);if(u())return;let i="replaced";return s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?i="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(i="cancelled"),void o(wu.makeError("transaction was replaced",K.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(s),hash:t,receipt:r}))}}i++}}a||this.once("block",c)}}))),(t=>{a||this.once("block",c)})))}));if(a)return;this.once("block",c),s.push((()=>{this.removeListener("block",c)}))}if("number"==typeof r&&r>0){const t=setTimeout((()=>{u()||o(wu.makeError("timeout exceeded",K.errors.TIMEOUT,{timeout:r}))}),r);t.unref&&t.unref(),s.push((()=>{clearTimeout(t)}))}}))}))}getBlockNumber(){return bu(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return bu(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return Et.from(t)}catch(e){return wu.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e})}}))}getBalance(t,e){return bu(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Dn({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getBalance",r);try{return Et.from(n)}catch(t){return wu.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:t})}}))}getTransactionCount(t,e){return bu(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Dn({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getTransactionCount",r);try{return Et.from(n).toNumber()}catch(t){return wu.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:t})}}))}getCode(t,e){return bu(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Dn({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getCode",r);try{return ot(n)}catch(t){return wu.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:t})}}))}getStorageAt(t,e,r){return bu(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield Dn({address:this._getAddress(t),blockTag:this._getBlockTag(r),position:Promise.resolve(e).then((t=>ct(t)))}),i=yield this.perform("getStorageAt",n);try{return ot(i)}catch(t){return wu.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:t})}}))}_wrapTransaction(t,e,r){if(null!=e&&32!==st(e))throw new Error("invalid response - sendTransaction");const n=t;return null!=e&&t.hash!==e&&wu.throwError("Transaction hash mismatch from Provider.sendTransaction.",K.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:e}),n.wait=(e,n)=>bu(this,void 0,void 0,(function*(){let i;null==e&&(e=1),null==n&&(n=0),0!==e&&null!=r&&(i={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:r});const o=yield this._waitForTransaction(t.hash,e,n,i);return null==o&&0===e?null:(this._emitted["t:"+t.hash]=o.blockNumber,0===o.status&&wu.throwError("transaction failed",K.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:o}),o)})),n}sendTransaction(t){return bu(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Promise.resolve(t).then((t=>ot(t))),r=this.formatter.transaction(t);null==r.confirmations&&(r.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const t=yield this.perform("sendTransaction",{signedTransaction:e});return this._wrapTransaction(r,t,n)}catch(t){throw t.transaction=r,t.transactionHash=r.hash,t}}))}_getTransactionRequest(t){return bu(this,void 0,void 0,(function*(){const e=yield t,r={};return["from","to"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?this._getAddress(t):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?Et.from(t):null)))})),["type"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>null!=t?t:null)))})),e.accessList&&(r.accessList=this.formatter.accessList(e.accessList)),["data"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?ot(t):null)))})),this.formatter.transactionRequest(yield Dn(r))}))}_getFilter(t){return bu(this,void 0,void 0,(function*(){t=yield t;const e={};return null!=t.address&&(e.address=this._getAddress(t.address)),["blockHash","topics"].forEach((r=>{null!=t[r]&&(e[r]=t[r])})),["fromBlock","toBlock"].forEach((r=>{null!=t[r]&&(e[r]=this._getBlockTag(t[r]))})),this.formatter.filter(yield Dn(e))}))}call(t,e){return bu(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Dn({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("call",r);try{return ot(n)}catch(t){return wu.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"call",params:r,result:n,error:t})}}))}estimateGas(t){return bu(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Dn({transaction:this._getTransactionRequest(t)}),r=yield this.perform("estimateGas",e);try{return Et.from(r)}catch(t){return wu.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"estimateGas",params:e,result:r,error:t})}}))}_getAddress(t){return bu(this,void 0,void 0,(function*(){"string"!=typeof(t=yield t)&&wu.throwArgumentError("invalid address or ENS name","name",t);const e=yield this.resolveName(t);return null==e&&wu.throwError("ENS name not configured",K.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(t)})`}),e}))}_getBlock(t,e){return bu(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;let r=-128;const n={includeTransactions:!!e};if(nt(t,32))n.blockHash=t;else try{n.blockTag=yield this._getBlockTag(t),nt(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(e){wu.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return sa((()=>bu(this,void 0,void 0,(function*(){const t=yield this.perform("getBlock",n);if(null==t)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(e){let e=null;for(let r=0;r<t.transactions.length;r++){const n=t.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==e&&(e=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let t=e-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}}const r=this.formatter.blockWithTransactions(t);return r.transactions=r.transactions.map((t=>this._wrapTransaction(t))),r}return this.formatter.block(t)}))),{oncePoll:this})}))}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return bu(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return sa((()=>bu(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;const n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return this._wrapTransaction(n)}))),{oncePoll:this})}))}getTransactionReceipt(t){return bu(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return sa((()=>bu(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;if(null==r.blockHash)return;const n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return n}))),{oncePoll:this})}))}getLogs(t){return bu(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Dn({filter:this._getFilter(t)}),r=yield this.perform("getLogs",e);return r.forEach((t=>{null==t.removed&&(t.removed=!1)})),_u.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return bu(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(t){return bu(this,void 0,void 0,(function*(){if("number"==typeof(t=yield t)&&t<0){t%1&&wu.throwArgumentError("invalid BlockTag","blockTag",t);let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return e+=t,e<0&&(e=0),this.formatter.blockTag(e)}return this.formatter.blockTag(t)}))}getResolver(t){return bu(this,void 0,void 0,(function*(){try{const e=yield this._getResolver(t);return null==e?null:new Uu(this,e,t)}catch(t){if(t.code===K.errors.CALL_EXCEPTION)return null;throw t}}))}_getResolver(t){return bu(this,void 0,void 0,(function*(){const e=yield this.getNetwork();e.ensAddress||wu.throwError("network does not support ENS",K.errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:e.name});const r={to:e.ensAddress,data:"0x0178b8bf"+Ii(t).substring(2)};try{return this.formatter.callAddress(yield this.call(r))}catch(t){if(t.code===K.errors.CALL_EXCEPTION)return null;throw t}}))}resolveName(t){return bu(this,void 0,void 0,(function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(e){if(nt(t))throw e}"string"!=typeof t&&wu.throwArgumentError("invalid ENS name","name",t);const e=yield this.getResolver(t);return e?yield e.getAddress():null}))}lookupAddress(t){return bu(this,void 0,void 0,(function*(){t=yield t;const e=(t=this.formatter.address(t)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(e);if(!r)return null;let n=tt(yield this.call({to:r,data:"0x691f3431"+Ii(e).substring(2)}));if(n.length<32||!Et.from(n.slice(0,32)).eq(32))return null;if(n=n.slice(32),n.length<32)return null;const i=Et.from(n.slice(0,32)).toNumber();if(n=n.slice(32),i>n.length)return null;const o=di(n.slice(0,i));return(yield this.resolveName(o))!=t?null:o}))}getAvatar(t){return bu(this,void 0,void 0,(function*(){let e=null;if(nt(t)){const r=this.formatter.address(t),n=r.substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(n);if(!i)return null;e=new Uu(this,i,"_",r)}else if(e=yield this.getResolver(t),!e)return null;const r=yield e.getAvatar();return null==r?null:r.url}))}perform(t,e){return wu.throwError(t+" not implemented",K.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_stopEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_addEventListener(t,e,r){const n=new Ru(Su(t),e,r);return this._events.push(n),this._startEvent(n),this}on(t,e){return this._addEventListener(t,e,!1)}once(t,e){return this._addEventListener(t,e,!0)}emit(t,...e){let r=!1,n=[],i=Su(t);return this._events=this._events.filter((t=>t.tag!==i||(setTimeout((()=>{t.listener.apply(this,e)}),0),r=!0,!t.once||(n.push(t),!1)))),n.forEach((t=>{this._stopEvent(t)})),r}listenerCount(t){if(!t)return this._events.length;let e=Su(t);return this._events.filter((t=>t.tag===e)).length}listeners(t){if(null==t)return this._events.map((t=>t.listener));let e=Su(t);return this._events.filter((t=>t.tag===e)).map((t=>t.listener))}off(t,e){if(null==e)return this.removeAllListeners(t);const r=[];let n=!1,i=Su(t);return this._events=this._events.filter((t=>t.tag!==i||t.listener!=e||(!!n||(n=!0,r.push(t),!1)))),r.forEach((t=>{this._stopEvent(t)})),this}removeAllListeners(t){let e=[];if(null==t)e=this._events,this._events=[];else{const r=Su(t);this._events=this._events.filter((t=>t.tag!==r||(e.push(t),!1)))}return e.forEach((t=>{this._stopEvent(t)})),this}}var zu=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):function(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const qu=new K("abstract-signer/5.5.0"),Hu=["accessList","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Wu=[K.errors.INSUFFICIENT_FUNDS,K.errors.NONCE_EXPIRED,K.errors.REPLACEMENT_UNDERPRICED];class Gu{constructor(){qu.checkAbstract(new.target,Gu),Un(this,"_isSigner",!0)}getBalance(t){return zu(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return zu(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return zu(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield Dn(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return zu(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield Dn(this.checkTransaction(t));return yield this.provider.call(r,e)}))}sendTransaction(t){return zu(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),r=yield this.signTransaction(e);return yield this.provider.sendTransaction(r)}))}getChainId(){return zu(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return zu(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return zu(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(t){return zu(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const e in t)-1===Hu.indexOf(e)&&qu.throwArgumentError("invalid transaction key: "+e,"transaction",t);const e=Fn(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then((e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&qu.throwArgumentError("from address mismatch","transaction",t),e[0]))),e}populateTransaction(t){return zu(this,void 0,void 0,(function*(){const e=yield Dn(this.checkTransaction(t));null!=e.to&&(e.to=Promise.resolve(e.to).then((t=>zu(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&qu.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),e.to.catch((t=>{})));const r=null!=e.maxFeePerGas||null!=e.maxPriorityFeePerGas;if(null==e.gasPrice||2!==e.type&&!r?0!==e.type&&1!==e.type||!r||qu.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):qu.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==e.type&&null!=e.type||null==e.maxFeePerGas||null==e.maxPriorityFeePerGas)if(0===e.type||1===e.type)null==e.gasPrice&&(e.gasPrice=this.getGasPrice());else{const t=yield this.getFeeData();if(null==e.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(e.type=2,null!=e.gasPrice){const t=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=t,e.maxPriorityFeePerGas=t}else null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(r&&qu.throwError("network does not support EIP-1559",K.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==e.gasPrice&&(e.gasPrice=t.gasPrice),e.type=0):qu.throwError("failed to get consistent fee data",K.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===e.type&&(null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else e.type=2;return null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch((t=>{if(Wu.indexOf(t.code)>=0)throw t;return qu.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",K.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})}))),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then((e=>(0!==e[1]&&e[0]!==e[1]&&qu.throwArgumentError("chainId address mismatch","transaction",t),e[0]))),yield Dn(e)}))}_checkProvider(t){this.provider||qu.throwError("missing provider",K.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!(!t||!t._isSigner)}}class Vu extends Gu{constructor(t,e){qu.checkNew(new.target,Vu),super(),Un(this,"address",t),Un(this,"provider",e||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,e){return Promise.resolve().then((()=>{qu.throwError(t,K.errors.UNSUPPORTED_OPERATION,{operation:e})}))}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,e,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new Vu(this.address,t)}}var Ku=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):function(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const $u=new K(ga),Zu=["call","estimateGas"];function Ju(t,e,r){if("call"===t&&e.code===K.errors.SERVER_ERROR){const t=e.error;if(t&&t.message.match("reverted")&&nt(t.data))return t.data;$u.throwError("missing revert data in call exception",K.errors.CALL_EXCEPTION,{error:e,data:"0x"})}let n=e.message;e.code===K.errors.SERVER_ERROR&&e.error&&"string"==typeof e.error.message?n=e.error.message:"string"==typeof e.body?n=e.body:"string"==typeof e.responseText&&(n=e.responseText),n=(n||"").toLowerCase();const i=r.transaction||r.signedTransaction;throw n.match(/insufficient funds|base fee exceeds gas limit/)&&$u.throwError("insufficient funds for intrinsic transaction cost",K.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:i}),n.match(/nonce too low/)&&$u.throwError("nonce has already been used",K.errors.NONCE_EXPIRED,{error:e,method:t,transaction:i}),n.match(/replacement transaction underpriced/)&&$u.throwError("replacement fee too low",K.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:i}),n.match(/only replay-protected/)&&$u.throwError("legacy pre-eip-155 transactions not supported",K.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:i}),Zu.indexOf(t)>=0&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&$u.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",K.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:i}),e}function Yu(t){return new Promise((function(e){setTimeout(e,t)}))}function Xu(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Qu(t){return t?t.toLowerCase():t}const tc={};class ec extends Gu{constructor(t,e,r){if($u.checkNew(new.target,ec),super(),t!==tc)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Un(this,"provider",e),null==r&&(r=0),"string"==typeof r?(Un(this,"_address",this.provider.formatter.address(r)),Un(this,"_index",null)):"number"==typeof r?(Un(this,"_index",r),Un(this,"_address",null)):$u.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(t){return $u.throwError("cannot alter JSON-RPC Signer connection",K.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new rc(tc,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((t=>(t.length<=this._index&&$u.throwError("unknown account #"+this._index,K.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index]))))}sendUncheckedTransaction(t){t=Fn(t);const e=this.getAddress().then((t=>(t&&(t=t.toLowerCase()),t)));if(null==t.gasLimit){const r=Fn(t);r.from=e,t.gasLimit=this.provider.estimateGas(r)}return null!=t.to&&(t.to=Promise.resolve(t.to).then((t=>Ku(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.provider.resolveName(t);return null==e&&$u.throwArgumentError("provided ENS name resolves to null","tx.to",t),e}))))),Dn({tx:Dn(t),sender:e}).then((({tx:e,sender:r})=>{null!=e.from?e.from.toLowerCase()!==r&&$u.throwArgumentError("from address mismatch","transaction",t):e.from=r;const n=this.provider.constructor.hexlifyTransaction(e,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then((t=>t),(t=>Ju("sendTransaction",t,n)))}))}signTransaction(t){return $u.throwError("signing transactions is unsupported",K.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return Ku(this,void 0,void 0,(function*(){const e=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(t);try{return yield sa((()=>Ku(this,void 0,void 0,(function*(){const t=yield this.provider.getTransaction(r);if(null!==t)return this.provider._wrapTransaction(t,r,e)}))),{oncePoll:this.provider})}catch(t){throw t.transactionHash=r,t}}))}signMessage(t){return Ku(this,void 0,void 0,(function*(){const e="string"==typeof t?hi(t):t,r=yield this.getAddress();return yield this.provider.send("personal_sign",[ot(e),r.toLowerCase()])}))}_legacySignMessage(t){return Ku(this,void 0,void 0,(function*(){const e="string"==typeof t?hi(t):t,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),ot(e)])}))}_signTypedData(t,e,r){return Ku(this,void 0,void 0,(function*(){const n=yield Ki.resolveNames(t,e,r,(t=>this.provider.resolveName(t))),i=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(Ki.getPayload(n.domain,e,n.value))])}))}unlock(t){return Ku(this,void 0,void 0,(function*(){const e=this.provider,r=yield this.getAddress();return e.send("personal_unlockAccount",[r.toLowerCase(),t,null])}))}}class rc extends ec{sendTransaction(t){return this.sendUncheckedTransaction(t).then((t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:e=>this.provider.waitForTransaction(t,e)})))}}const nc={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class ic extends Fu{constructor(t,e){$u.checkNew(new.target,ic);let r=e;null==r&&(r=new Promise(((t,e)=>{setTimeout((()=>{this.detectNetwork().then((e=>{t(e)}),(t=>{e(t)}))}),0)}))),super(r),t||(t=jn(this.constructor,"defaultUrl")()),Un(this,"connection","string"==typeof t?Object.freeze({url:t}):Object.freeze(Fn(t))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Ku(this,void 0,void 0,(function*(){yield Yu(0);let t=null;try{t=yield this.send("eth_chainId",[])}catch(e){try{t=yield this.send("net_version",[])}catch(t){}}if(null!=t){const e=jn(this.constructor,"getNetwork");try{return e(Et.from(t).toNumber())}catch(e){return $u.throwError("could not detect network",K.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e})}}return $u.throwError("could not detect network",K.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(t){return new ec(tc,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((t=>t.map((t=>this.formatter.address(t)))))}send(t,e){const r={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Wn(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(n&&this._cache[t])return this._cache[t];const i=oa(this.connection,JSON.stringify(r),Xu).then((t=>(this.emit("debug",{action:"response",request:r,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",error:t,request:r,provider:this}),t}));return n&&(this._cache[t]=i,setTimeout((()=>{this._cache[t]=null}),0)),i}prepareRequest(t,e){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Qu(e.address),e.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Qu(e.address),e.blockTag]];case"getCode":return["eth_getCode",[Qu(e.address),e.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Qu(e.address),e.position,e.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[e.signedTransaction]];case"getBlock":return e.blockTag?["eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]]:e.blockHash?["eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[e.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[e.transactionHash]];case"call":return["eth_call",[jn(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0}),e.blockTag]];case"estimateGas":return["eth_estimateGas",[jn(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0})]];case"getLogs":return e.filter&&null!=e.filter.address&&(e.filter.address=Qu(e.filter.address)),["eth_getLogs",[e.filter]]}return null}perform(t,e){return Ku(this,void 0,void 0,(function*(){if("call"===t||"estimateGas"===t){const t=e.transaction;if(t&&null!=t.type&&Et.from(t.type).isZero()&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((e=Fn(e)).transaction=Fn(t),delete e.transaction.type)}}const r=this.prepareRequest(t,e);null==r&&$u.throwError(t+" not implemented",K.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(r[0],r[1])}catch(r){return Ju(t,r,e)}}))}_startEvent(t){"pending"===t.tag&&this._startPending(),super._startEvent(t)}_startPending(){if(null!=this._pendingFilter)return;const t=this,e=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=e,e.then((function(r){return function n(){t.send("eth_getFilterChanges",[r]).then((function(r){if(t._pendingFilter!=e)return null;let n=Promise.resolve();return r.forEach((function(e){t._emitted["t:"+e.toLowerCase()]="pending",n=n.then((function(){return t.getTransaction(e).then((function(e){return t.emit("pending",e),null}))}))})),n.then((function(){return Yu(1e3)}))})).then((function(){if(t._pendingFilter==e)return setTimeout((function(){n()}),0),null;t.send("eth_uninstallFilter",[r])})).catch((t=>{}))}(),r})).catch((t=>{}))}_stopEvent(t){"pending"===t.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(t,e){const r=Fn(nc);if(e)for(const t in e)e[t]&&(r[t]=!0);!function(t,e){t&&"object"==typeof t||Bn.throwArgumentError("invalid object","object",t),Object.keys(t).forEach((r=>{e[r]||Bn.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)}))}(t,r);const n={};return["gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(e){if(null==t[e])return;const r=ct(t[e]);"gasLimit"===e&&(e="gas"),n[e]=r})),["from","to","data"].forEach((function(e){null!=t[e]&&(n[e]=ot(t[e]))})),t.accessList&&(n.accessList=fu(t.accessList)),n}}const oc=new K(ga);let sc=1;function ac(t,e){const r="Web3LegacyFetcher";return function(t,n){const i={method:t,params:n,id:sc++,jsonrpc:"2.0"};return new Promise(((t,n)=>{this.emit("debug",{action:"request",fetcher:r,request:Wn(i),provider:this}),e(i,((e,o)=>{if(e)return this.emit("debug",{action:"response",fetcher:r,error:e,request:i,provider:this}),n(e);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:o,provider:this}),o.error){const t=new Error(o.error.message);return t.code=o.error.code,t.data=o.error.data,n(t)}t(o.result)}))}))}}class uc extends ic{constructor(t,e){oc.checkNew(new.target,uc),null==t&&oc.throwArgumentError("missing provider","provider",t);let r=null,n=null,i=null;"function"==typeof t?(r="unknown:",n=t):(r=t.host||t.path||"",!r&&t.isMetaMask&&(r="metamask"),i=t,t.request?(""===r&&(r="eip-1193:"),n=function(t){return function(e,r){null==r&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Wn(n),provider:this}),t.request(n).then((t=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:t,provider:this}),t}))}}(t)):t.sendAsync?n=ac(0,t.sendAsync.bind(t)):t.send?n=ac(0,t.send.bind(t)):oc.throwArgumentError("unsupported provider","provider",t),r||(r="unknown:")),super(r,e),Un(this,"jsonRpcFetchFunc",n),Un(this,"provider",i)}send(t,e){return this.jsonRpcFetchFunc(t,e)}}new K(ga);const cc=!!__DEV__,lc={usdc:t=>{const e={1:{address:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",icon:"https://cryptologos.cc/logos/usd-coin-usdc-logo.svg?v=021",decimals:6},137:{address:"",icon:"https://cryptologos.cc/logos/usd-coin-usdc-logo.svg?v=021",decimals:0},56:{address:"",icon:"https://cryptologos.cc/logos/usd-coin-usdc-logo.svg?v=021",decimals:0}};return cc&&(e[4]={address:"0x4dbcdf9b62e891a7cec5a2568c3f4faf9e8abe2b",icon:"https://cryptologos.cc/logos/usd-coin-usdc-logo.svg?v=021",decimals:6}),e[t]},usdt:t=>{const e={1:{address:"0xdac17f958d2ee523a2206206994597c13d831ec7",icon:"https://cryptologos.cc/logos/tether-usdt-logo.svg?v=021",decimals:6},137:{address:"",icon:"https://cryptologos.cc/logos/tether-usdt-logo.svg?v=021",decimals:0},56:{address:"",icon:"https://cryptologos.cc/logos/tether-usdt-logo.svg?v=021",decimals:0}};return cc&&(e[4]={address:"0xd9ba894e0097f8cc2bbc9d24d308b98e36dc6d02",icon:"https://cryptologos.cc/logos/tether-usdt-logo.svg?v=021",decimals:18}),e[t]},dai:t=>{const e={1:{address:"0x6b175474e89094c44da98b954eedeac495271d0f",icon:"https://cryptologos.cc/logos/multi-collateral-dai-dai-logo.svg?v=021",decimals:18},137:{address:"",icon:"https://cryptologos.cc/logos/multi-collateral-dai-dai-logo.svg?v=021",decimals:0},56:{address:"",icon:"https://cryptologos.cc/logos/multi-collateral-dai-dai-logo.svg?v=021",decimals:0}};return cc&&(e[4]={address:"0x5592ec0cfb4dbc12d3ab100b257153436a1f0fea",icon:"https://cryptologos.cc/logos/multi-collateral-dai-dai-logo.svg?v=021",decimals:18}),e[t]}},hc=[{name:"Ethereum",chainId:1,logo:"https://cryptologos.cc/logos/ethereum-eth-logo.svg?v=021",explorer:"https://etherscan.io/",rpcUrl:"https://mainnet.infura.io/v3/5943db108ab24508875f5d1cedb61636"},cc?{name:"Rinkeby",chainId:4,logo:"https://cryptologos.cc/logos/ethereum-eth-logo.svg?v=021",explorer:"https://rinkeby.etherscan.io/",rpcUrl:"https://rinkeby.infura.io/v3/5943db108ab24508875f5d1cedb61636"}:null,{name:"Binance",chainId:56,logo:"https://cryptologos.cc/logos/bnb-bnb-logo.svg?v=021",explorer:"https://bscscan.com/",rpcUrl:"https://bsc-dataseed.binance.org/"},{name:"Polygon (Matic)",chainId:137,logo:"https://cryptologos.cc/logos/polygon-matic-logo.svg?v=021",explorer:"https://polygonscan.com/",rpcUrl:"https://polygon-rpc.com/"}].filter(Boolean),fc=t=>{const e=hc.find((e=>(null==e?void 0:e.chainId)===t));if(!e)throw Error("Network not supported");return e.explorer};function dc(t,e,r){return Ue(this,void 0,void 0,(function*(){if(!t)throw Error("no activation function passed");if(e)try{localStorage.removeItem("sleek-wc"),yield t(e,void 0,!0)}catch(n){if(!(n instanceof an))throw n;console.log("Trying to switch network"),yield function(t){return Ue(this,void 0,void 0,(function*(){const{ethereum:e}=global;e?yield e.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${Number(t).toString(16)}`}]}):console.log("MetaMask extension not available")}))}(r),yield t(e,void 0,!0)}}))}function pc(t){const e=new uc(t);return e.pollingInterval=12e3,e}function mc(t,e){const r=Object.keys(lc).find((e=>e.toLowerCase()===t.toLowerCase()));if(!r)throw new Error("Token not found");const n=lc[r](e);if(!Ae(n.address)||n.address===Te)throw new Error("Token not yet implemented");return n}var gc=En.GenIcon,yc=function(t){return gc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm106.5 150.5L228.8 332.8h-.1c-1.7 1.7-6.3 5.5-11.6 5.5-3.8 0-8.1-2.1-11.7-5.7l-56-56c-1.6-1.6-1.6-4.1 0-5.7l17.8-17.8c.8-.8 1.8-1.2 2.8-1.2 1 0 2 .4 2.8 1.2l44.4 44.4 122-122.9c.8-.8 1.8-1.2 2.8-1.2 1.1 0 2.1.4 2.8 1.2l17.5 18.1c1.8 1.7 1.8 4.2.2 5.8z"}}]})(t)};const vc=({selected:t,options:e})=>d("div",null,null==e?void 0:e.map((e=>d("div",{class:"relative mb-3",key:null==e?void 0:e.name},d("button",{type:"button",class:mn(["relative","w-full","bg-white","border","border-gray-300","rounded-md","shadow-sm","pl-3","pr-10","py-2","text-left","cursor-pointer","focus:outline-none","focus:ring-1","focus:ring-gray-500","focus:border-gray-500","hover:border-gray-500","sm:text-sm"],{"ring-1":t===(null==e?void 0:e.name),"ring-gray-500":t===(null==e?void 0:e.name)}),"aria-haspopup":"listbox","aria-expanded":"true","aria-labelledby":"listbox-label",onClick:()=>null==e?void 0:e.onSelect(null==e?void 0:e.name)},d("span",{class:"flex items-center"},d("img",{src:null==e?void 0:e.image,alt:null==e?void 0:e.label,className:"flex-shrink-0 h-6 w-6 rounded-full"}),d("span",{className:"ml-3 block truncate font-semibold"},null==e?void 0:e.label)),t===(null==e?void 0:e.name)&&d("span",{class:"ml-3 inset-y-0 absolute right-0 flex items-center pr-2"},d(yc,{className:"text-xl text-gray-800"})))))));function _c({selectedNetwork:t,setSelectedNetwork:e}){const{goForward:r}=An(),n=t=>{t&&(e(t),r())},i=hc.map((t=>({name:(null==t?void 0:t.chainId)||0,label:(null==t?void 0:t.name)||"",image:(null==t?void 0:t.logo)||"",onSelect:n})));return d("div",null,d("h4",{class:"block text-sm mb-3"},"Select network to continue"),d(vc,{selected:t,options:i}))}var bc,wc={exports:{}},Ec="object"==typeof Reflect?Reflect:null,xc=Ec&&"function"==typeof Ec.apply?Ec.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};bc=Ec&&"function"==typeof Ec.ownKeys?Ec.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var Sc=Number.isNaN||function(t){return t!=t};function Mc(){Mc.init.call(this)}wc.exports=Mc,wc.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}Lc(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&Lc(t,"error",e,r)}(t,i,{once:!0})}))},Mc.EventEmitter=Mc,Mc.prototype._events=void 0,Mc.prototype._eventsCount=0,Mc.prototype._maxListeners=void 0;var kc=10;function Ac(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function Rc(t){return void 0===t._maxListeners?Mc.defaultMaxListeners:t._maxListeners}function Tc(t,e,r,n){var i,o,s;if(Ac(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"==typeof s?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=Rc(t))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,function(t){console&&console.warn&&console.warn(t)}(a)}return t}function Oc(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ic(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=Oc.bind(n);return i.listener=r,n.wrapFn=i,i}function Cc(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):Nc(i,i.length)}function Pc(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function Nc(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Lc(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(Mc,"defaultMaxListeners",{enumerable:!0,get:function(){return kc},set:function(t){if("number"!=typeof t||t<0||Sc(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");kc=t}}),Mc.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Mc.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||Sc(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},Mc.prototype.getMaxListeners=function(){return Rc(this)},Mc.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[t];if(void 0===a)return!1;if("function"==typeof a)xc(a,this,e);else{var u=a.length,c=Nc(a,u);for(r=0;r<u;++r)xc(c[r],this,e)}return!0},Mc.prototype.addListener=function(t,e){return Tc(this,t,e,!1)},Mc.prototype.on=Mc.prototype.addListener,Mc.prototype.prependListener=function(t,e){return Tc(this,t,e,!0)},Mc.prototype.once=function(t,e){return Ac(e),this.on(t,Ic(this,t,e)),this},Mc.prototype.prependOnceListener=function(t,e){return Ac(e),this.prependListener(t,Ic(this,t,e)),this},Mc.prototype.removeListener=function(t,e){var r,n,i,o,s;if(Ac(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},Mc.prototype.off=Mc.prototype.removeListener,Mc.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},Mc.prototype.listeners=function(t){return Cc(this,t,!0)},Mc.prototype.rawListeners=function(t){return Cc(this,t,!1)},Mc.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):Pc.call(t,e)},Mc.prototype.listenerCount=Pc,Mc.prototype.eventNames=function(){return this._eventsCount>0?bc(this._events):[]};var Bc=wc.exports;var Uc=function(t){var e,r;function n(e){var r,n=(void 0===e?{}:e).supportedChainIds;return(r=t.call(this)||this).supportedChainIds=n,r}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var i=n.prototype;return i.emitUpdate=function(t){console.log("Emitting '"+qr.Update+"' with payload",t),this.emit(qr.Update,t)},i.emitError=function(t){console.log("Emitting '"+qr.Error+"' with payload",t),this.emit(qr.Error,t)},i.emitDeactivate=function(){console.log("Emitting '"+qr.Deactivate+"'"),this.emit(qr.Deactivate)},n}(wc.exports.EventEmitter);function jc(){return jc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jc.apply(this,arguments)}function Dc(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Fc(t){return Fc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fc(t)}function zc(t,e){return zc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},zc(t,e)}function qc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Hc(t,e,r){return Hc=qc()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&zc(i,r.prototype),i},Hc.apply(null,arguments)}function Wc(t){var e="function"==typeof Map?new Map:void 0;return Wc=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Hc(t,arguments,Fc(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),zc(n,t)},Wc(t)}function Gc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vc(t,e){try{var r=t()}catch(t){return e(t)}return r&&r.then?r.then(void 0,e):r}function Kc(t){return t.hasOwnProperty("result")?t.result:t}"undefined"==typeof Symbol||(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"==typeof Symbol||(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var $c=function(t){function e(){var e;return(e=t.call(this)||this).name=e.constructor.name,e.message="No Ethereum provider was found on window.ethereum.",e}return Dc(e,t),e}(Wc(Error)),Zc=function(t){function e(){var e;return(e=t.call(this)||this).name=e.constructor.name,e.message="The user rejected the request.",e}return Dc(e,t),e}(Wc(Error)),Jc=function(t){function e(e){var r;return(r=t.call(this,e)||this).handleNetworkChanged=r.handleNetworkChanged.bind(Gc(r)),r.handleChainChanged=r.handleChainChanged.bind(Gc(r)),r.handleAccountsChanged=r.handleAccountsChanged.bind(Gc(r)),r.handleClose=r.handleClose.bind(Gc(r)),r}Dc(e,t);var r=e.prototype;return r.handleChainChanged=function(t){console.log("Handling 'chainChanged' event with payload",t),this.emitUpdate({chainId:t,provider:window.ethereum})},r.handleAccountsChanged=function(t){console.log("Handling 'accountsChanged' event with payload",t),0===t.length?this.emitDeactivate():this.emitUpdate({account:t[0]})},r.handleClose=function(t,e){console.log("Handling 'close' event with payload",t,e),this.emitDeactivate()},r.handleNetworkChanged=function(t){console.log("Handling 'networkChanged' event with payload",t),this.emitUpdate({chainId:t,provider:window.ethereum})},r.activate=function(){try{var t,e=function(e){if(r)return e;function n(){return jc({provider:window.ethereum},t?{account:t}:{})}var i=function(){if(!t)return Promise.resolve(window.ethereum.enable().then((function(t){return t&&Kc(t)[0]}))).then((function(e){t=e}))}();return i&&i.then?i.then(n):n()},r=!1,n=this;if(!window.ethereum)throw new $c;window.ethereum.on&&(window.ethereum.on("chainChanged",n.handleChainChanged),window.ethereum.on("accountsChanged",n.handleAccountsChanged),window.ethereum.on("close",n.handleClose),window.ethereum.on("networkChanged",n.handleNetworkChanged)),window.ethereum.isMetaMask&&(window.ethereum.autoRefreshOnNetworkChange=!1);var i=Vc((function(){return Promise.resolve(window.ethereum.send("eth_requestAccounts").then((function(t){return Kc(t)[0]}))).then((function(e){t=e}))}),(function(t){if(4001===t.code)throw new Zc;"production"!==le.env.NODE_ENV&&Vr(!1,"eth_requestAccounts was unsuccessful, falling back to enable")}));return Promise.resolve(i&&i.then?i.then(e):e(i))}catch(t){return Promise.reject(t)}},r.getProvider=function(){try{return Promise.resolve(window.ethereum)}catch(t){return Promise.reject(t)}},r.getChainId=function(){try{var t,e=function(){function e(){if(!t)try{t=Kc(window.ethereum.send({method:"net_version"}))}catch(t){"production"!==le.env.NODE_ENV&&Vr(!1,"net_version v2 was unsuccessful, falling back to manual matches and static properties")}return t||(t=window.ethereum.isDapper?Kc(window.ethereum.cachedResults.net_version):window.ethereum.chainId||window.ethereum.netVersion||window.ethereum.networkVersion||window.ethereum._chainId),t}var r=function(){if(!t){var e=Vc((function(){return Promise.resolve(window.ethereum.send("net_version").then(Kc)).then((function(e){t=e}))}),(function(){"production"!==le.env.NODE_ENV&&Vr(!1,"net_version was unsuccessful, falling back to net version v2")}));if(e&&e.then)return e.then((function(){}))}}();return r&&r.then?r.then(e):e()};if(!window.ethereum)throw new $c;var r=Vc((function(){return Promise.resolve(window.ethereum.send("eth_chainId").then(Kc)).then((function(e){t=e}))}),(function(){"production"!==le.env.NODE_ENV&&Vr(!1,"eth_chainId was unsuccessful, falling back to net_version")}));return Promise.resolve(r&&r.then?r.then(e):e())}catch(t){return Promise.reject(t)}},r.getAccount=function(){try{var t,e=function(){function e(){return t||(t=Kc(window.ethereum.send({method:"eth_accounts"}))[0]),t}var r=function(){if(!t){var e=Vc((function(){return Promise.resolve(window.ethereum.enable().then((function(t){return Kc(t)[0]}))).then((function(e){t=e}))}),(function(){"production"!==le.env.NODE_ENV&&Vr(!1,"enable was unsuccessful, falling back to eth_accounts v2")}));if(e&&e.then)return e.then((function(){}))}}();return r&&r.then?r.then(e):e()};if(!window.ethereum)throw new $c;var r=Vc((function(){return Promise.resolve(window.ethereum.send("eth_accounts").then((function(t){return Kc(t)[0]}))).then((function(e){t=e}))}),(function(){"production"!==le.env.NODE_ENV&&Vr(!1,"eth_accounts was unsuccessful, falling back to enable")}));return Promise.resolve(r&&r.then?r.then(e):e())}catch(t){return Promise.reject(t)}},r.deactivate=function(){window.ethereum&&window.ethereum.removeListener&&(window.ethereum.removeListener("chainChanged",this.handleChainChanged),window.ethereum.removeListener("accountsChanged",this.handleAccountsChanged),window.ethereum.removeListener("close",this.handleClose),window.ethereum.removeListener("networkChanged",this.handleNetworkChanged))},r.isAuthorized=function(){try{return window.ethereum?Promise.resolve(Vc((function(){return Promise.resolve(window.ethereum.send("eth_accounts").then((function(t){return Kc(t).length>0})))}),(function(){return!1}))):Promise.resolve(!1)}catch(t){return Promise.reject(t)}},e}(Uc);function Yc(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Qc(t,e)}function Xc(t){return Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xc(t)}function Qc(t,e){return Qc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Qc(t,e)}function tl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function el(t,e,r){return el=tl()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&Qc(i,r.prototype),i},el.apply(null,arguments)}function rl(t){var e="function"==typeof Map?new Map:void 0;return rl=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return el(t,arguments,Xc(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Qc(n,t)},rl(t)}function nl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var il=function(t){function e(){var e;return(e=t.call(this)||this).name=e.constructor.name,e.message="The user rejected the request.",e}return Yc(e,t),e}(rl(Error));var ol=function(t){function e(e){var r,n,i,o;return r=t.call(this,{supportedChainIds:(n=e,i=n.supportedChainIds,o=n.rpc,i||(o?Object.keys(o).map((function(t){return Number(t)})):void 0))})||this,r.config=e,r.handleChainChanged=r.handleChainChanged.bind(nl(r)),r.handleAccountsChanged=r.handleAccountsChanged.bind(nl(r)),r.handleDisconnect=r.handleDisconnect.bind(nl(r)),r}Yc(e,t);var r=e.prototype;return r.handleChainChanged=function(t){console.log("Handling 'chainChanged' event with payload",t),this.emitUpdate({chainId:t})},r.handleAccountsChanged=function(t){console.log("Handling 'accountsChanged' event with payload",t),this.emitUpdate({account:t[0]})},r.handleDisconnect=function(){console.log("Handling 'disconnect' event"),this.emitDeactivate(),this.walletConnectProvider&&(this.walletConnectProvider.stop(),this.walletConnectProvider.removeListener("chainChanged",this.handleChainChanged),this.walletConnectProvider.removeListener("accountsChanged",this.handleAccountsChanged),this.walletConnectProvider=void 0),this.emitDeactivate()},r.activate=function(){try{var t=this,e=function(){function e(){return Promise.resolve(t.walletConnectProvider.enable().then((function(t){return t[0]})).catch((function(t){if("User closed modal"===t.message)throw new il;throw t}))).then((function(e){return t.walletConnectProvider.on("disconnect",t.handleDisconnect),t.walletConnectProvider.on("chainChanged",t.handleChainChanged),t.walletConnectProvider.on("accountsChanged",t.handleAccountsChanged),{provider:t.walletConnectProvider,account:e}}))}var r=function(){if(!t.walletConnectProvider.wc.connected)return Promise.resolve(t.walletConnectProvider.wc.createSession({chainId:t.supportedChainIds&&t.supportedChainIds.length>0?t.supportedChainIds[0]:1})).then((function(){t.emit("URI_AVAILABLE",t.walletConnectProvider.wc.uri)}))}();return r&&r.then?r.then(e):e()},r=function(){if(!t.walletConnectProvider)return Promise.resolve(Promise.resolve().then((function(){return YH})).then((function(t){var e;return null!=(e=null==t?void 0:t.default)?e:t}))).then((function(e){t.walletConnectProvider=new e(t.config)}))}();return Promise.resolve(r&&r.then?r.then(e):e())}catch(t){return Promise.reject(t)}},r.getProvider=function(){try{return Promise.resolve(this.walletConnectProvider)}catch(t){return Promise.reject(t)}},r.getChainId=function(){try{return Promise.resolve(this.walletConnectProvider.send("eth_chainId"))}catch(t){return Promise.reject(t)}},r.getAccount=function(){try{return Promise.resolve(this.walletConnectProvider.send("eth_accounts").then((function(t){return t[0]})))}catch(t){return Promise.reject(t)}},r.deactivate=function(){this.walletConnectProvider&&(this.walletConnectProvider.stop(),this.walletConnectProvider.removeListener("disconnect",this.handleDisconnect),this.walletConnectProvider.removeListener("chainChanged",this.handleChainChanged),this.walletConnectProvider.removeListener("accountsChanged",this.handleAccountsChanged))},r.close=function(){try{var t;return Promise.resolve(null==(t=this.walletConnectProvider)?void 0:t.close()).then((function(){}))}catch(t){return Promise.reject(t)}},e}(Uc);const sl={metamask:{connector:t=>new Jc({supportedChainIds:[t]}),name:"Metamask",label:"Connect with MetaMask",iconUrl:"https://docs.metamask.io/metamask-fox.svg"},walletConnect:{connector:t=>{var e;return new ol({rpc:{[t]:(null===(e=hc.find((e=>(null==e?void 0:e.chainId)===t)))||void 0===e?void 0:e.rpcUrl)||""},supportedChainIds:[t],qrcode:!0,pollingInterval:12e3,storageId:"sleek-wc"})},name:"Wallet Connect",iconUrl:"https://raw.githubusercontent.com/WalletConnect/walletconnect-assets/492d95c038bbcde1517cab5fb90ed4514690e919/svg/original/walletconnect-logo.svg",label:"Connect with Wallet Connect"}};function al({chainId:t}){const[e,r]=Qe(null),{goForward:n}=An(),{account:i,activate:o}=dn();er((()=>{i&&n()}),[i]);const s=e=>Ue(this,void 0,void 0,(function*(){const n=Object.keys(sl).find((t=>t===e));if(!n)return;const i=sl[n];if(!i)return;const s=i.connector(t);try{r(null),yield dc(o,s,t)}catch(t){if(t instanceof an)return r("unsupported-chain");console.error("SleekCheckout: Error connecting wallet",t),r("general-error")}})),a=Object.keys(sl).map((t=>{const e=sl[t];return{name:t,label:e.label,image:e.iconUrl,onSelect:s}})).filter(Boolean);return d("div",null,d("h4",{class:"block text-sm mb-3"},"Select wallet to continue"),d(vc,{options:a}),e&&d("p",{class:"text-sm mt-5 text-red-700"},"unsupported-chain"===e?"Error connecting wallet, please select a different network.":"Error connecting wallet, please try again with a different option."))}function ul({selectedToken:t,setSelectedToken:e}){const[r,n]=Qe(!1),{goForward:i}=An(),{chainId:o}=dn(),s=t=>{t&&e(t)},a=Object.keys(lc).map((t=>{const e=lc[t](o);return{name:t,label:t.toUpperCase(),image:null==e?void 0:e.icon,onSelect:s}}));return d("div",null,d("h4",{class:"block text-sm mb-3"},"Select token to continue"),d(vc,{selected:t,options:a}),r&&d("p",{class:"text-sm mt-5 text-red-700"},"Please select a token"),d("button",{class:"btn",disabled:!t,onClick:()=>{t?i():n(!0)}},"Proceed"))}const cl=new K("units/5.5.0"),ll=["wei","kwei","mwei","gwei","szabo","finney","ether"];function hl(t,e){if("string"!=typeof t&&cl.throwArgumentError("value must be a string","value",t),"string"==typeof e){const t=ll.indexOf(e);-1!==t&&(e=3*t)}return Lt(t,null!=e?e:18)}const fl="abi/5.5.0",dl=new K(fl),pl={};let ml={calldata:!0,memory:!0,storage:!0},gl={calldata:!0,memory:!0};function yl(t,e){if("bytes"===t||"string"===t){if(ml[e])return!0}else if("address"===t){if("payable"===e)return!0}else if((t.indexOf("[")>=0||"tuple"===t)&&gl[e])return!0;return(ml[e]||"payable"===e)&&dl.throwArgumentError("invalid modifier","name",e),!1}function vl(t,e){for(let r in e)Un(t,r,e[r])}const _l=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),bl=new RegExp(/^(.*)\[([0-9]*)\]$/);class wl{constructor(t,e){t!==pl&&dl.throwError("use fromString",K.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),vl(this,e);let r=this.type.match(bl);vl(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:wl.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=_l.sighash),_l[t]||dl.throwArgumentError("invalid format type","format",t),t===_l.json){let e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(e.indexed=this.indexed),this.components&&(e.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(e)}let e="";return"array"===this.baseType?(e+=this.arrayChildren.format(t),e+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(t!==_l.sighash&&(e+=this.type),e+="("+this.components.map((e=>e.format(t))).join(t===_l.full?", ":",")+")"):e+=this.type,t!==_l.sighash&&(!0===this.indexed&&(e+=" indexed"),t===_l.full&&this.name&&(e+=" "+this.name)),e}static from(t,e){return"string"==typeof t?wl.fromString(t,e):wl.fromObject(t)}static fromObject(t){return wl.isParamType(t)?t:new wl(pl,{name:t.name||null,type:Cl(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(wl.fromObject):null})}static fromString(t,e){return function(t){return wl.fromObject({name:t.name,type:t.type,indexed:t.indexed,components:t.components})}(function(t,e){let r=t;function n(e){dl.throwArgumentError(`unexpected character at position ${e}`,"param",t)}function i(t){let r={type:"",name:"",parent:t,state:{allowType:!0}};return e&&(r.indexed=!1),r}t=t.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},s=o;for(let r=0;r<t.length;r++){let o=t[r];switch(o){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(r),s.state.allowType=!1,s.type=Cl(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(e||n(r),s.indexed=!0,s.name=""),yl(s.type,s.name)&&(s.name=""),s.type=Cl(s.type);let t=s;s=s.parent,s||n(r),delete t.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(e||n(r),s.indexed=!0,s.name=""),yl(s.type,s.name)&&(s.name=""),s.type=Cl(s.type);let a=i(s.parent);s.parent.components.push(a),delete s.parent,s=a;break;case" ":s.state.allowType&&""!==s.type&&(s.type=Cl(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(e||n(r),s.indexed&&n(r),s.indexed=!0,s.name=""):yl(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(r),s.type+=o,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(r),s.type+=o,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=o,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=o,delete s.state.allowArray):s.state.readArray?s.type+=o:n(r)}}return s.parent&&dl.throwArgumentError("unexpected eof","param",t),delete o.state,"indexed"===s.name?(e||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):yl(s.type,s.name)&&(s.name=""),o.type=Cl(o.type),o}(t,!!e))}static isParamType(t){return!(null==t||!t._isParamType)}}function El(t,e){return function(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let o=t[i];","===o&&0===n?(e.push(r),r=""):(r+=o,"("===o?n++:")"===o&&(n--,-1===n&&dl.throwArgumentError("unbalanced parenthesis","value",t)))}r&&e.push(r);return e}(t).map((t=>wl.fromString(t,e)))}class xl{constructor(t,e){t!==pl&&dl.throwError("use a static from method",K.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),vl(this,e),this._isFragment=!0,Object.freeze(this)}static from(t){return xl.isFragment(t)?t:"string"==typeof t?xl.fromString(t):xl.fromObject(t)}static fromObject(t){if(xl.isFragment(t))return t;switch(t.type){case"function":return Tl.fromObject(t);case"event":return Sl.fromObject(t);case"constructor":return Rl.fromObject(t);case"error":return Il.fromObject(t);case"fallback":case"receive":return null}return dl.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return"event"===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Sl.fromString(t.substring(5).trim()):"function"===t.split(" ")[0]?Tl.fromString(t.substring(8).trim()):"constructor"===t.split("(")[0].trim()?Rl.fromString(t.trim()):"error"===t.split(" ")[0]?Il.fromString(t.substring(5).trim()):dl.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!(!t||!t._isFragment)}}class Sl extends xl{format(t){if(t||(t=_l.sighash),_l[t]||dl.throwArgumentError("invalid format type","format",t),t===_l.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==_l.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===_l.full?", ":",")+") ",t!==_l.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}static from(t){return"string"==typeof t?Sl.fromString(t):Sl.fromObject(t)}static fromObject(t){if(Sl.isEventFragment(t))return t;"event"!==t.type&&dl.throwArgumentError("invalid event object","value",t);const e={name:Nl(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(wl.fromObject):[],type:"event"};return new Sl(pl,e)}static fromString(t){let e=t.match(Ll);e||dl.throwArgumentError("invalid event string","value",t);let r=!1;return e[3].split(" ").forEach((t=>{switch(t.trim()){case"anonymous":r=!0;break;case"":break;default:dl.warn("unknown modifier: "+t)}})),Sl.fromObject({name:e[1].trim(),anonymous:r,inputs:El(e[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&"event"===t.type}}function Ml(t,e){e.gas=null;let r=t.split("@");return 1!==r.length?(r.length>2&&dl.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||dl.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Et.from(r[1]),r[0]):t}function kl(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach((t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}}))}function Al(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return null!=t.stateMutability?(e.stateMutability=t.stateMutability,e.constant="view"===e.stateMutability||"pure"===e.stateMutability,null!=t.constant&&!!t.constant!==e.constant&&dl.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable="payable"===e.stateMutability,null!=t.payable&&!!t.payable!==e.payable&&dl.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):null!=t.payable?(e.payable=!!t.payable,null!=t.constant||e.payable||"constructor"===t.type||dl.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&dl.throwArgumentError("cannot have constant payable function","value",t)):null!=t.constant?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):"constructor"!==t.type&&dl.throwArgumentError("unable to determine stateMutability","value",t),e}class Rl extends xl{format(t){if(t||(t=_l.sighash),_l[t]||dl.throwArgumentError("invalid format type","format",t),t===_l.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});t===_l.sighash&&dl.throwError("cannot format a constructor for sighash",K.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let e="constructor("+this.inputs.map((e=>e.format(t))).join(t===_l.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "),e.trim()}static from(t){return"string"==typeof t?Rl.fromString(t):Rl.fromObject(t)}static fromObject(t){if(Rl.isConstructorFragment(t))return t;"constructor"!==t.type&&dl.throwArgumentError("invalid constructor object","value",t);let e=Al(t);e.constant&&dl.throwArgumentError("constructor cannot be constant","value",t);const r={name:null,type:t.type,inputs:t.inputs?t.inputs.map(wl.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?Et.from(t.gas):null};return new Rl(pl,r)}static fromString(t){let e={type:"constructor"},r=(t=Ml(t,e)).match(Ll);return r&&"constructor"===r[1].trim()||dl.throwArgumentError("invalid constructor string","value",t),e.inputs=El(r[2].trim(),!1),kl(r[3].trim(),e),Rl.fromObject(e)}static isConstructorFragment(t){return t&&t._isFragment&&"constructor"===t.type}}class Tl extends Rl{format(t){if(t||(t=_l.sighash),_l[t]||dl.throwArgumentError("invalid format type","format",t),t===_l.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==_l.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===_l.full?", ":",")+") ",t!==_l.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map((e=>e.format(t))).join(", ")+") "),null!=this.gas&&(e+="@"+this.gas.toString()+" ")),e.trim()}static from(t){return"string"==typeof t?Tl.fromString(t):Tl.fromObject(t)}static fromObject(t){if(Tl.isFunctionFragment(t))return t;"function"!==t.type&&dl.throwArgumentError("invalid function object","value",t);let e=Al(t);const r={type:t.type,name:Nl(t.name),constant:e.constant,inputs:t.inputs?t.inputs.map(wl.fromObject):[],outputs:t.outputs?t.outputs.map(wl.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?Et.from(t.gas):null};return new Tl(pl,r)}static fromString(t){let e={type:"function"},r=(t=Ml(t,e)).split(" returns ");r.length>2&&dl.throwArgumentError("invalid function string","value",t);let n=r[0].match(Ll);if(n||dl.throwArgumentError("invalid function signature","value",t),e.name=n[1].trim(),e.name&&Nl(e.name),e.inputs=El(n[2],!1),kl(n[3].trim(),e),r.length>1){let n=r[1].match(Ll);""==n[1].trim()&&""==n[3].trim()||dl.throwArgumentError("unexpected tokens","value",t),e.outputs=El(n[2],!1)}else e.outputs=[];return Tl.fromObject(e)}static isFunctionFragment(t){return t&&t._isFragment&&"function"===t.type}}function Ol(t){const e=t.format();return"Error(string)"!==e&&"Panic(uint256)"!==e||dl.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Il extends xl{format(t){if(t||(t=_l.sighash),_l[t]||dl.throwArgumentError("invalid format type","format",t),t===_l.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==_l.sighash&&(e+="error "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===_l.full?", ":",")+") ",e.trim()}static from(t){return"string"==typeof t?Il.fromString(t):Il.fromObject(t)}static fromObject(t){if(Il.isErrorFragment(t))return t;"error"!==t.type&&dl.throwArgumentError("invalid error object","value",t);const e={type:t.type,name:Nl(t.name),inputs:t.inputs?t.inputs.map(wl.fromObject):[]};return Ol(new Il(pl,e))}static fromString(t){let e={type:"error"},r=t.match(Ll);return r||dl.throwArgumentError("invalid error signature","value",t),e.name=r[1].trim(),e.name&&Nl(e.name),e.inputs=El(r[2],!1),Ol(Il.fromObject(e))}static isErrorFragment(t){return t&&t._isFragment&&"error"===t.type}}function Cl(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const Pl=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Nl(t){return t&&t.match(Pl)||dl.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Ll=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");const Bl=new K(fl);class Ul{constructor(t,e,r,n){this.name=t,this.type=e,this.localName=r,this.dynamic=n}_throwError(t,e){Bl.throwArgumentError(t,this.localName,e)}}class jl{constructor(t){Un(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return ut(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData(et(t._data))}writeBytes(t){let e=tt(t);const r=e.length%this.wordSize;return r&&(e=et([e,this._padding.slice(r)])),this._writeData(e)}_getValue(t){let e=tt(Et.from(t));return e.length>this.wordSize&&Bl.throwError("value out-of-bounds",K.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=et([this._padding.slice(e.length%this.wordSize),e])),e}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,e=>{this._data[t]=this._getValue(e)}}}class Dl{constructor(t,e,r,n){Un(this,"_data",tt(t)),Un(this,"wordSize",e||32),Un(this,"_coerceFunc",r),Un(this,"allowLoose",n),this._offset=0}get data(){return ot(this._data)}get consumed(){return this._offset}static coerce(t,e){let r=t.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(e=e.toNumber()),e}coerce(t,e){return this._coerceFunc?this._coerceFunc(t,e):Dl.coerce(t,e)}_peekBytes(t,e,r){let n=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+e<=this._data.length?n=e:Bl.throwError("data out-of-bounds",K.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(t){return new Dl(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,e){let r=this._peekBytes(0,t,!!e);return this._offset+=r.length,r.slice(0,t)}readValue(){return Et.from(this.readBytes(this.wordSize))}}class Fl extends Ul{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){try{e=ke(e)}catch(t){this._throwError(t.message,e)}return t.writeValue(e)}decode(t){return ke(lt(t.readValue().toHexString(),20))}}class zl extends Ul{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}const ql=new K(fl);function Hl(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let t={};n=e.map((e=>{const n=e.localName;return n||ql.throwError("cannot encode object for signature with missing names",K.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]&&ql.throwError("cannot encode object for signature with duplicate names",K.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]=!0,r[n]}))}else ql.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&ql.throwArgumentError("types/value length mismatch","tuple",r);let i=new jl(t.wordSize),o=new jl(t.wordSize),s=[];e.forEach(((t,e)=>{let r=n[e];if(t.dynamic){let e=o.length;t.encode(o,r);let n=i.writeUpdatableValue();s.push((t=>{n(t+e)}))}else t.encode(i,r)})),s.forEach((t=>{t(i.length)}));let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function Wl(t,e){let r=[],n=t.subReader(0);e.forEach((e=>{let i=null;if(e.dynamic){let r=t.readValue(),o=n.subReader(r.toNumber());try{i=e.decode(o)}catch(t){if(t.code===K.errors.BUFFER_OVERRUN)throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(t){if(t.code===K.errors.BUFFER_OVERRUN)throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}null!=i&&r.push(i)}));const i=e.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});e.forEach(((t,e)=>{let n=t.localName;if(!n||1!==i[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const o=r[e];o instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw o}}):r[n]=o}));for(let t=0;t<r.length;t++){const e=r[t];e instanceof Error&&Object.defineProperty(r,t,{enumerable:!0,get:()=>{throw e}})}return Object.freeze(r)}class Gl extends Ul{constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),this.coder=t,this.length=e}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){Array.isArray(e)||this._throwError("expected array value",e);let r=this.length;-1===r&&(r=e.length,t.writeValue(e.length)),ql.checkArgumentCount(e.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let t=0;t<e.length;t++)n.push(this.coder);return Hl(t,n,e)}decode(t){let e=this.length;-1===e&&(e=t.readValue().toNumber(),32*e>t._data.length&&ql.throwError("insufficient data length",K.errors.BUFFER_OVERRUN,{length:t._data.length,count:e}));let r=[];for(let t=0;t<e;t++)r.push(new zl(this.coder));return t.coerce(this.name,Wl(t,r))}}class Vl extends Ul{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){return t.writeValue(e?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class Kl extends Ul{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=tt(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class $l extends Kl{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,ot(super.decode(t)))}}class Zl extends Ul{constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=tt(e);return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return t.coerce(this.name,ot(t.readBytes(this.size)))}}class Jl extends Ul{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}class Yl extends Ul{constructor(t,e,r){const n=(e?"int":"uint")+8*t;super(n,n,r,!1),this.size=t,this.signed=e}defaultValue(){return 0}encode(t,e){let r=Et.from(e),n=Pe.mask(8*t.wordSize);if(this.signed){let t=n.mask(8*this.size-1);(r.gt(t)||r.lt(t.add(Ce).mul(Oe)))&&this._throwError("value out-of-bounds",e)}else(r.lt(Ie)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",e);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*t.wordSize)),t.writeValue(r)}decode(t){let e=t.readValue().mask(8*this.size);return this.signed&&(e=e.fromTwos(8*this.size)),t.coerce(this.name,e)}}class Xl extends Kl{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,hi(e))}decode(t){return di(super.decode(t))}}class Ql extends Ul{constructor(t,e){let r=!1;const n=[];t.forEach((t=>{t.dynamic&&(r=!0),n.push(t.type)}));super("tuple","tuple("+n.join(",")+")",e,r),this.coders=t}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===e[i]&&("length"===i&&(i="_length"),null==t[i]&&(t[i]=t[n]))})),Object.freeze(t)}encode(t,e){return Hl(t,this.coders,e)}decode(t){return t.coerce(this.name,Wl(t,this.coders))}}const th=new K(fl),eh=new RegExp(/^bytes([0-9]*)$/),rh=new RegExp(/^(u?int)([0-9]*)$/);class nh{constructor(t){th.checkNew(new.target,nh),Un(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new Fl(t.name);case"bool":return new Vl(t.name);case"string":return new Xl(t.name);case"bytes":return new $l(t.name);case"array":return new Gl(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new Ql((t.components||[]).map((t=>this._getCoder(t))),t.name);case"":return new Jl(t.name)}let e=t.type.match(rh);if(e){let r=parseInt(e[2]||"256");return(0===r||r>256||r%8!=0)&&th.throwArgumentError("invalid "+e[1]+" bit length","param",t),new Yl(r/8,"int"===e[1],t.name)}if(e=t.type.match(eh),e){let r=parseInt(e[1]);return(0===r||r>32)&&th.throwArgumentError("invalid bytes length","param",t),new Zl(r,t.name)}return th.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,e){return new Dl(t,this._getWordSize(),this.coerceFunc,e)}_getWriter(){return new jl(this._getWordSize())}getDefaultValue(t){const e=t.map((t=>this._getCoder(wl.from(t))));return new Ql(e,"_").defaultValue()}encode(t,e){t.length!==e.length&&th.throwError("types/values length mismatch",K.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});const r=t.map((t=>this._getCoder(wl.from(t)))),n=new Ql(r,"_"),i=this._getWriter();return n.encode(i,e),i.data}decode(t,e,r){const n=t.map((t=>this._getCoder(wl.from(t))));return new Ql(n,"_").decode(this._getReader(tt(e),r))}}const ih=new nh,oh=new K(fl);class sh extends Gn{}class ah extends Gn{}class uh extends Gn{}class ch extends Gn{static isIndexed(t){return!(!t||!t._isIndexed)}}const lh={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function hh(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class fh{constructor(t){oh.checkNew(new.target,fh);let e=[];e="string"==typeof t?JSON.parse(t):t,Un(this,"fragments",e.map((t=>xl.from(t))).filter((t=>null!=t))),Un(this,"_abiCoder",jn(new.target,"getAbiCoder")()),Un(this,"functions",{}),Un(this,"errors",{}),Un(this,"events",{}),Un(this,"structs",{}),this.fragments.forEach((t=>{let e=null;switch(t.type){case"constructor":return this.deploy?void oh.warn("duplicate definition - constructor"):void Un(this,"deploy",t);case"function":e=this.functions;break;case"event":e=this.events;break;case"error":e=this.errors;break;default:return}let r=t.format();e[r]?oh.warn("duplicate definition - "+r):e[r]=t})),this.deploy||Un(this,"deploy",Rl.from({payable:!1,type:"constructor"})),Un(this,"_isInterface",!0)}format(t){t||(t=_l.full),t===_l.sighash&&oh.throwArgumentError("interface does not support formatting sighash","format",t);const e=this.fragments.map((e=>e.format(t)));return t===_l.json?JSON.stringify(e.map((t=>JSON.parse(t)))):e}static getAbiCoder(){return ih}static getAddress(t){return ke(t)}static getSighash(t){return at(ki(t.format()),0,4)}static getEventTopic(t){return ki(t.format())}getFunction(t){if(nt(t)){for(const e in this.functions)if(t===this.getSighash(e))return this.functions[e];oh.throwArgumentError("no matching function","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.functions).filter((t=>t.split("(")[0]===e));return 0===r.length?oh.throwArgumentError("no matching function","name",e):r.length>1&&oh.throwArgumentError("multiple matching functions","name",e),this.functions[r[0]]}const e=this.functions[Tl.fromString(t).format()];return e||oh.throwArgumentError("no matching function","signature",t),e}getEvent(t){if(nt(t)){const e=t.toLowerCase();for(const t in this.events)if(e===this.getEventTopic(t))return this.events[t];oh.throwArgumentError("no matching event","topichash",e)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.events).filter((t=>t.split("(")[0]===e));return 0===r.length?oh.throwArgumentError("no matching event","name",e):r.length>1&&oh.throwArgumentError("multiple matching events","name",e),this.events[r[0]]}const e=this.events[Sl.fromString(t).format()];return e||oh.throwArgumentError("no matching event","signature",t),e}getError(t){if(nt(t)){const e=jn(this.constructor,"getSighash");for(const r in this.errors){if(t===e(this.errors[r]))return this.errors[r]}oh.throwArgumentError("no matching error","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.errors).filter((t=>t.split("(")[0]===e));return 0===r.length?oh.throwArgumentError("no matching error","name",e):r.length>1&&oh.throwArgumentError("multiple matching errors","name",e),this.errors[r[0]]}const e=this.errors[Tl.fromString(t).format()];return e||oh.throwArgumentError("no matching error","signature",t),e}getSighash(t){if("string"==typeof t)try{t=this.getFunction(t)}catch(e){try{t=this.getError(t)}catch(t){throw e}}return jn(this.constructor,"getSighash")(t)}getEventTopic(t){return"string"==typeof t&&(t=this.getEvent(t)),jn(this.constructor,"getEventTopic")(t)}_decodeParams(t,e){return this._abiCoder.decode(t,e)}_encodeParams(t,e){return this._abiCoder.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){"string"==typeof t&&(t=this.getError(t));const r=tt(e);return ot(r.slice(0,4))!==this.getSighash(t)&&oh.throwArgumentError(`data signature does not match error ${t.name}.`,"data",ot(r)),this._decodeParams(t.inputs,r.slice(4))}encodeErrorResult(t,e){return"string"==typeof t&&(t=this.getError(t)),ot(et([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionData(t,e){"string"==typeof t&&(t=this.getFunction(t));const r=tt(e);return ot(r.slice(0,4))!==this.getSighash(t)&&oh.throwArgumentError(`data signature does not match function ${t.name}.`,"data",ot(r)),this._decodeParams(t.inputs,r.slice(4))}encodeFunctionData(t,e){return"string"==typeof t&&(t=this.getFunction(t)),ot(et([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionResult(t,e){"string"==typeof t&&(t=this.getFunction(t));let r=tt(e),n=null,i=null,o=null,s=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,r)}catch(t){}break;case 4:{const t=ot(r.slice(0,4)),e=lh[t];if(e)i=this._abiCoder.decode(e.inputs,r.slice(4)),o=e.name,s=e.signature,e.reason&&(n=i[0]);else try{const e=this.getError(t);i=this._abiCoder.decode(e.inputs,r.slice(4)),o=e.name,s=e.format()}catch(t){console.log(t)}break}}return oh.throwError("call revert exception",K.errors.CALL_EXCEPTION,{method:t.format(),errorArgs:i,errorName:o,errorSignature:s,reason:n})}encodeFunctionResult(t,e){return"string"==typeof t&&(t=this.getFunction(t)),ot(this._abiCoder.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){"string"==typeof t&&(t=this.getEvent(t)),e.length>t.inputs.length&&oh.throwError("too many arguments for "+t.format(),K.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});let r=[];t.anonymous||r.push(this.getEventTopic(t));const n=(t,e)=>"string"===t.type?ki(e):"bytes"===t.type?de(ot(e)):("address"===t.type&&this._abiCoder.encode(["address"],[e]),lt(ot(e),32));for(e.forEach(((e,i)=>{let o=t.inputs[i];o.indexed?null==e?r.push(null):"array"===o.baseType||"tuple"===o.baseType?oh.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,e):Array.isArray(e)?r.push(e.map((t=>n(o,t)))):r.push(n(o,e)):null!=e&&oh.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,e)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){"string"==typeof t&&(t=this.getEvent(t));const r=[],n=[],i=[];return t.anonymous||r.push(this.getEventTopic(t)),e.length!==t.inputs.length&&oh.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach(((t,o)=>{const s=e[o];if(t.indexed)if("string"===t.type)r.push(ki(s));else if("bytes"===t.type)r.push(de(s));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([t.type],[s]))}else n.push(t),i.push(s)})),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(t,e,r){if("string"==typeof t&&(t=this.getEvent(t)),null!=r&&!t.anonymous){let e=this.getEventTopic(t);nt(r[0],32)&&r[0].toLowerCase()===e||oh.throwError("fragment/topic mismatch",K.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:e,value:r[0]}),r=r.slice(1)}let n=[],i=[],o=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(n.push(wl.fromObject({type:"bytes32",name:t.name})),o.push(!0)):(n.push(t),o.push(!1)):(i.push(t),o.push(!1))}));let s=null!=r?this._abiCoder.decode(n,et(r)):null,a=this._abiCoder.decode(i,e,!0),u=[],c=0,l=0;t.inputs.forEach(((t,e)=>{if(t.indexed)if(null==s)u[e]=new ch({_isIndexed:!0,hash:null});else if(o[e])u[e]=new ch({_isIndexed:!0,hash:s[l++]});else try{u[e]=s[l++]}catch(t){u[e]=t}else try{u[e]=a[c++]}catch(t){u[e]=t}if(t.name&&null==u[t.name]){const r=u[e];r instanceof Error?Object.defineProperty(u,t.name,{enumerable:!0,get:()=>{throw hh(`property ${JSON.stringify(t.name)}`,r)}}):u[t.name]=r}}));for(let t=0;t<u.length;t++){const e=u[t];e instanceof Error&&Object.defineProperty(u,t,{enumerable:!0,get:()=>{throw hh(`index ${t}`,e)}})}return Object.freeze(u)}parseTransaction(t){let e=this.getFunction(t.data.substring(0,10).toLowerCase());return e?new ah({args:this._abiCoder.decode(e.inputs,"0x"+t.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:Et.from(t.value||"0")}):null}parseLog(t){let e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new sh({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}parseError(t){const e=ot(t);let r=this.getError(e.substring(0,10).toLowerCase());return r?new uh({args:this._abiCoder.decode(r.inputs,"0x"+e.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(t){return!(!t||!t._isInterface)}}var dh=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):function(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const ph=new K("contracts/5.5.0");function mh(t,e){return dh(this,void 0,void 0,(function*(){const r=yield e;"string"!=typeof r&&ph.throwArgumentError("invalid address or ENS name","name",r);try{return ke(r)}catch(t){}t||ph.throwError("a provider or signer is needed to resolve ENS names",K.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return null==n&&ph.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n}))}function gh(t,e,r){return dh(this,void 0,void 0,(function*(){return Array.isArray(r)?yield Promise.all(r.map(((r,n)=>gh(t,Array.isArray(e)?e[n]:e[r.name],r)))):"address"===r.type?yield mh(t,e):"tuple"===r.type?yield gh(t,e,r.components):"array"===r.baseType?Array.isArray(e)?yield Promise.all(e.map((e=>gh(t,e,r.arrayChildren)))):Promise.reject(ph.makeError("invalid value for array",K.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e}))}function yh(t,e,r){return dh(this,void 0,void 0,(function*(){let n={};r.length===e.inputs.length+1&&"object"==typeof r[r.length-1]&&(n=Fn(r.pop())),ph.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=Dn({override:mh(t.signer,n.from),signer:t.signer.getAddress()}).then((t=>dh(this,void 0,void 0,(function*(){return ke(t.signer)!==t.override&&ph.throwError("Contract with a Signer cannot override from",K.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),t.override})))):n.from=t.signer.getAddress():n.from&&(n.from=mh(t.provider,n.from));const i=yield Dn({args:gh(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:Dn(n)||{}}),o=t.interface.encodeFunctionData(e,i.args),s={data:o,to:i.address},a=i.overrides;if(null!=a.nonce&&(s.nonce=Et.from(a.nonce).toNumber()),null!=a.gasLimit&&(s.gasLimit=Et.from(a.gasLimit)),null!=a.gasPrice&&(s.gasPrice=Et.from(a.gasPrice)),null!=a.maxFeePerGas&&(s.maxFeePerGas=Et.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=Et.from(a.maxPriorityFeePerGas)),null!=a.from&&(s.from=a.from),null!=a.type&&(s.type=a.type),null!=a.accessList&&(s.accessList=fu(a.accessList)),null==s.gasLimit&&null!=e.gas){let t=21e3;const r=tt(o);for(let e=0;e<r.length;e++)t+=4,r[e]&&(t+=64);s.gasLimit=Et.from(e.gas).add(t)}if(a.value){const t=Et.from(a.value);t.isZero()||e.payable||ph.throwError("non-payable method cannot override value",K.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=t}a.customData&&(s.customData=Fn(a.customData)),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData;const u=Object.keys(n).filter((t=>null!=n[t]));return u.length&&ph.throwError(`cannot override ${u.map((t=>JSON.stringify(t))).join(",")}`,K.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:u}),s}))}function vh(t,e,r){const n=t.signer||t.provider;return function(...i){return dh(this,void 0,void 0,(function*(){let o;if(i.length===e.inputs.length+1&&"object"==typeof i[i.length-1]){const t=Fn(i.pop());null!=t.blockTag&&(o=yield t.blockTag),delete t.blockTag,i.push(t)}null!=t.deployTransaction&&(yield t._deployed(o));const s=yield yh(t,e,i),a=yield n.call(s,o);try{let n=t.interface.decodeFunctionResult(e,a);return r&&1===e.outputs.length&&(n=n[0]),n}catch(e){throw e.code===K.errors.CALL_EXCEPTION&&(e.address=t.address,e.args=i,e.transaction=s),e}}))}}function _h(t,e){return function(...r){return dh(this,void 0,void 0,(function*(){t.signer||ph.throwError("sending a transaction requires a signer",K.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=t.deployTransaction&&(yield t._deployed());const n=yield yh(t,e,r),i=yield t.signer.sendTransaction(n);return function(t,e){const r=e.wait.bind(e);e.wait=e=>r(e).then((e=>(e.events=e.logs.map((r=>{let n=Wn(r),i=null;try{i=t.interface.parseLog(r)}catch(t){}return i&&(n.args=i.args,n.decode=(e,r)=>t.interface.decodeEventLog(i.eventFragment,e,r),n.event=i.name,n.eventSignature=i.signature),n.removeListener=()=>t.provider,n.getBlock=()=>t.provider.getBlock(e.blockHash),n.getTransaction=()=>t.provider.getTransaction(e.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(e),n})),e)))}(t,i),i}))}}function bh(t,e,r){return e.constant?vh(t,e,r):_h(t,e)}function wh(t){return!t.address||null!=t.topics&&0!==t.topics.length?(t.address||"*")+"@"+(t.topics?t.topics.map((t=>Array.isArray(t)?t.join("|"):t)).join(":"):""):"*"}class Eh{constructor(t,e){Un(this,"tag",t),Un(this,"filter",e),this._listeners=[]}addListener(t,e){this._listeners.push({listener:t,once:e})}removeListener(t){let e=!1;this._listeners=this._listeners.filter((r=>!(!e&&r.listener===t)||(e=!0,!1)))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((t=>t.listener))}listenerCount(){return this._listeners.length}run(t){const e=this.listenerCount();return this._listeners=this._listeners.filter((e=>{const r=t.slice();return setTimeout((()=>{e.listener.apply(this,r)}),0),!e.once})),e}prepareEvent(t){}getEmit(t){return[t]}}class xh extends Eh{constructor(){super("error",null)}}class Sh extends Eh{constructor(t,e,r,n){const i={address:t};let o=e.getEventTopic(r);n?(o!==n[0]&&ph.throwArgumentError("topic mismatch","topics",n),i.topics=n.slice()):i.topics=[o],super(wh(i),i),Un(this,"address",t),Un(this,"interface",e),Un(this,"fragment",r)}prepareEvent(t){super.prepareEvent(t),t.event=this.fragment.name,t.eventSignature=this.fragment.format(),t.decode=(t,e)=>this.interface.decodeEventLog(this.fragment,t,e);try{t.args=this.interface.decodeEventLog(this.fragment,t.data,t.topics)}catch(e){t.args=null,t.decodeError=e}}getEmit(t){const e=function(t){const e=[],r=function(t,n){if(Array.isArray(n))for(let i in n){const o=t.slice();o.push(i);try{r(o,n[i])}catch(t){e.push({path:o,error:t})}}};return r([],t),e}(t.args);if(e.length)throw e[0].error;const r=(t.args||[]).slice();return r.push(t),r}}class Mh extends Eh{constructor(t,e){super("*",{address:t}),Un(this,"address",t),Un(this,"interface",e)}prepareEvent(t){super.prepareEvent(t);try{const e=this.interface.parseLog(t);t.event=e.name,t.eventSignature=e.signature,t.decode=(t,r)=>this.interface.decodeEventLog(e.eventFragment,t,r),t.args=e.args}catch(t){}}}class kh extends class{constructor(t,e,r){ph.checkNew(new.target,kh),Un(this,"interface",jn(new.target,"getInterface")(e)),null==r?(Un(this,"provider",null),Un(this,"signer",null)):Gu.isSigner(r)?(Un(this,"provider",r.provider||null),Un(this,"signer",r)):Zn.isProvider(r)?(Un(this,"provider",r),Un(this,"signer",null)):ph.throwArgumentError("invalid signer or provider","signerOrProvider",r),Un(this,"callStatic",{}),Un(this,"estimateGas",{}),Un(this,"functions",{}),Un(this,"populateTransaction",{}),Un(this,"filters",{});{const t={};Object.keys(this.interface.events).forEach((e=>{const r=this.interface.events[e];Un(this.filters,e,((...t)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,t)}))),t[r.name]||(t[r.name]=[]),t[r.name].push(e)})),Object.keys(t).forEach((e=>{const r=t[e];1===r.length?Un(this.filters,e,this.filters[r[0]]):ph.warn(`Duplicate definition of ${e} (${r.join(", ")})`)}))}if(Un(this,"_runningEvents",{}),Un(this,"_wrappedEmits",{}),null==t&&ph.throwArgumentError("invalid contract address or ENS name","addressOrName",t),Un(this,"address",t),this.provider)Un(this,"resolvedAddress",mh(this.provider,t));else try{Un(this,"resolvedAddress",Promise.resolve(ke(t)))}catch(t){ph.throwError("provider is required to use ENS name as contract address",K.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}const n={},i={};Object.keys(this.interface.functions).forEach((t=>{const e=this.interface.functions[t];if(i[t])ph.warn(`Duplicate ABI entry for ${JSON.stringify(t)}`);else{i[t]=!0;{const r=e.name;n[`%${r}`]||(n[`%${r}`]=[]),n[`%${r}`].push(t)}null==this[t]&&Un(this,t,bh(this,e,!0)),null==this.functions[t]&&Un(this.functions,t,bh(this,e,!1)),null==this.callStatic[t]&&Un(this.callStatic,t,vh(this,e,!0)),null==this.populateTransaction[t]&&Un(this.populateTransaction,t,function(t,e){return function(...r){return yh(t,e,r)}}(this,e)),null==this.estimateGas[t]&&Un(this.estimateGas,t,function(t,e){const r=t.signer||t.provider;return function(...n){return dh(this,void 0,void 0,(function*(){r||ph.throwError("estimate require a provider or signer",K.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield yh(t,e,n);return yield r.estimateGas(i)}))}}(this,e))}})),Object.keys(n).forEach((t=>{const e=n[t];if(e.length>1)return;t=t.substring(1);const r=e[0];try{null==this[t]&&Un(this,t,this[r])}catch(t){}null==this.functions[t]&&Un(this.functions,t,this.functions[r]),null==this.callStatic[t]&&Un(this.callStatic,t,this.callStatic[r]),null==this.populateTransaction[t]&&Un(this.populateTransaction,t,this.populateTransaction[r]),null==this.estimateGas[t]&&Un(this.estimateGas,t,this.estimateGas[r])}))}static getContractAddress(t){return Re(t)}static getInterface(t){return fh.isInterface(t)?t:new fh(t)}deployed(){return this._deployed()}_deployed(t){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,t).then((t=>("0x"===t&&ph.throwError("contract not deployed",K.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(t){this.signer||ph.throwError("sending a transactions require a signer",K.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const e=Fn(t||{});return["from","to"].forEach((function(t){null!=e[t]&&ph.throwError("cannot override "+t,K.errors.UNSUPPORTED_OPERATION,{operation:t})})),e.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(e)))}connect(t){"string"==typeof t&&(t=new Vu(t,this.provider));const e=new this.constructor(this.address,this.interface,t);return this.deployTransaction&&Un(e,"deployTransaction",this.deployTransaction),e}attach(t){return new this.constructor(t,this.interface,this.signer||this.provider)}static isIndexed(t){return ch.isIndexed(t)}_normalizeRunningEvent(t){return this._runningEvents[t.tag]?this._runningEvents[t.tag]:t}_getRunningEvent(t){if("string"==typeof t){if("error"===t)return this._normalizeRunningEvent(new xh);if("event"===t)return this._normalizeRunningEvent(new Eh("event",null));if("*"===t)return this._normalizeRunningEvent(new Mh(this.address,this.interface));const e=this.interface.getEvent(t);return this._normalizeRunningEvent(new Sh(this.address,this.interface,e))}if(t.topics&&t.topics.length>0){try{const e=t.topics[0];if("string"!=typeof e)throw new Error("invalid topic");const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Sh(this.address,this.interface,r,t.topics))}catch(t){}const e={address:this.address,topics:t.topics};return this._normalizeRunningEvent(new Eh(wh(e),e))}return this._normalizeRunningEvent(new Mh(this.address,this.interface))}_checkRunningEvents(t){if(0===t.listenerCount()){delete this._runningEvents[t.tag];const e=this._wrappedEmits[t.tag];e&&t.filter&&(this.provider.off(t.filter,e),delete this._wrappedEmits[t.tag])}}_wrapEvent(t,e,r){const n=Wn(e);return n.removeListener=()=>{r&&(t.removeListener(r),this._checkRunningEvents(t))},n.getBlock=()=>this.provider.getBlock(e.blockHash),n.getTransaction=()=>this.provider.getTransaction(e.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(e.transactionHash),t.prepareEvent(n),n}_addEventListener(t,e,r){if(this.provider||ph.throwError("events require a provider or a signer with a provider",K.errors.UNSUPPORTED_OPERATION,{operation:"once"}),t.addListener(e,r),this._runningEvents[t.tag]=t,!this._wrappedEmits[t.tag]){const r=r=>{let n=this._wrapEvent(t,r,e);if(null==n.decodeError)try{const e=t.getEmit(n);this.emit(t.filter,...e)}catch(t){n.decodeError=t.error}null!=t.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[t.tag]=r,null!=t.filter&&this.provider.on(t.filter,r)}}queryFilter(t,e,r){const n=this._getRunningEvent(t),i=Fn(n.filter);return"string"==typeof e&&nt(e,32)?(null!=r&&ph.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=e):(i.fromBlock=null!=e?e:0,i.toBlock=null!=r?r:"latest"),this.provider.getLogs(i).then((t=>t.map((t=>this._wrapEvent(n,t,null)))))}on(t,e){return this._addEventListener(this._getRunningEvent(t),e,!1),this}once(t,e){return this._addEventListener(this._getRunningEvent(t),e,!0),this}emit(t,...e){if(!this.provider)return!1;const r=this._getRunningEvent(t),n=r.run(e)>0;return this._checkRunningEvents(r),n}listenerCount(t){return this.provider?null==t?Object.keys(this._runningEvents).reduce(((t,e)=>t+this._runningEvents[e].listenerCount()),0):this._getRunningEvent(t).listenerCount():0}listeners(t){if(!this.provider)return[];if(null==t){const t=[];for(let e in this._runningEvents)this._runningEvents[e].listeners().forEach((e=>{t.push(e)}));return t}return this._getRunningEvent(t).listeners()}removeAllListeners(t){if(!this.provider)return this;if(null==t){for(const t in this._runningEvents){const e=this._runningEvents[t];e.removeAllListeners(),this._checkRunningEvents(e)}return this}const e=this._getRunningEvent(t);return e.removeAllListeners(),this._checkRunningEvents(e),this}off(t,e){if(!this.provider)return this;const r=this._getRunningEvent(t);return r.removeListener(e),this._checkRunningEvents(r),this}removeListener(t,e){return this.off(t,e)}}{}var Ah=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],Rh=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ReceivePayment",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"newFee",type:"uint256"}],name:"SetDepositFee",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"SetFeeAddress",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"WithdrawFunds",type:"event"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_tokenAddress",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"receivePayment",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_depositFee",type:"uint16"}],name:"setDepositFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeAddress",type:"address"}],name:"setFeeAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"users",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_tokenAddress",type:"address"}],name:"withdrawFunds",outputs:[],stateMutability:"nonpayable",type:"function"}];function Th(){const{library:t,account:e,chainId:r}=dn();if(!t||!e)throw new Error("Wallet not connected");const n=(t=>{switch(t){case 1:case 137:case 56:return"";case 4:return"0x5992752154e63Cd8368AE00eCcDB286E53f271C1";default:throw Error("Chain ID not supported")}})(r);if(!Ae(n))throw new Error("Chain not supported");let i=t.getSigner(e).connectUnchecked();return new kh(n,Rh,i)}function Oh({selectedToken:t}){const[e,r]=Qe("checking-balance"),[n,i]=Qe(null),{goBack:o}=An(),{account:s,chainId:a}=dn(),{amount:u,recipientAddress:c,onError:l,onSuccess:h}=In(),f=function(t){const{library:e,account:r,chainId:n}=dn();if(!e||!r)throw new Error("Wallet not connected");const i=Object.keys(lc).find((e=>e.toLowerCase()===t.toLowerCase()));if(!i)throw new Error("Token not found");const o=mc(t,n);let s=e.getSigner(r).connectUnchecked();return new kh(o.address,Ah,s)}(t),p=Th(),m=or((()=>Ue(this,void 0,void 0,(function*(){try{const e=mc(t,a),n=(yield f.balanceOf(s)).gte(hl(u||"0",e.decimals));r(n?"confirm-payment":"not-enough-balance")}catch(t){r("not-enough-balance")}}))),[u]);er((()=>{m()}),[t,u]);const g=()=>Ue(this,void 0,void 0,(function*(){try{r("approving-tx");const e=mc(t,a),n=yield f.approve(p.address,hl(u,e.decimals));yield n.wait(),r("making-payment");const o=yield p.receivePayment(e.address,c,hl(u,e.decimals));yield o.wait(),r("payment-done"),i(o)}catch(t){l&&l(t)}}));return d("div",null,(()=>{switch(e){case"checking-balance":return d("div",{class:"w-full flex flex-col items-center justify-center py-10"},d("div",{class:"loader"}),d("p",{class:"text-sm mt-3"},"Checking balance..."));case"not-enough-balance":return d("div",{class:"w-full flex flex-col items-center justify-center py-6"},d("p",{class:"text-sm text-center mb-5"},"Not enough balance to make this payment, try again with a different token"),d("button",{class:"btn",onClick:()=>o()},"Select different token"));case"confirm-payment":return d("div",{class:"w-full flex flex-col pt-2"},d("p",{class:"text-sm mb-1"},"You pay:"),d("h5",{class:"font-semibold text-xl mb-3"},u," ",t.toUpperCase()),d("p",{class:"text-sm text-gray-600 mb-5"},"You will receive 2 prompts from your wallet to approve and pay for this transaction."),d("button",{class:"btn",onClick:()=>g()},"Confirm payment"));case"approving-tx":return d("div",{class:"w-full flex flex-col items-center justify-center py-10 px-8"},d("div",{class:"loader"}),d("div",{class:"mt-5 text-center"},d("h5",{class:"font-bold text-xl"},"Hang Tight!"),d("p",{class:"text-sm mt-3"},"We're approving your wallet to spend ",u," ",t.toUpperCase())));case"making-payment":return d("div",{class:"w-full flex flex-col items-center justify-center py-10 px-8"},d("div",{class:"loader"}),d("div",{class:"mt-5 text-center"},d("h5",{class:"font-bold text-xl"},"Hang Tight!"),d("p",{class:"text-sm mt-3"},"Making payment now...")));case"payment-done":return d("div",{class:"w-full flex flex-col items-center justify-center pt-10"},d(yc,{className:"text-5xl text-emerald-500"}),d("div",{class:"my-5 text-center"},d("h5",{class:"font-semibold text-lg"},"Payment Successful!"),d("a",{class:"text-sm underline",target:"_blank",href:`${fc(a)}tx/${null==n?void 0:n.hash}`},"View receipt")),d("button",{class:"btn",onClick:()=>h(n)},"Done"));default:return null}})())}const Ih=t=>{var e=Be(t,["root"]);const[r,n]=Qe(null),[i,o]=Qe(null);return d(Cn,{config:e},d(fn,{getLibrary:pc},d(Rn,{initialRouteId:0},d(Nn,null,d(Pn,{maxPages:4},d(Tn,{routeId:0,component:d(_c,{selectedNetwork:i,setSelectedNetwork:o})}),d(Tn,{routeId:1,component:d(al,{chainId:i})}),d(Tn,{routeId:2,component:d(ul,{selectedToken:r,setSelectedToken:n})}),d(Tn,{routeId:3,component:d(Oh,{selectedToken:r})}))))))};var Ch='@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap");\n\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n@layer base {\n  html {\n    font-family: "Inter", sans-serif;\n    font-size: 16px;\n    color: rgb(0 0 0 / 0.72);\n  }\n}\n\n@layer components {\n  .btn {\n    @apply w-full flex justify-center \n      py-3 px-4 border border-transparent text-sm font-medium \n      rounded-md text-white bg-gray-900 hover:bg-gray-800 focus:outline-none \n      focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-75 disabled:cursor-not-allowed;\n  }\n\n  .loader {\n    @apply border-4 rounded-full border-b-gray-200 border-emerald-400 w-10 h-10 animate-spin;\n  }\n}\n';var Ph={},Nh=dt(We),Lh={},Bh={},Uh={},jh={},Dh={},Fh={},zh={};function qh(t){let e;return"undefined"!=typeof window&&void 0!==window[t]&&(e=window[t]),e}function Hh(t){const e=qh(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Object.defineProperty(zh,"__esModule",{value:!0}),zh.getLocalStorage=zh.getLocalStorageOrThrow=zh.getCrypto=zh.getCryptoOrThrow=zh.getLocation=zh.getLocationOrThrow=zh.getNavigator=zh.getNavigatorOrThrow=zh.getDocument=zh.getDocumentOrThrow=zh.getFromWindowOrThrow=zh.getFromWindow=void 0,zh.getFromWindow=qh,zh.getFromWindowOrThrow=Hh,zh.getDocumentOrThrow=function(){return Hh("document")},zh.getDocument=function(){return qh("document")},zh.getNavigatorOrThrow=function(){return Hh("navigator")},zh.getNavigator=function(){return qh("navigator")},zh.getLocationOrThrow=function(){return Hh("location")},zh.getLocation=function(){return qh("location")},zh.getCryptoOrThrow=function(){return Hh("crypto")},zh.getCrypto=function(){return qh("crypto")},zh.getLocalStorageOrThrow=function(){return Hh("localStorage")},zh.getLocalStorage=function(){return qh("localStorage")},Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.getWindowMetadata=void 0;const Wh=zh;Fh.getWindowMetadata=function(){let t,e;try{t=Wh.getDocumentOrThrow(),e=Wh.getLocationOrThrow()}catch(t){return null}function r(...e){const r=t.getElementsByTagName("meta");for(let t=0;t<r.length;t++){const n=r[t],i=["itemprop","property","name"].map((t=>n.getAttribute(t))).filter((t=>!!t&&e.includes(t)));if(i.length&&i){const t=n.getAttribute("content");if(t)return t}}return""}const n=function(){let e=r("name","og:site_name","og:title","twitter:title");return e||(e=t.title),e}(),i=r("description","og:description","twitter:description","keywords"),o=e.origin,s=function(){const r=t.getElementsByTagName("link"),n=[];for(let t=0;t<r.length;t++){const i=r[t],o=i.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){const t=i.getAttribute("href");if(t)if(-1===t.toLowerCase().indexOf("https:")&&-1===t.toLowerCase().indexOf("http:")&&0!==t.indexOf("//")){let r=e.protocol+"//"+e.host;if(0===t.indexOf("/"))r+=t;else{const n=e.pathname.split("/");n.pop();r+=n.join("/")+"/"+t}n.push(r)}else if(0===t.indexOf("//")){const r=e.protocol+t;n.push(r)}else n.push(t)}}return n}();return{description:i,url:o,icons:s,name:n}};var Gh=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},Vh=function(t,e,r){this.name=t,this.version=e,this.os=r,this.type="browser"},Kh=function(t){this.version=t,this.type="node",this.name="node",this.os=le.platform},$h=function(t,e,r,n){this.name=t,this.version=e,this.os=r,this.bot=n,this.type="bot-device"},Zh=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Jh=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},Yh=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Xh=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Qh=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function tf(t){return""!==t&&Xh.reduce((function(e,r){var n=r[0],i=r[1];if(e)return e;var o=i.exec(t);return!!o&&[n,o]}),!1)}function ef(t){var e=tf(t);if(!e)return null;var r=e[0],n=e[1];if("searchbot"===r)return new Zh;var i=n[1]&&n[1].split(/[._]/).slice(0,3);i?i.length<3&&(i=Gh(i,function(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}(3-i.length))):i=[];var o=i.join("."),s=rf(t),a=Yh.exec(t);return a&&a[1]?new $h(r,o,s,a[1]):new Vh(r,o,s)}function rf(t){for(var e=0,r=Qh.length;e<r;e++){var n=Qh[e],i=n[0];if(n[1].exec(t))return i}return null}function nf(){return void 0!==le&&le.version?new Kh(le.version.slice(1)):null}var of=dt(Object.freeze({__proto__:null,BrowserInfo:Vh,NodeInfo:Kh,SearchBotDeviceInfo:$h,BotInfo:Zh,ReactNativeInfo:Jh,detect:function(t){return t?ef(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new Jh:"undefined"!=typeof navigator?ef(navigator.userAgent):nf()},browserName:function(t){var e=tf(t);return e?e[0]:null},parseUserAgent:ef,detectOS:rf,getNodeVersion:nf}));!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getClientMeta=t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=t.isBrowser=t.isNode=t.isMobile=t.isIOS=t.isAndroid=t.detectOS=t.detectEnv=void 0;const e=Nh,r=(0,e.__importStar)(Fh),n=(0,e.__importStar)(zh),i=of;function o(t){return(0,i.detect)(t)}function s(){const t=o();return t&&t.os?t.os:void 0}function a(){const t=s();return!!t&&t.toLowerCase().includes("android")}function u(){const t=s();return!!t&&(t.toLowerCase().includes("ios")||t.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1)}function c(){const t=o();return!(!t||!t.name)&&"node"===t.name.toLowerCase()}t.detectEnv=o,t.detectOS=s,t.isAndroid=a,t.isIOS=u,t.isMobile=function(){return!!s()&&(a()||u())},t.isNode=c,t.isBrowser=function(){return!c()&&!!(0,t.getNavigator)()},t.getFromWindow=n.getFromWindow,t.getFromWindowOrThrow=n.getFromWindowOrThrow,t.getDocumentOrThrow=n.getDocumentOrThrow,t.getDocument=n.getDocument,t.getNavigatorOrThrow=n.getNavigatorOrThrow,t.getNavigator=n.getNavigator,t.getLocationOrThrow=n.getLocationOrThrow,t.getLocation=n.getLocation,t.getCryptoOrThrow=n.getCryptoOrThrow,t.getCrypto=n.getCrypto,t.getLocalStorageOrThrow=n.getLocalStorageOrThrow,t.getLocalStorage=n.getLocalStorage,t.getClientMeta=function(){return r.getWindowMetadata()}}(Dh);var sf={};var af=Object.freeze({__proto__:null,safeJsonParse:function(t){if("string"!=typeof t)throw new Error("Cannot safe json parse value of type "+typeof t);try{return JSON.parse(t)}catch(e){return t}},safeJsonStringify:function(t){return"string"==typeof t?t:JSON.stringify(t)}}),uf=dt(af);Object.defineProperty(sf,"__esModule",{value:!0}),sf.safeJsonStringify=sf.safeJsonParse=void 0;const cf=(0,Nh.__importStar)(uf);sf.safeJsonParse=cf.safeJsonParse,sf.safeJsonStringify=cf.safeJsonStringify;var lf={};Object.defineProperty(lf,"__esModule",{value:!0}),lf.removeLocal=lf.getLocal=lf.setLocal=void 0;const hf=sf,ff=Dh;lf.setLocal=function(t,e){const r=(0,hf.safeJsonStringify)(e),n=(0,ff.getLocalStorage)();n&&n.setItem(t,r)},lf.getLocal=function(t){let e=null,r=null;const n=(0,ff.getLocalStorage)();return n&&(r=n.getItem(t)),e=r?(0,hf.safeJsonParse)(r):r,e},lf.removeLocal=function(t){const e=(0,ff.getLocalStorage)();e&&e.removeItem(t)};var df={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMobileLinkRegistry=t.getMobileRegistryEntry=t.saveMobileLinkInfo=t.formatIOSMobile=t.mobileLinkChoiceKey=void 0;const e=lf;function r(t,e){return t.filter((t=>t.name.toLowerCase().includes(e.toLowerCase())))[0]}t.mobileLinkChoiceKey="WALLETCONNECT_DEEPLINK_CHOICE",t.formatIOSMobile=function(t,e){const r=encodeURIComponent(t);return e.universalLink?`${e.universalLink}/wc?uri=${r}`:e.deepLink?`${e.deepLink}${e.deepLink.endsWith(":")?"//":"/"}wc?uri=${r}`:""},t.saveMobileLinkInfo=function(r){const n=r.href.split("?")[0];(0,e.setLocal)(t.mobileLinkChoiceKey,Object.assign(Object.assign({},r),{href:n}))},t.getMobileRegistryEntry=r,t.getMobileLinkRegistry=function(t,e){let n=t;return e&&(n=e.map((e=>r(t,e))).filter(Boolean)),n}}(df);var pf={};Object.defineProperty(pf,"__esModule",{value:!0}),pf.formatMobileRegistry=pf.formatMobileRegistryEntry=pf.getAppLogoUrl=pf.getDappRegistryUrl=pf.getWalletRegistryUrl=void 0;const mf="https://registry.walletconnect.org";function gf(t){return mf+"/logo/sm/"+t+".jpeg"}function yf(t,e="mobile"){return{name:t.name||"",shortName:t.metadata.shortName||"",color:t.metadata.colors.primary||"",logo:t.id?gf(t.id):"",universalLink:t[e].universal||"",deepLink:t[e].native||""}}pf.getWalletRegistryUrl=function(){return mf+"/data/wallets.json"},pf.getDappRegistryUrl=function(){return mf+"/data/dapps.json"},pf.getAppLogoUrl=gf,pf.formatMobileRegistryEntry=yf,pf.formatMobileRegistry=function(t,e="mobile"){return Object.values(t).filter((t=>!!t[e].universal||!!t[e].native)).map((t=>yf(t,e)))},function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Nh;(0,e.__exportStar)(Dh,t),(0,e.__exportStar)(sf,t),(0,e.__exportStar)(lf,t),(0,e.__exportStar)(df,t),(0,e.__exportStar)(pf,t)}(jh);var vf={};Object.defineProperty(vf,"__esModule",{value:!0}),vf.infuraNetworks=vf.stateMethods=vf.signingMethods=vf.reservedEvents=void 0,vf.reservedEvents=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],vf.signingMethods=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],vf.stateMethods=["eth_accounts","eth_chainId","net_version"],vf.infuraNetworks={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var _f={},bf={exports:{}};!function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o=require("buffer").Buffer}catch(t){}function s(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function a(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},i.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=s(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=s(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,u=Math.min(o,o-s)+r,c=0,l=r;l<u;l+=n)c=a(t,l,l+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var h=1;for(c=a(t,l,t.length,e),l=0;l<s;l++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&s}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<i|o)).toString(16);n=0!==(o=a>>>24-i&16777215)||s!==this.length-1?u[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var f=c[t],d=l[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:u[f-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===e,c=new t(o),l=this.clone();if(u){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),c[o-a-1]=s}return c},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var f=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,l=0|s[0],h=8191&l,f=l>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],y=8191&g,v=g>>>13,_=0|s[3],b=8191&_,w=_>>>13,E=0|s[4],x=8191&E,S=E>>>13,M=0|s[5],k=8191&M,A=M>>>13,R=0|s[6],T=8191&R,O=R>>>13,I=0|s[7],C=8191&I,P=I>>>13,N=0|s[8],L=8191&N,B=N>>>13,U=0|s[9],j=8191&U,D=U>>>13,F=0|a[0],z=8191&F,q=F>>>13,H=0|a[1],W=8191&H,G=H>>>13,V=0|a[2],K=8191&V,$=V>>>13,Z=0|a[3],J=8191&Z,Y=Z>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,z))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(f,z)|0))<<13)|0;c=((o=Math.imul(f,q))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,q))+Math.imul(m,z)|0,o=Math.imul(m,q);var yt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(f,W)|0))<<13)|0;c=((o=o+Math.imul(f,G)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,z),i=(i=Math.imul(y,q))+Math.imul(v,z)|0,o=Math.imul(v,q),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,G)|0;var vt=(c+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(f,K)|0))<<13)|0;c=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,q))+Math.imul(w,z)|0,o=Math.imul(w,q),n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,G)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,$)|0;var _t=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Y)|0)+Math.imul(f,J)|0))<<13)|0;c=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(x,z),i=(i=Math.imul(x,q))+Math.imul(S,z)|0,o=Math.imul(S,q),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,G)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,G)|0,n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(v,K)|0,o=o+Math.imul(v,$)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,Y)|0;var bt=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,q))+Math.imul(A,z)|0,o=Math.imul(A,q),n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,G)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,$)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,$)|0,n=n+Math.imul(y,J)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,Y)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var wt=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;c=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(T,z),i=(i=Math.imul(T,q))+Math.imul(O,z)|0,o=Math.imul(O,q),n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(S,K)|0,o=o+Math.imul(S,$)|0,n=n+Math.imul(b,J)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,J)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Et=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(f,ot)|0))<<13)|0;c=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(C,z),i=(i=Math.imul(C,q))+Math.imul(P,z)|0,o=Math.imul(P,q),n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,G)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,$)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(S,J)|0,o=o+Math.imul(S,Y)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var xt=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((o=o+Math.imul(f,ct)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,q))+Math.imul(B,z)|0,o=Math.imul(B,q),n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,G)|0,n=n+Math.imul(T,K)|0,i=(i=i+Math.imul(T,$)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,$)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var St=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;c=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(j,z),i=(i=Math.imul(j,q))+Math.imul(D,z)|0,o=Math.imul(D,q),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,G)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,$)|0)+Math.imul(P,K)|0,o=o+Math.imul(P,$)|0,n=n+Math.imul(T,J)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,Y)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(S,rt)|0,o=o+Math.imul(S,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var Mt=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(j,W),i=(i=Math.imul(j,G))+Math.imul(D,W)|0,o=Math.imul(D,G),n=n+Math.imul(L,K)|0,i=(i=i+Math.imul(L,$)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,$)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,st)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ft)|0;var kt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(j,K),i=(i=Math.imul(j,$))+Math.imul(D,K)|0,o=Math.imul(D,$),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,Y)|0,n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(S,ut)|0,o=o+Math.imul(S,ct)|0,n=n+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,ft)|0;var At=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((o=o+Math.imul(v,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(j,J),i=(i=Math.imul(j,Y))+Math.imul(D,J)|0,o=Math.imul(D,Y),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,ct)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,ft)|0)+Math.imul(S,ht)|0,o=o+Math.imul(S,ft)|0;var Rt=(c+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((o=o+Math.imul(w,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(j,Q),i=(i=Math.imul(j,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(B,rt)|0,o=o+Math.imul(B,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(A,ht)|0,o=o+Math.imul(A,ft)|0;var Tt=(c+(n=n+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;c=((o=o+Math.imul(S,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(j,rt),i=(i=Math.imul(j,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,st)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,st)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,ct)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ft)|0;var Ot=(c+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(A,pt)|0))<<13)|0;c=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(j,ot),i=(i=Math.imul(j,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(B,ut)|0,o=o+Math.imul(B,ct)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,ft)|0;var It=(c+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(j,ut),i=(i=Math.imul(j,ct))+Math.imul(D,ut)|0,o=Math.imul(D,ct),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,ft)|0)+Math.imul(B,ht)|0,o=o+Math.imul(B,ft)|0;var Ct=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(P,pt)|0))<<13)|0;c=((o=o+Math.imul(P,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(j,ht),i=(i=Math.imul(j,ft))+Math.imul(D,ht)|0,o=Math.imul(D,ft);var Pt=(c+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(B,pt)|0))<<13)|0;c=((o=o+Math.imul(B,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Nt=(c+(n=Math.imul(j,pt))|0)+((8191&(i=(i=Math.imul(j,mt))+Math.imul(D,pt)|0))<<13)|0;return c=((o=Math.imul(D,mt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=_t,u[4]=bt,u[5]=wt,u[6]=Et,u[7]=xt,u[8]=St,u[9]=Mt,u[10]=kt,u[11]=At,u[12]=Rt,u[13]=Tt,u[14]=Ot,u[15]=It,u[16]=Ct,u[17]=Pt,u[18]=Nt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new p).mulp(t,e,r)}function p(t,e){this.x=t,this.y=e}Math.imul||(f=h),i.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?f(this,t,e):n<63?h(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var l=o-c,h=(0|t.words[l])*(0|e.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e),r},p.prototype.makeRBT=function(t){for(var e=new Array(t),r=i.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},p.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},p.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},p.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,f=c,d=0;d<s;d++){var p=r[l+d],m=n[l+d],g=r[l+d+s],y=n[l+d+s],v=h*g-f*y;y=h*y+f*g,g=v,r[l+d]=p+g,n[l+d]=m+y,r[l+d+s]=p-g,n[l+d+s]=m-y,d!==a&&(v=u*h-c*f,f=u*f+c*h,h=v)}},p.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},p.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},p.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},p.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},p.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),d(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<n;this.words[e]=u|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,u=n.length-o.length;if("mod"!==e){(a=new i(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(o,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[o.length+h])+(0|n.words[o.length+h-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(o,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(o,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),s=new i(0),a=new i(0),u=new i(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(h)),o.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a),s.isub(u)):(n.isub(e),a.isub(o),u.isub(s))}return{a:a,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new i(1),a=new i(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,f=1;0==(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new w(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function g(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function b(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){w.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},g.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},g.prototype.split=function(t,e){t.iushrn(this.n,0,e)},g.prototype.imulK=function(t){return t.imul(this.k)},n(y,g),y.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(v,g),n(_,g),n(b,g),b.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new v;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new b}return m[t]=e,e},w.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},w.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},w.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},w.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},w.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},w.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},w.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},w.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},w.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},w.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},w.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},w.prototype.isqr=function(t){return this.imul(t,t.clone())},w.prototype.sqr=function(t){return this.mul(t,t)},w.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,o),f=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var y=this.pow(h,new i(1).iushln(p-g-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=g}return f},w.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},w.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var o=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}u=26}return o},w.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},w.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new E(t)},n(E,w),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,ft)}(bf);var wf=[],Ef=[],xf="undefined"!=typeof Uint8Array?Uint8Array:Array,Sf=!1;function Mf(){Sf=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)wf[e]=t[e],Ef[t.charCodeAt(e)]=e;Ef["-".charCodeAt(0)]=62,Ef["_".charCodeAt(0)]=63}function kf(t,e,r){for(var n,i,o=[],s=e;s<r;s+=3)n=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(wf[(i=n)>>18&63]+wf[i>>12&63]+wf[i>>6&63]+wf[63&i]);return o.join("")}function Af(t){var e;Sf||Mf();for(var r=t.length,n=r%3,i="",o=[],s=16383,a=0,u=r-n;a<u;a+=s)o.push(kf(t,a,a+s>u?u:a+s));return 1===n?(e=t[r-1],i+=wf[e>>2],i+=wf[e<<4&63],i+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],i+=wf[e>>10],i+=wf[e>>4&63],i+=wf[e<<2&63],i+="="),o.push(i),o.join("")}function Rf(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?i-1:0,f=r?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=c}return(d?-1:1)*s*Math.pow(2,o-n)}function Tf(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+d]=255&s,d+=p,s/=256,c-=8);t[r+d-p]|=128*m}var Of={}.toString,If=Array.isArray||function(t){return"[object Array]"==Of.call(t)};function Cf(){return Nf.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Pf(t,e){if(Cf()<e)throw new RangeError("Invalid typed array length");return Nf.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Nf.prototype:(null===t&&(t=new Nf(e)),t.length=e),t}function Nf(t,e,r){if(!(Nf.TYPED_ARRAY_SUPPORT||this instanceof Nf))return new Nf(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return Uf(this,t)}return Lf(this,t,e,r)}function Lf(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);Nf.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Nf.prototype:t=jf(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!Nf.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|zf(e,r),i=(t=Pf(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(Ff(e)){var r=0|Df(e.length);return 0===(t=Pf(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?Pf(t,0):jf(t,e);if("Buffer"===e.type&&If(e.data))return jf(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function Bf(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Uf(t,e){if(Bf(e),t=Pf(t,e<0?0:0|Df(e)),!Nf.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function jf(t,e){var r=e.length<0?0:0|Df(e.length);t=Pf(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function Df(t){if(t>=Cf())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Cf().toString(16)+" bytes");return 0|t}function Ff(t){return!(null==t||!t._isBuffer)}function zf(t,e){if(Ff(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return pd(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return md(t).length;default:if(n)return pd(t).length;e=(""+e).toLowerCase(),n=!0}}function qf(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return nd(this,e,r);case"utf8":case"utf-8":return Qf(this,e,r);case"ascii":return ed(this,e,r);case"latin1":case"binary":return rd(this,e,r);case"base64":return Xf(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return id(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function Hf(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function Wf(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=Nf.from(e,n)),Ff(e))return 0===e.length?-1:Gf(t,e,r,n,i);if("number"==typeof e)return e&=255,Nf.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Gf(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Gf(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){h=!1;break}if(h)return o}return-1}function Vf(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function Kf(t,e,r,n){return gd(pd(e,t.length-r),t,r,n)}function $f(t,e,r,n){return gd(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function Zf(t,e,r,n){return $f(t,e,r,n)}function Jf(t,e,r,n){return gd(md(e),t,r,n)}function Yf(t,e,r,n){return gd(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function Xf(t,e,r){return 0===e&&r===t.length?Af(t):Af(t.slice(e,r))}function Qf(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}return function(t){var e=t.length;if(e<=td)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=td));return r}(n)}Nf.TYPED_ARRAY_SUPPORT=void 0===Ft.TYPED_ARRAY_SUPPORT||Ft.TYPED_ARRAY_SUPPORT,Nf.poolSize=8192,Nf._augment=function(t){return t.__proto__=Nf.prototype,t},Nf.from=function(t,e,r){return Lf(null,t,e,r)},Nf.TYPED_ARRAY_SUPPORT&&(Nf.prototype.__proto__=Uint8Array.prototype,Nf.__proto__=Uint8Array),Nf.alloc=function(t,e,r){return function(t,e,r,n){return Bf(e),e<=0?Pf(t,e):void 0!==r?"string"==typeof n?Pf(t,e).fill(r,n):Pf(t,e).fill(r):Pf(t,e)}(null,t,e,r)},Nf.allocUnsafe=function(t){return Uf(null,t)},Nf.allocUnsafeSlow=function(t){return Uf(null,t)},Nf.isBuffer=function(t){return null!=t&&(!!t._isBuffer||yd(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&yd(t.slice(0,0))}(t))},Nf.compare=function(t,e){if(!Ff(t)||!Ff(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},Nf.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Nf.concat=function(t,e){if(!If(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Nf.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=Nf.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(!Ff(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Nf.byteLength=zf,Nf.prototype._isBuffer=!0,Nf.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Hf(this,e,e+1);return this},Nf.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Hf(this,e,e+3),Hf(this,e+1,e+2);return this},Nf.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Hf(this,e,e+7),Hf(this,e+1,e+6),Hf(this,e+2,e+5),Hf(this,e+3,e+4);return this},Nf.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Qf(this,0,t):qf.apply(this,arguments)},Nf.prototype.equals=function(t){if(!Ff(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Nf.compare(this,t)},Nf.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Nf.prototype.compare=function(t,e,r,n,i){if(!Ff(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(n,i),c=t.slice(e,r),l=0;l<a;++l)if(u[l]!==c[l]){o=u[l],s=c[l];break}return o<s?-1:s<o?1:0},Nf.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},Nf.prototype.indexOf=function(t,e,r){return Wf(this,t,e,r,!0)},Nf.prototype.lastIndexOf=function(t,e,r){return Wf(this,t,e,r,!1)},Nf.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Vf(this,t,e,r);case"utf8":case"utf-8":return Kf(this,t,e,r);case"ascii":return $f(this,t,e,r);case"latin1":case"binary":return Zf(this,t,e,r);case"base64":return Jf(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Yf(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Nf.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var td=4096;function ed(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function rd(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function nd(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=dd(t[o]);return i}function id(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function od(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function sd(t,e,r,n,i,o){if(!Ff(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function ad(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function ud(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function cd(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function ld(t,e,r,n,i){return i||cd(t,0,r,4),Tf(t,e,r,n,23,4),r+4}function hd(t,e,r,n,i){return i||cd(t,0,r,8),Tf(t,e,r,n,52,8),r+8}Nf.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),Nf.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=Nf.prototype;else{var i=e-t;r=new Nf(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},Nf.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||od(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},Nf.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||od(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},Nf.prototype.readUInt8=function(t,e){return e||od(t,1,this.length),this[t]},Nf.prototype.readUInt16LE=function(t,e){return e||od(t,2,this.length),this[t]|this[t+1]<<8},Nf.prototype.readUInt16BE=function(t,e){return e||od(t,2,this.length),this[t]<<8|this[t+1]},Nf.prototype.readUInt32LE=function(t,e){return e||od(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Nf.prototype.readUInt32BE=function(t,e){return e||od(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Nf.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||od(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},Nf.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||od(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},Nf.prototype.readInt8=function(t,e){return e||od(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Nf.prototype.readInt16LE=function(t,e){e||od(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Nf.prototype.readInt16BE=function(t,e){e||od(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Nf.prototype.readInt32LE=function(t,e){return e||od(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Nf.prototype.readInt32BE=function(t,e){return e||od(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Nf.prototype.readFloatLE=function(t,e){return e||od(t,4,this.length),Rf(this,t,!0,23,4)},Nf.prototype.readFloatBE=function(t,e){return e||od(t,4,this.length),Rf(this,t,!1,23,4)},Nf.prototype.readDoubleLE=function(t,e){return e||od(t,8,this.length),Rf(this,t,!0,52,8)},Nf.prototype.readDoubleBE=function(t,e){return e||od(t,8,this.length),Rf(this,t,!1,52,8)},Nf.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||sd(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},Nf.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||sd(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},Nf.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||sd(this,t,e,1,255,0),Nf.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Nf.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||sd(this,t,e,2,65535,0),Nf.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):ad(this,t,e,!0),e+2},Nf.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||sd(this,t,e,2,65535,0),Nf.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):ad(this,t,e,!1),e+2},Nf.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||sd(this,t,e,4,4294967295,0),Nf.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):ud(this,t,e,!0),e+4},Nf.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||sd(this,t,e,4,4294967295,0),Nf.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):ud(this,t,e,!1),e+4},Nf.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);sd(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},Nf.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);sd(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},Nf.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||sd(this,t,e,1,127,-128),Nf.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Nf.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||sd(this,t,e,2,32767,-32768),Nf.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):ad(this,t,e,!0),e+2},Nf.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||sd(this,t,e,2,32767,-32768),Nf.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):ad(this,t,e,!1),e+2},Nf.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||sd(this,t,e,4,2147483647,-2147483648),Nf.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):ud(this,t,e,!0),e+4},Nf.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||sd(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Nf.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):ud(this,t,e,!1),e+4},Nf.prototype.writeFloatLE=function(t,e,r){return ld(this,t,e,!0,r)},Nf.prototype.writeFloatBE=function(t,e,r){return ld(this,t,e,!1,r)},Nf.prototype.writeDoubleLE=function(t,e,r){return hd(this,t,e,!0,r)},Nf.prototype.writeDoubleBE=function(t,e,r){return hd(this,t,e,!1,r)},Nf.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!Nf.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},Nf.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Nf.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=Ff(t)?t:pd(new Nf(t,n).toString()),a=s.length;for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var fd=/[^+\/0-9A-Za-z-_]/g;function dd(t){return t<16?"0"+t.toString(16):t.toString(16)}function pd(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function md(t){return function(t){var e,r,n,i,o,s;Sf||Mf();var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[a-2]?2:"="===t[a-1]?1:0,s=new xf(3*a/4-o),n=o>0?a-4:a;var u=0;for(e=0,r=0;e<n;e+=4,r+=3)i=Ef[t.charCodeAt(e)]<<18|Ef[t.charCodeAt(e+1)]<<12|Ef[t.charCodeAt(e+2)]<<6|Ef[t.charCodeAt(e+3)],s[u++]=i>>16&255,s[u++]=i>>8&255,s[u++]=255&i;return 2===o?(i=Ef[t.charCodeAt(e)]<<2|Ef[t.charCodeAt(e+1)]>>4,s[u++]=255&i):1===o&&(i=Ef[t.charCodeAt(e)]<<10|Ef[t.charCodeAt(e+1)]<<4|Ef[t.charCodeAt(e+2)]>>2,s[u++]=i>>8&255,s[u++]=255&i),s}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(fd,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function gd(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function yd(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var vd={},_d=Ed;Ed.strict=xd,Ed.loose=Sd;var bd=Object.prototype.toString,wd={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function Ed(t){return xd(t)||Sd(t)}function xd(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function Sd(t){return wd[bd.call(t)]}var Md=_d.strict,kd=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vd,"__esModule",{value:!0}),vd.removeHexLeadingZeros=vd.sanitizeHex=vd.addHexPrefix=vd.removeHexPrefix=vd.padRight=vd.padLeft=vd.sanitizeBytes=vd.swapHex=vd.swapBytes=vd.splitBytes=vd.calcByteLength=vd.trimRight=vd.trimLeft=vd.concatArrays=vd.concatBuffers=vd.getEncoding=vd.getType=vd.isArrayBuffer=vd.isTypedArray=vd.isBuffer=vd.isHexString=vd.isBinaryString=vd.binaryToNumber=vd.binaryToUtf8=vd.binaryToHex=vd.binaryToArray=vd.binaryToBuffer=vd.numberToBinary=vd.numberToUtf8=vd.numberToHex=vd.numberToArray=vd.numberToBuffer=vd.utf8ToBinary=vd.utf8ToNumber=vd.utf8ToHex=vd.utf8ToArray=vd.utf8ToBuffer=vd.hexToBinary=vd.hexToNumber=vd.hexToUtf8=vd.hexToArray=vd.hexToBuffer=vd.arrayToBinary=vd.arrayToNumber=vd.arrayToUtf8=vd.arrayToHex=vd.arrayToBuffer=vd.bufferToBinary=vd.bufferToNumber=vd.bufferToUtf8=vd.bufferToHex=vd.bufferToArray=void 0;const Ad=kd(_d),Rd=kd((function(t){if(Md(t)){var e=Nf.from(t.buffer);return t.byteLength!==t.buffer.byteLength&&(e=e.slice(t.byteOffset,t.byteOffset+t.byteLength)),e}return Nf.from(t)})),Td="hex",Od="utf8",Id="0";function Cd(t){return new Uint8Array(t)}function Pd(t,e=!1){const r=t.toString(Td);return e?ap(r):r}function Nd(t){return t.toString(Od)}function Ld(t){return t.readUIntBE(0,t.length)}function Bd(t){return Rd.default(t)}function Ud(t,e=!1){return Pd(Bd(t),e)}function jd(t){return Nd(Bd(t))}function Dd(t){return Ld(Bd(t))}function Fd(t){return Array.from(t).map(Vd).join("")}function zd(t){return Nf.from(sp(t),Td)}function qd(t){return Cd(zd(t))}function Hd(t){return Fd(qd(t))}function Wd(t){return Nf.from(t,Od)}function Gd(t){return Cd(Wd(t))}function Vd(t){return ip((t>>>0).toString(2))}function Kd(t){return Bd($d(t))}function $d(t){return new Uint8Array(rp(t).map((t=>parseInt(t,2))))}function Zd(t,e){return Ud($d(t),e)}function Jd(t){return!("string"!=typeof t||!new RegExp(/^[01]+$/).test(t))&&t.length%8==0}function Yd(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function Xd(t){return Nf.isBuffer(t)}function Qd(t){return Ad.default.strict(t)&&!Xd(t)}function tp(t){return!Qd(t)&&!Xd(t)&&void 0!==t.byteLength}function ep(t,e=8){const r=t%e;return r?(t-r)/e*e+e:t}function rp(t,e=8){const r=ip(t).match(new RegExp(`.{${e}}`,"gi"));return Array.from(r||[])}function np(t){return rp(t).map(up).join("")}function ip(t,e=8,r="0"){return op(t,ep(t.length,e),r)}function op(t,e,r="0"){return cp(t,e,!0,r)}function sp(t){return t.replace(/^0x/,"")}function ap(t){return t.startsWith("0x")?t:`0x${t}`}function up(t){return t.split("").reverse().join("")}function cp(t,e,r,n="0"){const i=e-t.length;let o=t;if(i>0){const e=n.repeat(i);o=r?e+t:t+e}return o}vd.bufferToArray=Cd,vd.bufferToHex=Pd,vd.bufferToUtf8=Nd,vd.bufferToNumber=Ld,vd.bufferToBinary=function(t){return Fd(Cd(t))},vd.arrayToBuffer=Bd,vd.arrayToHex=Ud,vd.arrayToUtf8=jd,vd.arrayToNumber=Dd,vd.arrayToBinary=Fd,vd.hexToBuffer=zd,vd.hexToArray=qd,vd.hexToUtf8=function(t){return Nd(zd(t))},vd.hexToNumber=function(t){return Dd(qd(t))},vd.hexToBinary=Hd,vd.utf8ToBuffer=Wd,vd.utf8ToArray=Gd,vd.utf8ToHex=function(t,e=!1){return Pd(Wd(t),e)},vd.utf8ToNumber=function(t){const e=parseInt(t,10);return function(t,e){if(!t)throw new Error(e)}(function(t){return!function(t){return void 0===t}(t)}(e),"Number can only safely store up to 53 bits"),e},vd.utf8ToBinary=function(t){return Fd(Gd(t))},vd.numberToBuffer=function(t){return Kd(Vd(t))},vd.numberToArray=function(t){return $d(Vd(t))},vd.numberToHex=function(t,e){return Zd(Vd(t),e)},vd.numberToUtf8=function(t){return`${t}`},vd.numberToBinary=Vd,vd.binaryToBuffer=Kd,vd.binaryToArray=$d,vd.binaryToHex=Zd,vd.binaryToUtf8=function(t){return jd($d(t))},vd.binaryToNumber=function(t){return Dd($d(t))},vd.isBinaryString=Jd,vd.isHexString=Yd,vd.isBuffer=Xd,vd.isTypedArray=Qd,vd.isArrayBuffer=tp,vd.getType=function(t){return Xd(t)?"buffer":Qd(t)?"typed-array":tp(t)?"array-buffer":Array.isArray(t)?"array":typeof t},vd.getEncoding=function(t){return Jd(t)?"binary":Yd(t)?Td:Od},vd.concatBuffers=function(...t){return Nf.concat(t)},vd.concatArrays=function(...t){let e=[];return t.forEach((t=>e=e.concat(Array.from(t)))),new Uint8Array([...e])},vd.trimLeft=function(t,e){const r=t.length-e;return r>0&&(t=t.slice(r)),t},vd.trimRight=function(t,e){return t.slice(0,e)},vd.calcByteLength=ep,vd.splitBytes=rp,vd.swapBytes=np,vd.swapHex=function(t){return Zd(np(Hd(t)))},vd.sanitizeBytes=ip,vd.padLeft=op,vd.padRight=function(t,e,r="0"){return cp(t,e,!1,r)},vd.removeHexPrefix=sp,vd.addHexPrefix=ap,vd.sanitizeHex=function(t){return(t=ip(t=sp(t),2))&&(t=ap(t)),t},vd.removeHexLeadingZeros=function(t){const e=t.startsWith("0x");return t=(t=sp(t)).startsWith(Id)?t.substring(1):t,e?ap(t):t},Object.defineProperty(_f,"__esModule",{value:!0}),_f.convertNumberToHex=_f.convertNumberToUtf8=_f.convertNumberToArrayBuffer=_f.convertNumberToBuffer=_f.convertHexToNumber=_f.convertHexToUtf8=_f.convertHexToArrayBuffer=_f.convertHexToBuffer=_f.convertUtf8ToNumber=_f.convertUtf8ToHex=_f.convertUtf8ToBuffer=_f.convertUtf8ToArrayBuffer=_f.concatBuffers=_f.convertBufferToNumber=_f.convertBufferToHex=_f.convertBufferToUtf8=_f.convertBufferToArrayBuffer=_f.concatArrayBuffers=_f.convertArrayBufferToNumber=_f.convertArrayBufferToHex=_f.convertArrayBufferToUtf8=_f.convertArrayBufferToBuffer=void 0;const lp=Nh,hp=(0,lp.__importDefault)(bf.exports),fp=(0,lp.__importStar)(vd);_f.convertArrayBufferToBuffer=function(t){return fp.arrayToBuffer(new Uint8Array(t))},_f.convertArrayBufferToUtf8=function(t){return fp.arrayToUtf8(new Uint8Array(t))},_f.convertArrayBufferToHex=function(t,e){return fp.arrayToHex(new Uint8Array(t),!e)},_f.convertArrayBufferToNumber=function(t){return fp.arrayToNumber(new Uint8Array(t))},_f.concatArrayBuffers=function(...t){return fp.hexToArray(t.map((t=>fp.arrayToHex(new Uint8Array(t)))).join("")).buffer},_f.convertBufferToArrayBuffer=function(t){return fp.bufferToArray(t).buffer},_f.convertBufferToUtf8=function(t){return fp.bufferToUtf8(t)},_f.convertBufferToHex=function(t,e){return fp.bufferToHex(t,!e)},_f.convertBufferToNumber=function(t){return fp.bufferToNumber(t)},_f.concatBuffers=function(...t){return fp.concatBuffers(...t)},_f.convertUtf8ToArrayBuffer=function(t){return fp.utf8ToArray(t).buffer},_f.convertUtf8ToBuffer=function(t){return fp.utf8ToBuffer(t)},_f.convertUtf8ToHex=function(t,e){return fp.utf8ToHex(t,!e)},_f.convertUtf8ToNumber=function(t){return new hp.default(t,10).toNumber()},_f.convertHexToBuffer=function(t){return fp.hexToBuffer(t)},_f.convertHexToArrayBuffer=function(t){return fp.hexToArray(t).buffer},_f.convertHexToUtf8=function(t){return fp.hexToUtf8(t)},_f.convertHexToNumber=function(t){return new hp.default(fp.removeHexPrefix(t),"hex").toNumber()},_f.convertNumberToBuffer=function(t){return fp.numberToBuffer(t)},_f.convertNumberToArrayBuffer=function(t){return fp.numberToArray(t).buffer},_f.convertNumberToUtf8=function(t){return new hp.default(t).toString()},_f.convertNumberToHex=function(t,e){const r=fp.removeHexPrefix(fp.sanitizeHex(new hp.default(t).toString(16)));return e?r:fp.addHexPrefix(r)};var dp={},pp={};const mp="PARSE_ERROR",gp="INVALID_REQUEST",yp="METHOD_NOT_FOUND",vp="INVALID_PARAMS",_p="INTERNAL_ERROR",bp="SERVER_ERROR",wp=[-32700,-32600,-32601,-32602,-32603],Ep=[-32e3,-32099],xp={[mp]:{code:-32700,message:"Parse error"},[gp]:{code:-32600,message:"Invalid Request"},[yp]:{code:-32601,message:"Method not found"},[vp]:{code:-32602,message:"Invalid params"},[_p]:{code:-32603,message:"Internal error"},[bp]:{code:-32e3,message:"Server error"}};function Sp(t){return wp.includes(t)}function Mp(t){return"number"==typeof t}function kp(t){return Object.keys(xp).includes(t)?xp[t]:xp.INTERNAL_ERROR}function Ap(t){const e=Object.values(xp).find((e=>e.code===t));return e||xp.INTERNAL_ERROR}var Rp={},Tp={};function Op(){return(null==ft?void 0:ft.crypto)||(null==ft?void 0:ft.msCrypto)||{}}function Ip(){const t=Op();return t.subtle||t.webkitSubtle}Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.isBrowserCryptoAvailable=Tp.getSubtleCrypto=Tp.getBrowerCrypto=void 0,Tp.getBrowerCrypto=Op,Tp.getSubtleCrypto=Ip,Tp.isBrowserCryptoAvailable=function(){return!!Op()&&!!Ip()};var Cp={};function Pp(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function Np(){return void 0!==le&&void 0!==le.versions&&void 0!==le.versions.node}Object.defineProperty(Cp,"__esModule",{value:!0}),Cp.isBrowser=Cp.isNode=Cp.isReactNative=void 0,Cp.isReactNative=Pp,Cp.isNode=Np,Cp.isBrowser=function(){return!Pp()&&!Np()},function(t){var e=ft&&ft.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),r=ft&&ft.__exportStar||function(t,r){for(var n in t)"default"===n||r.hasOwnProperty(n)||e(r,t,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(Tp,t),r(Cp,t)}(Rp);const Lp=Rp.isNode;function Bp(){return Date.now()*Math.pow(10,3)+Math.floor(Math.random()*Math.pow(10,3))}function Up(t){return void 0===t?kp(_p):("string"==typeof t&&(t=Object.assign(Object.assign({},kp(bp)),{message:t})),Sp(t.code)&&(t=Ap(t.code)),t)}function jp(t){return"*"===t}function Dp(t){return!!jp(t)||!!t.includes("*")&&(2===t.split("*").length&&1===t.split("*").filter((t=>""===t.trim())).length)}class Fp{}class zp extends Fp{constructor(){super()}}function qp(t,e){const r=function(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(e&&e.length)return e[0]}(t);return void 0!==r&&new RegExp(e).test(r)}function Hp(t){return"id"in t&&"jsonrpc"in t&&"2.0"===t.jsonrpc}function Wp(t){return"result"in t}function Gp(t){return"error"in t}var Vp=Object.freeze({__proto__:null,PARSE_ERROR:mp,INVALID_REQUEST:gp,METHOD_NOT_FOUND:yp,INVALID_PARAMS:vp,INTERNAL_ERROR:_p,SERVER_ERROR:bp,RESERVED_ERROR_CODES:wp,SERVER_ERROR_CODE_RANGE:Ep,STANDARD_ERROR_MAP:xp,isServerErrorCode:function(t){return t<=Ep[0]&&t>=Ep[1]},isReservedErrorCode:Sp,isValidErrorCode:Mp,getError:kp,getErrorByCode:Ap,validateJsonRpcError:function(t){if(void 0===t.error.code)return{valid:!1,error:"Missing code for JSON-RPC error"};if(void 0===t.error.message)return{valid:!1,error:"Missing message for JSON-RPC error"};if(!Mp(t.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${t.error.code}`};if(Sp(t.error.code)){const e=Ap(t.error.code);if(e.message!==xp.INTERNAL_ERROR.message&&t.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${t.error.code}`}}return{valid:!0}},parseConnectionError:function(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t},isNodeJs:Lp,payloadId:Bp,formatJsonRpcRequest:function(t,e,r){return{id:r||Bp(),jsonrpc:"2.0",method:t,params:e}},formatJsonRpcResult:function(t,e){return{id:t,jsonrpc:"2.0",result:e}},formatJsonRpcError:function(t,e){return{id:t,jsonrpc:"2.0",error:Up(e)}},formatErrorMessage:Up,isValidRoute:function(t){return t.includes("*")?Dp(t):!/\W/g.test(t)},isValidDefaultRoute:jp,isValidWildcardRoute:Dp,isValidLeadingWildcardRoute:function(t){return!jp(t)&&Dp(t)&&!t.split("*")[0].trim()},isValidTrailingWildcardRoute:function(t){return!jp(t)&&Dp(t)&&!t.split("*")[1].trim()},IEvents:Fp,IJsonRpcConnection:class extends Fp{constructor(t){super()}},IBaseJsonRpcProvider:zp,IJsonRpcProvider:class extends zp{constructor(t){super()}},isHttpUrl:function(t){return qp(t,"^https?:")},isWsUrl:function(t){return qp(t,"^wss?:")},isLocalhostUrl:function(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)},isJsonRpcPayload:Hp,isJsonRpcRequest:function(t){return Hp(t)&&"method"in t},isJsonRpcResponse:function(t){return Hp(t)&&(Wp(t)||Gp(t))},isJsonRpcResult:Wp,isJsonRpcError:Gp,isJsonRpcValidationInvalid:function(t){return"error"in t&&!1===t.valid}}),Kp=dt(Vp);Object.defineProperty(pp,"__esModule",{value:!0}),pp.getRpcUrl=pp.getInfuraRpcUrl=pp.logDeprecationWarning=pp.uuid=pp.payloadId=pp.removeHexLeadingZeros=pp.removeHexPrefix=pp.addHexPrefix=pp.sanitizeHex=void 0;const $p=Nh,Zp=(0,$p.__importStar)(vd),Jp=(0,$p.__importStar)(Kp),Yp=vf;function Xp(t,e){let r;const n=Yp.infuraNetworks[t];return n&&(r=`https://${n}.infura.io/v3/${e}`),r}pp.sanitizeHex=function(t){return Zp.sanitizeHex(t)},pp.addHexPrefix=function(t){return Zp.addHexPrefix(t)},pp.removeHexPrefix=function(t){return Zp.removeHexPrefix(t)},pp.removeHexLeadingZeros=function(t){return Zp.removeHexLeadingZeros(Zp.addHexPrefix(t))},pp.payloadId=Jp.payloadId,pp.uuid=function(){const t=((t,e)=>{for(e=t="";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e})();return t},pp.logDeprecationWarning=function(){console.warn("DEPRECATION WARNING: This WalletConnect client library will be deprecated in favor of @walletconnect/client. Please check docs.walletconnect.org to learn more about this migration!")},pp.getInfuraRpcUrl=Xp,pp.getRpcUrl=function(t,e){let r;const n=Xp(t,e.infuraId);return e.custom&&e.custom[t]?r=e.custom[t]:n&&(r=n),r};var Qp={};Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.isSilentPayload=Qp.isReservedEvent=Qp.isInternalEvent=Qp.isJsonRpcResponseError=Qp.isJsonRpcResponseSuccess=Qp.isJsonRpcRequest=Qp.isJsonRpcSubscription=Qp.isHexString=Qp.getEncoding=Qp.getType=Qp.isArrayBuffer=Qp.isTypedArray=Qp.isBuffer=Qp.isEmptyArray=Qp.isEmptyString=void 0;const tm=(0,Nh.__importStar)(vd),em=vf;Qp.isEmptyString=function(t){return""===t||"string"==typeof t&&""===t.trim()},Qp.isEmptyArray=function(t){return!(t&&t.length)},Qp.isBuffer=function(t){return tm.isBuffer(t)},Qp.isTypedArray=function(t){return tm.isTypedArray(t)},Qp.isArrayBuffer=function(t){return tm.isArrayBuffer(t)},Qp.getType=function(t){return tm.getType(t)},Qp.getEncoding=function(t){return tm.getEncoding(t)},Qp.isHexString=function(t,e){return tm.isHexString(t,e)},Qp.isJsonRpcSubscription=function(t){return"object"==typeof t.params},Qp.isJsonRpcRequest=function(t){return void 0!==t.method},Qp.isJsonRpcResponseSuccess=function(t){return void 0!==t.result},Qp.isJsonRpcResponseError=function(t){return void 0!==t.error},Qp.isInternalEvent=function(t){return void 0!==t.event},Qp.isReservedEvent=function(t){return em.reservedEvents.includes(t)||t.startsWith("wc_")},Qp.isSilentPayload=function(t){return!!t.method.startsWith("wc_")||!em.signingMethods.includes(t.method)},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransactionData=t.parsePersonalSign=t.isValidAddress=t.toChecksumAddress=void 0;const e=he.exports,r=vd,n=_f,i=pp,o=Qp;function s(t){t=(0,r.removeHexPrefix)(t.toLowerCase());const i=(0,r.removeHexPrefix)((0,e.keccak_256)((0,n.convertUtf8ToBuffer)(t)));let o="";for(let e=0;e<t.length;e++)parseInt(i[e],16)>7?o+=t[e].toUpperCase():o+=t[e];return(0,r.addHexPrefix)(o)}t.toChecksumAddress=s;t.isValidAddress=t=>!!t&&("0x"===t.toLowerCase().substring(0,2)&&(!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!(!/^(0x)?[0-9a-f]{40}$/.test(t)&&!/^(0x)?[0-9A-F]{40}$/.test(t))||t===s(t)))),t.parsePersonalSign=function(t){return(0,o.isEmptyArray)(t)||(0,o.isHexString)(t[0])||(t[0]=(0,n.convertUtf8ToHex)(t[0])),t},t.parseTransactionData=function(e){if(void 0!==e.type&&"0"!==e.type)return e;if(void 0===e.from||!(0,t.isValidAddress)(e.from))throw new Error("Transaction object must include a valid 'from' value.");function r(t){let e=t;return("number"==typeof t||"string"==typeof t&&!(0,o.isEmptyString)(t))&&((0,o.isHexString)(t)?"string"==typeof t&&(e=(0,i.sanitizeHex)(t)):e=(0,n.convertNumberToHex)(t)),"string"==typeof e&&(e=(0,i.removeHexLeadingZeros)(e)),e}const s={from:(0,i.sanitizeHex)(e.from),to:void 0===e.to?"":(0,i.sanitizeHex)(e.to),gasPrice:void 0===e.gasPrice?"":r(e.gasPrice),gas:void 0===e.gas?void 0===e.gasLimit?"":r(e.gasLimit):r(e.gas),value:void 0===e.value?"":r(e.value),nonce:void 0===e.nonce?"":r(e.nonce),data:void 0===e.data?"":(0,i.sanitizeHex)(e.data)||"0x"},a=["gasPrice","gas","value","nonce"];return Object.keys(s).forEach((t=>{!s[t].trim().length&&a.includes(t)&&delete s[t]})),s}}(dp);var rm={};Object.defineProperty(rm,"__esModule",{value:!0}),rm.formatRpcError=rm.promisify=void 0;const nm=Nh;rm.promisify=function(t,e){return(...r)=>(0,nm.__awaiter)(this,void 0,void 0,(function*(){return new Promise(((n,i)=>{t.apply(e,[...r,(t,e)=>{null==t&&i(t),n(e)}])}))}))},rm.formatRpcError=function(t){const e=t.message||"Failed or Rejected Request";let r=-32e3;if(t&&!t.code)switch(e){case"Parse error":r=-32700;break;case"Invalid request":r=-32600;break;case"Method not found":r=-32601;break;case"Invalid params":r=-32602;break;case"Internal error":r=-32603;break;default:r=-32e3}return{code:r,message:e}};var im={},om={},sm={},am=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)),um="%[a-f0-9]{2}",cm=new RegExp(um,"gi"),lm=new RegExp("("+um+")+","gi");function hm(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],hm(r),hm(n))}function fm(t){try{return decodeURIComponent(t)}catch(n){for(var e=t.match(cm),r=1;r<e.length;r++)e=(t=hm(e,r).join("")).match(cm);return t}}var dm=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},r=lm.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var n=fm(r[0]);n!==r[0]&&(e[r[0]]=n)}r=lm.exec(t)}e["%C2"]="�";for(var i=Object.keys(e),o=0;o<i.length;o++){var s=i[o];t=t.replace(new RegExp(s,"g"),e[s])}return t}(t)}},pm=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const r=t.indexOf(e);return-1===r?[t]:[t.slice(0,r),t.slice(r+e.length)]};!function(t){const e=am,r=dm,n=pm;function i(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function o(t,r){return r.encode?r.strict?e(t):encodeURIComponent(t):t}function s(t,e){return e.decode?r(t):t}function a(t){return Array.isArray(t)?t.sort():"object"==typeof t?a(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function u(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function c(t){const e=(t=u(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function l(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function h(t,e){i((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,n)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return(t,r,n)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"comma":case"separator":return(e,r,n)=>{const i="string"==typeof r&&r.split("").indexOf(t.arrayFormatSeparator)>-1?r.split(t.arrayFormatSeparator).map((e=>s(e,t))):null===r?r:s(r,t);n[e]=i};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),o=Object.create(null);if("string"!=typeof t)return o;if(!(t=t.trim().replace(/^[?#&]/,"")))return o;for(const i of t.split("&")){let[t,a]=n(e.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator"].includes(e.arrayFormat)?a:s(a,e),r(s(t,e),a,o)}for(const t of Object.keys(o)){const r=o[t];if("object"==typeof r&&null!==r)for(const t of Object.keys(r))r[t]=l(r[t],e);else o[t]=l(r,e)}return!1===e.sort?o:(!0===e.sort?Object.keys(o).sort():Object.keys(o).sort(e.sort)).reduce(((t,e)=>{const r=o[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=a(r):t[e]=r,t}),Object.create(null))}t.extract=c,t.parse=h,t.stringify=(t,e)=>{if(!t)return"";i((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>e.skipNull&&(t=>null==t)(t[r])||e.skipEmptyString&&""===t[r],n=function(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{const i=r.length;return void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[o(e,t),"[",i,"]"].join("")]:[...r,[o(e,t),"[",o(i,t),"]=",o(n,t)].join("")]};case"bracket":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[o(e,t),"[]"].join("")]:[...r,[o(e,t),"[]=",o(n,t)].join("")];case"comma":case"separator":return e=>(r,n)=>null==n||0===n.length?r:0===r.length?[[o(e,t),"=",o(n,t)].join("")]:[[r,o(n,t)].join(t.arrayFormatSeparator)];default:return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,o(e,t)]:[...r,[o(e,t),"=",o(n,t)].join("")]}}(e),s={};for(const e of Object.keys(t))r(e)||(s[e]=t[e]);const a=Object.keys(s);return!1!==e.sort&&a.sort(e.sort),a.map((r=>{const i=t[r];return void 0===i?"":null===i?o(r,e):Array.isArray(i)?i.reduce(n(r),[]).join("&"):o(r,e)+"="+o(i,e)})).filter((t=>t.length>0)).join("&")},t.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,i]=n(t,"#");return Object.assign({url:r.split("?")[0]||"",query:h(c(t),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:s(i,e)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0},r);const n=u(e.url).split("?")[0]||"",i=t.extract(e.url),s=t.parse(i,{sort:!1}),a=Object.assign(s,e.query);let c=t.stringify(a,r);c&&(c=`?${c}`);let l=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(e.url);return e.fragmentIdentifier&&(l=`#${o(e.fragmentIdentifier,r)}`),`${n}${c}${l}`}}(sm),Object.defineProperty(om,"__esModule",{value:!0}),om.formatQueryString=om.parseQueryString=om.appendToQueryString=om.getQueryString=void 0;const mm=(0,Nh.__importStar)(sm);function gm(t){return mm.parse(t)}function ym(t){return mm.stringify(t)}om.getQueryString=function(t){const e=-1!==t.indexOf("?")?t.indexOf("?"):void 0;return void 0!==e?t.substr(e):""},om.appendToQueryString=function(t,e){let r=gm(t);return r=Object.assign(Object.assign({},r),e),t=ym(r)},om.parseQueryString=gm,om.formatQueryString=ym,Object.defineProperty(im,"__esModule",{value:!0}),im.parseWalletConnectUri=im.isWalletConnectSession=void 0;const vm=om;im.isWalletConnectSession=function(t){return void 0!==t.bridge},im.parseWalletConnectUri=function(t){const e=t.indexOf(":"),r=-1!==t.indexOf("?")?t.indexOf("?"):void 0,n=t.substring(0,e),i=function(t){const e=t.split("@");return{handshakeTopic:e[0],version:parseInt(e[1],10)}}(t.substring(e+1,r)),o=function(t){const e=(0,vm.parseQueryString)(t);return{key:e.key||"",bridge:e.bridge||""}}(void 0!==r?t.substr(r):"");return Object.assign(Object.assign({protocol:n},i),o)},function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Nh;(0,e.__exportStar)(jh,t),(0,e.__exportStar)(vf,t),(0,e.__exportStar)(_f,t),(0,e.__exportStar)(dp,t),(0,e.__exportStar)(pp,t),(0,e.__exportStar)(rm,t),(0,e.__exportStar)(im,t),(0,e.__exportStar)(om,t),(0,e.__exportStar)(Qp,t)}(Uh);var _m={},bm={};Object.defineProperty(bm,"__esModule",{value:!0});bm.default=class{constructor(){this._eventEmitters=[],"undefined"!=typeof window&&void 0!==window.addEventListener&&(window.addEventListener("online",(()=>this.trigger("online"))),window.addEventListener("offline",(()=>this.trigger("offline"))))}on(t,e){this._eventEmitters.push({event:t,callback:e})}trigger(t){let e=[];t&&(e=this._eventEmitters.filter((e=>e.event===t))),e.forEach((t=>{t.callback()}))}};var wm,Em,xm=Cm(Ft.fetch)&&Cm(Ft.ReadableStream);function Sm(t){Em||(Em=new Ft.XMLHttpRequest).open("GET",Ft.location.host?"/":"https://example.com");try{return Em.responseType=t,Em.responseType===t}catch(t){return!1}}var Mm=void 0!==Ft.ArrayBuffer,km=Mm&&Cm(Ft.ArrayBuffer.prototype.slice),Am=Mm&&Sm("arraybuffer"),Rm=!xm&&km&&Sm("ms-stream"),Tm=!xm&&Mm&&Sm("moz-chunked-arraybuffer"),Om=Cm(Em.overrideMimeType),Im=Cm(Ft.VBArray);function Cm(t){return"function"==typeof t}Em=null;var Pm={},Nm=function(t){return t instanceof Nf},Lm={exports:{}},Bm={exports:{}};"function"==typeof Object.create?Bm.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:Bm.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t};try{var Um=require("util");if("function"!=typeof Um.inherits)throw"";Lm.exports=Um.inherits}catch(WR){Lm.exports=Bm.exports}!function(t){var e=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},r=/%[sdj%]/g;t.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,s=i.length,a=String(t).replace(r,(function(t){if("%%"===t)return"%";if(n>=s)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}})),u=i[n];n<s;u=i[++n])d(u)||!v(u)?a+=" "+u:a+=" "+o(u);return a},t.deprecate=function(e,r){if(void 0!==le&&!0===le.noDeprecation)return e;if(void 0===le)return function(){return t.deprecate(e,r).apply(this,arguments)};var n=!1;return function(){return n||(console.error(r),n=!0),e.apply(this,arguments)}};var n,i={};function o(e,r){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(r)?n.showHidden=r:r&&t._extend(n,r),g(n.showHidden)&&(n.showHidden=!1),g(n.depth)&&(n.depth=2),g(n.colors)&&(n.colors=!1),g(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),u(n,e,n.depth)}function s(t,e){var r=o.styles[e];return r?"["+o.colors[r][0]+"m"+t+"["+o.colors[r][1]+"m":t}function a(t,e){return t}function u(e,r,n){if(e.customInspect&&r&&w(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return m(i)||(i=u(e,i,n)),i}var o=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(m(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(p(e))return t.stylize(""+e,"number");if(f(e))return t.stylize(""+e,"boolean");if(d(e))return t.stylize("null","null")}(e,r);if(o)return o;var s=Object.keys(r),a=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),b(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(r);if(0===s.length){if(w(r)){var v=r.name?": "+r.name:"";return e.stylize("[Function"+v+"]","special")}if(y(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(_(r))return e.stylize(Date.prototype.toString.call(r),"date");if(b(r))return c(r)}var E,x="",S=!1,M=["{","}"];(h(r)&&(S=!0,M=["[","]"]),w(r))&&(x=" [Function"+(r.name?": "+r.name:"")+"]");return y(r)&&(x=" "+RegExp.prototype.toString.call(r)),_(r)&&(x=" "+Date.prototype.toUTCString.call(r)),b(r)&&(x=" "+c(r)),0!==s.length||S&&0!=r.length?n<0?y(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),E=S?function(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)k(e,String(s))?o.push(l(t,e,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(l(t,e,r,n,i,!0))})),o}(e,r,n,a,s):s.map((function(t){return l(e,r,n,a,t,S)})),e.seen.pop(),function(t,e,r){if(t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(E,x,M)):M[0]+x+M[1]}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,r,n,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),k(n,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=d(r)?u(t,c.value,null):u(t,c.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),g(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function h(t){return Array.isArray(t)}function f(t){return"boolean"==typeof t}function d(t){return null===t}function p(t){return"number"==typeof t}function m(t){return"string"==typeof t}function g(t){return void 0===t}function y(t){return v(t)&&"[object RegExp]"===E(t)}function v(t){return"object"==typeof t&&null!==t}function _(t){return v(t)&&"[object Date]"===E(t)}function b(t){return v(t)&&("[object Error]"===E(t)||t instanceof Error)}function w(t){return"function"==typeof t}function E(t){return Object.prototype.toString.call(t)}function x(t){return t<10?"0"+t.toString(10):t.toString(10)}t.debuglog=function(e){if(g(n)&&(n=""),e=e.toUpperCase(),!i[e])if(new RegExp("\\b"+e+"\\b","i").test(n)){var r=le.pid;i[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else i[e]=function(){};return i[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=f,t.isNull=d,t.isNullOrUndefined=function(t){return null==t},t.isNumber=p,t.isString=m,t.isSymbol=function(t){return"symbol"==typeof t},t.isUndefined=g,t.isRegExp=y,t.isObject=v,t.isDate=_,t.isError=b,t.isFunction=w,t.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},t.isBuffer=Nm;var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var t=new Date,e=[x(t.getHours()),x(t.getMinutes()),x(t.getSeconds())].join(":");return[t.getDate(),S[t.getMonth()],e].join(" ")}function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.log=function(){console.log("%s - %s",M(),t.format.apply(t,arguments))},t.inherits=Lm.exports,t._extend=function(t,e){if(!e||!v(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}t.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(A&&t[A]){var r;if("function"!=typeof(r=t[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,A,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,i)}catch(t){r(t)}return n}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),A&&Object.defineProperty(r,A,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,e(t))},t.promisify.custom=A,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);var n=e.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return n.apply(i,arguments)};t.apply(this,e).then((function(t){le.nextTick(o,null,t)}),(function(t){le.nextTick(R,t,o)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,e(t)),r}}(Pm);for(var jm=ft.process,Dm={},Fm={byteLength:function(t){var e=Km(t),r=e[0],n=e[1];return 3*(r+n)/4-n},toByteArray:function(t){var e,r,n=Km(t),i=n[0],o=n[1],s=new Hm(function(t,e,r){return 3*(e+r)/4-r}(0,i,o)),a=0,u=o>0?i-4:i;for(r=0;r<u;r+=4)e=qm[t.charCodeAt(r)]<<18|qm[t.charCodeAt(r+1)]<<12|qm[t.charCodeAt(r+2)]<<6|qm[t.charCodeAt(r+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;2===o&&(e=qm[t.charCodeAt(r)]<<2|qm[t.charCodeAt(r+1)]>>4,s[a++]=255&e);1===o&&(e=qm[t.charCodeAt(r)]<<10|qm[t.charCodeAt(r+1)]<<4|qm[t.charCodeAt(r+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e);return s},fromByteArray:function(t){for(var e,r=t.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push($m(t,s,s+o>a?a:s+o));1===n?(e=t[r-1],i.push(zm[e>>2]+zm[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],i.push(zm[e>>10]+zm[e>>4&63]+zm[e<<2&63]+"="));return i.join("")}},zm=[],qm=[],Hm="undefined"!=typeof Uint8Array?Uint8Array:Array,Wm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gm=0,Vm=Wm.length;Gm<Vm;++Gm)zm[Gm]=Wm[Gm],qm[Wm.charCodeAt(Gm)]=Gm;function Km(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function $m(t,e,r){for(var n,i,o=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(zm[(i=n)>>18&63]+zm[i>>12&63]+zm[i>>6&63]+zm[63&i]);return o.join("")}qm["-".charCodeAt(0)]=62,qm["_".charCodeAt(0)]=63;var Zm,Jm={};
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function Ym(){this.head=null,this.tail=null,this.length=0}Jm.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?i-1:0,f=r?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=c}return(d?-1:1)*s*Math.pow(2,o-n)},Jm.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+d]=255&s,d+=p,s/=256,c-=8);t[r+d-p]|=128*m},
/*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     */
function(t){const e=Fm,r=Jm,n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},t.INSPECT_MAX_BYTES=50;const i=2147483647;function o(t){if(t>i)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,s.prototype),e}function s(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}return a(t,e,r)}function a(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|d(t,e);let n=o(r);const i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(K(t,Uint8Array)){const e=new Uint8Array(t);return h(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(K(t,ArrayBuffer)||t&&K(t.buffer,ArrayBuffer))return h(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(K(t,SharedArrayBuffer)||t&&K(t.buffer,SharedArrayBuffer)))return h(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return s.from(n,e,r);const i=function(t){if(s.isBuffer(t)){const e=0|f(t.length),r=o(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||$(t.length)?o(0):l(t);if("Buffer"===t.type&&Array.isArray(t.data))return l(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return s.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return u(t),o(t<0?0:0|f(t))}function l(t){const e=t.length<0?0:0|f(t.length),r=o(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function h(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,s.prototype),n}function f(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function d(t,e){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||K(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(t).length;default:if(i)return n?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function p(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return S(this,e,r);case"ascii":return k(this,e,r);case"latin1":case"binary":return A(this,e,r);case"base64":return x(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),$(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:y(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,n,i){let o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let n=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(t,o+n)!==c(e,n)){r=!1;break}if(r)return o}return-1}function v(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=e.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if($(n))return s;t[r+s]=n}return s}function _(t,e,r,n){return V(W(e,t.length-r),t,r,n)}function b(t,e,r,n){return V(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function w(t,e,r,n){return V(G(e),t,r,n)}function E(t,e,r,n){return V(function(t,e){let r,n,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function x(t,r,n){return 0===r&&n===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(r,n))}function S(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:e<128&&(o=e);break;case 2:r=t[i+1],128==(192&r)&&(u=(31&e)<<6|63&r,u>127&&(o=u));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(u=(15&e)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(t){const e=t.length;if(e<=M)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=M));return r}(n)}t.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(t,e,r){return a(t,e,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(t,e,r){return function(t,e,r){return u(t),t<=0?o(t):void 0!==e?"string"==typeof r?o(t).fill(e,r):o(t).fill(e):o(t)}(t,e,r)},s.allocUnsafe=function(t){return c(t)},s.allocUnsafeSlow=function(t){return c(t)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==s.prototype},s.compare=function(t,e){if(K(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),K(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=s.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(K(e,Uint8Array))i+e.length>n.length?(s.isBuffer(e)||(e=s.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!s.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},s.byteLength=d,s.prototype._isBuffer=!0,s.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},s.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},s.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},s.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(t,e,r,n,i){if(K(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0);const u=Math.min(o,a),c=this.slice(n,i),l=t.slice(e,r);for(let t=0;t<u;++t)if(c[t]!==l[t]){o=c[t],a=l[t];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},s.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},s.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},s.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":case"latin1":case"binary":return b(this,t,e,r);case"base64":return w(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const M=4096;function k(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function A(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=Z[t[n]];return i}function T(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function O(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,r,n,i,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function C(t,e,r,n,i){F(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function P(t,e,r,n,i){F(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function N(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(t,e,n,i,o){return e=+e,n>>>=0,o||N(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function B(t,e,n,i,o){return e=+e,n>>>=0,o||N(t,0,n,8),r.write(t,e,n,i,52,8),n+8}s.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},s.prototype.readUint8=s.prototype.readUInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),this[t]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readBigUInt64LE=J((function(t){z(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),s.prototype.readBigUInt64BE=J((function(t){z(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),s.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){t>>>=0,e||O(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(t,e){t>>>=0,e||O(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readBigInt64LE=J((function(t){z(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),s.prototype.readBigInt64BE=J((function(t){z(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),s.prototype.readFloatLE=function(t,e){return t>>>=0,e||O(t,4,this.length),r.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return t>>>=0,e||O(t,4,this.length),r.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return t>>>=0,e||O(t,8,this.length),r.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return t>>>=0,e||O(t,8,this.length),r.read(this,t,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){I(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){I(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,1,255,0),this[e]=255&t,e+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeBigUInt64LE=J((function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeBigUInt64BE=J((function(t,e=0){return P(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);I(this,t,e,r,n-1,-n)}let i=0,o=1,s=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},s.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);I(this,t,e,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},s.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},s.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeBigInt64LE=J((function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeBigInt64BE=J((function(t,e=0){return P(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeFloatLE=function(t,e,r){return L(this,t,e,!0,r)},s.prototype.writeFloatBE=function(t,e,r){return L(this,t,e,!1,r)},s.prototype.writeDoubleLE=function(t,e,r){return B(this,t,e,!0,r)},s.prototype.writeDoubleBE=function(t,e,r){return B(this,t,e,!1,r)},s.prototype.copy=function(t,e,r,n){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},s.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const o=s.isBuffer(t)?t:s.from(t,n),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%a]}return this};const U={};function j(t,e,r){U[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function D(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function F(t,e,r,n,i,o){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new U.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){z(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||q(e,t.length-(r+1))}(n,i,o)}function z(t,e){if("number"!=typeof t)throw new U.ERR_INVALID_ARG_TYPE(e,"number",t)}function q(t,e,r){if(Math.floor(t)!==t)throw z(t,r),new U.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),j("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=D(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=D(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function G(t){return e.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function V(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function K(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function $(t){return t!=t}const Z=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function J(t){return"undefined"==typeof BigInt?Y:t}function Y(){throw new Error("BigInt not supported")}}(Dm),Ym.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},Ym.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},Ym.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},Ym.prototype.clear=function(){this.head=this.tail=null,this.length=0},Ym.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},Ym.prototype.concat=function(t){if(0===this.length)return Dm.Buffer.alloc(0);if(1===this.length)return this.head.data;for(var e=Dm.Buffer.allocUnsafe(t>>>0),r=this.head,n=0;r;)r.data.copy(e,n),n+=r.data.length,r=r.next;return e};var Xm=Dm.Buffer,Qm=Xm.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var tg=Zm=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),function(t){if(t&&!Qm(t))throw new Error("Unknown encoding: "+t)}(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=rg;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=ng;break;default:return void(this.write=eg)}this.charBuffer=new Xm(6),this.charReceived=0,this.charLength=0};function eg(t){return t.toString(this.encoding)}function rg(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function ng(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}tg.prototype.write=function(t){for(var e="";this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(t=t.slice(r,t.length),!((i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var n=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived);var i;n=(e+=t.toString(this.encoding,0,n)).length-1;if((i=e.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,n)}return e},tg.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var r=t[t.length-e];if(1==e&&r>>5==6){this.charLength=2;break}if(e<=2&&r>>4==14){this.charLength=3;break}if(e<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=e},tg.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;e+=n.slice(0,r).toString(i)}return e},sg.ReadableState=og;var ig=Pm.debuglog("stream");function og(t,e){t=t||{},this.objectMode=!!t.objectMode,e instanceof Ng&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new Ym,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(this.decoder=new Zm(t.encoding),this.encoding=t.encoding)}function sg(t){if(!(this instanceof sg))return new sg(t);this._readableState=new og(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),Bc.call(this)}function ag(t,e,r,n,i){var o=function(t,e){var r=null;Nf.isBuffer(e)||"string"==typeof e||null==e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(e,r);if(o)t.emit("error",o);else if(null===r)e.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,lg(t)}(t,e);else if(e.objectMode||r&&r.length>0)if(e.ended&&!i){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(e.endEmitted&&i){var a=new Error("stream.unshift() after end event");t.emit("error",a)}else{var u;!e.decoder||i||n||(r=e.decoder.write(r),u=!e.objectMode&&0===r.length),i||(e.reading=!1),u||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&lg(t))),function(t,e){e.readingMore||(e.readingMore=!0,jm.nextTick(fg,t,e))}(t,e)}else i||(e.reading=!1);return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(e)}Pm.inherits(sg,Bc),sg.prototype.push=function(t,e){var r=this._readableState;return r.objectMode||"string"!=typeof t||(e=e||r.defaultEncoding)!==r.encoding&&(t=Nf.from(t,e),e=""),ag(this,r,t,e,!1)},sg.prototype.unshift=function(t){return ag(this,this._readableState,t,"",!0)},sg.prototype.isPaused=function(){return!1===this._readableState.flowing},sg.prototype.setEncoding=function(t){return this._readableState.decoder=new Zm(t),this._readableState.encoding=t,this};var ug=8388608;function cg(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=ug?t=ug:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function lg(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(ig("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?jm.nextTick(hg,t):hg(t))}function hg(t){ig("emit readable"),t.emit("readable"),mg(t)}function fg(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(ig("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function dg(t){ig("readable nexttick read 0"),t.read(0)}function pg(t,e){e.reading||(ig("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),mg(t),e.flowing&&!e.reading&&t.read(0)}function mg(t){var e=t._readableState;for(ig("flow",e.flowing);e.flowing&&null!==t.read(););}function gg(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=Nf.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),0===(t-=s)){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function yg(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,jm.nextTick(vg,e,t))}function vg(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function _g(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function bg(){}function wg(t,e,r){this.chunk=t,this.encoding=e,this.callback=r,this.next=null}function Eg(t,e){Object.defineProperty(this,"buffer",{get:Pm.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),t=t||{},this.objectMode=!!t.objectMode,e instanceof Ng&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===t.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?jm.nextTick(i,n):i(n);t._writableState.errorEmitted=!0,t.emit("error",n)}(t,r,n,e,i);else{var o=Ag(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||kg(t,r),n?jm.nextTick(Mg,t,r,o,i):Mg(t,r,o,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Og(this)}function xg(t){if(!(this instanceof xg||this instanceof Ng))return new xg(t);this._writableState=new Eg(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),wc.exports.EventEmitter.call(this)}function Sg(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function Mg(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),Tg(t,e)}function kg(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0;r;)i[s]=r,r=r.next,s+=1;Sg(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new Og(e)}else{for(;r;){var a=r.chunk,u=r.encoding,c=r.callback;if(Sg(t,e,!1,e.objectMode?1:a.length,a,u,c),r=r.next,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=r,e.bufferProcessing=!1}function Ag(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function Rg(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function Tg(t,e){var r=Ag(e);return r&&(0===e.pendingcb?(Rg(t,e),e.finished=!0,t.emit("finish")):Rg(t,e)),r}function Og(t){var e=this;this.next=null,this.entry=null,this.finish=function(r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}sg.prototype.read=function(t){ig("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return ig("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?yg(this):lg(this),null;if(0===(t=cg(t,e))&&e.ended)return 0===e.length&&yg(this),null;var n,i=e.needReadable;return ig("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&ig("length less than watermark",i=!0),e.ended||e.reading?ig("reading or ended",i=!1):i&&(ig("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=cg(r,e))),null===(n=t>0?gg(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&yg(this)),null!==n&&this.emit("data",n),n},sg.prototype._read=function(t){this.emit("error",new Error("not implemented"))},sg.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,ig("pipe count=%d opts=%j",n.pipesCount,e);var i=!e||!1!==e.end?s:c;function o(t){ig("onunpipe"),t===r&&c()}function s(){ig("onend"),t.end()}n.endEmitted?jm.nextTick(i):r.once("end",i),t.on("unpipe",o);var a=function(t){return function(){var e=t._readableState;ig("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&t.listeners("data").length&&(e.flowing=!0,mg(t))}}(r);t.on("drain",a);var u=!1;function c(){ig("cleanup"),t.removeListener("close",d),t.removeListener("finish",p),t.removeListener("drain",a),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",c),r.removeListener("data",h),u=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||a()}var l=!1;function h(e){ig("ondata"),l=!1,!1!==t.write(e)||l||((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==_g(n.pipes,t))&&!u&&(ig("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,l=!0),r.pause())}function f(e){ig("onerror",e),m(),t.removeListener("error",f),0===function(t,e){return t.listeners(e).length}(t,"error")&&t.emit("error",e)}function d(){t.removeListener("finish",p),m()}function p(){ig("onfinish"),t.removeListener("close",d),m()}function m(){ig("unpipe"),r.unpipe(t)}return r.on("data",h),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",f),t.once("close",d),t.once("finish",p),t.emit("pipe",r),n.flowing||(ig("pipe resume"),r.resume()),t},sg.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this)),this;if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var o=_g(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this},sg.prototype.on=function(t,e){var r=Bc.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&lg(this):jm.nextTick(dg,this))}return r},sg.prototype.addListener=sg.prototype.on,sg.prototype.resume=function(){var t=this._readableState;return t.flowing||(ig("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,jm.nextTick(pg,t,e))}(this,t)),this},sg.prototype.pause=function(){return ig("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ig("pause"),this._readableState.flowing=!1,this.emit("pause")),this},sg.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;for(var i in t.on("end",(function(){if(ig("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&n.push(t)}n.push(null)})),t.on("data",(function(i){(ig("wrapped data"),e.decoder&&(i=e.decoder.write(i)),e.objectMode&&null==i)||(e.objectMode||i&&i.length)&&(n.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));return function(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r],r)}(["error","close","destroy","pause","resume"],(function(e){t.on(e,n.emit.bind(n,e))})),n._read=function(e){ig("wrapped _read",e),r&&(r=!1,t.resume())},n},sg._fromList=gg,xg.WritableState=Eg,Pm.inherits(xg,wc.exports.EventEmitter),Eg.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},xg.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},xg.prototype.write=function(t,e,r){var n=this._writableState,i=!1;return"function"==typeof e&&(r=e,e=null),Dm.Buffer.isBuffer(t)?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=bg),n.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),jm.nextTick(e,r)}(this,r):function(t,e,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):Dm.Buffer.isBuffer(r)||"string"==typeof r||void 0===r||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),jm.nextTick(n,o),i=!1),i}(this,n,t,r)&&(n.pendingcb++,i=function(t,e,r,n,i){r=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=Dm.Buffer.from(e,r));return e}(e,r,n),Dm.Buffer.isBuffer(r)&&(n="buffer");var o=e.objectMode?1:r.length;e.length+=o;var s=e.length<e.highWaterMark;s||(e.needDrain=!0);if(e.writing||e.corked){var a=e.lastBufferedRequest;e.lastBufferedRequest=new wg(r,n,i),a?a.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Sg(t,e,!1,o,r,n,i);return s}(this,n,t,e,r)),i},xg.prototype.cork=function(){this._writableState.corked++},xg.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||kg(this,t))},xg.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},xg.prototype._write=function(t,e,r){r(new Error("not implemented"))},xg.prototype._writev=null,xg.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,Tg(t,e),r&&(e.finished?jm.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)},Pm.inherits(Ng,sg);for(var Ig=Object.keys(xg.prototype),Cg=0;Cg<Ig.length;Cg++){var Pg=Ig[Cg];Ng.prototype[Pg]||(Ng.prototype[Pg]=xg.prototype[Pg])}function Ng(t){if(!(this instanceof Ng))return new Ng(t);sg.call(this,t),xg.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",Lg)}function Lg(){this.allowHalfOpen||this._writableState.ended||jm.nextTick(Bg,this)}function Bg(t){t.end()}function Ug(t){this.afterTransform=function(e,r){return function(t,e,r){var n=t._transformState;n.transforming=!1;var i=n.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&t.push(r);i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function jg(t){if(!(this instanceof jg))return new jg(t);Ng.call(this,t),this._transformState=new Ug(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(t){Dg(e,t)})):Dg(e)}))}function Dg(t,e){if(e)return t.emit("error",e);var r=t._writableState,n=t._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}function Fg(t){if(!(this instanceof Fg))return new Fg(t);jg.call(this,t)}function zg(){Bc.call(this)}Pm.inherits(jg,Ng),jg.prototype.push=function(t,e){return this._transformState.needTransform=!1,Ng.prototype.push.call(this,t,e)},jg.prototype._transform=function(t,e,r){throw new Error("Not implemented")},jg.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},jg.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},Pm.inherits(Fg,jg),Fg.prototype._transform=function(t,e,r){r(null,t)},Pm.inherits(zg,Bc),zg.Readable=sg,zg.Writable=xg,zg.Duplex=Ng,zg.Transform=jg,zg.PassThrough=Fg,zg.Stream=zg,zg.prototype.pipe=function(t,e){var r=this;function n(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),t.on("drain",i),t._isStdio||e&&!1===e.end||(r.on("end",s),r.on("close",a));var o=!1;function s(){o||(o=!0,t.end())}function a(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(c(),0===Bc.listenerCount(this,"error"))throw t}function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",u),t.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("error",u),t.on("error",u),r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};var qg=Object.freeze({__proto__:null,default:zg,Readable:sg,Writable:xg,Duplex:Ng,Transform:jg,PassThrough:Fg,Stream:zg}),Hg=3,Wg=4;function Gg(t,e,r){var n,i=this;if(sg.call(i),i._mode=r,i.headers={},i.rawHeaders=[],i.trailers={},i.rawTrailers=[],i.on("end",(function(){le.nextTick((function(){i.emit("close")}))})),"fetch"===r){i._fetchResponse=e,i.url=e.url,i.statusCode=e.status,i.statusMessage=e.statusText;for(var o,s,a=e.headers[Symbol.iterator]();o=(s=a.next()).value,!s.done;)i.headers[o[0].toLowerCase()]=o[1],i.rawHeaders.push(o[0],o[1]);var u=e.body.getReader();(n=function(){u.read().then((function(t){i._destroyed||(t.done?i.push(null):(i.push(new Nf(t.value)),n()))}))})()}else{if(i._xhr=t,i._pos=0,i.url=t.responseURL,i.statusCode=t.status,i.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var r=e[1].toLowerCase();"set-cookie"===r?(void 0===i.headers[r]&&(i.headers[r]=[]),i.headers[r].push(e[2])):void 0!==i.headers[r]?i.headers[r]+=", "+e[2]:i.headers[r]=e[2],i.rawHeaders.push(e[1],e[2])}})),i._charset="x-user-defined",!Om){var c=i.rawHeaders["mime-type"];if(c){var l=c.match(/;\s*charset=([^;])(;|$)/);l&&(i._charset=l[1].toLowerCase())}i._charset||(i._charset="utf-8")}}}function Vg(t){var e,r=this;xg.call(r),r._opts=t,r._body=[],r._headers={},t.auth&&r.setHeader("Authorization","Basic "+new Nf(t.auth).toString("base64")),Object.keys(t.headers).forEach((function(e){r.setHeader(e,t.headers[e])}));var n=!0;if("disable-fetch"===t.mode)n=!1,e=!0;else if("prefer-streaming"===t.mode)e=!1;else if("allow-wrong-content-type"===t.mode)e=!Om;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");e=!0}r._mode=function(t,e){return xm&&e?"fetch":Tm?"moz-chunked-arraybuffer":Rm?"ms-stream":Am&&t?"arraybuffer":Im&&t?"text:vbarray":"text"}(e,n),r.on("finish",(function(){r._onFinish()}))}Pm.inherits(Gg,sg),Gg.prototype._read=function(){},Gg.prototype._onXHRProgress=function(){var t=this,e=t._xhr,r=null;switch(t._mode){case"text:vbarray":if(e.readyState!==Wg)break;try{r=new Ft.VBArray(e.responseBody).toArray()}catch(t){}if(null!==r){t.push(new Nf(r));break}case"text":try{r=e.responseText}catch(e){t._mode="text:vbarray";break}if(r.length>t._pos){var n=r.substr(t._pos);if("x-user-defined"===t._charset){for(var i=new Nf(n.length),o=0;o<n.length;o++)i[o]=255&n.charCodeAt(o);t.push(i)}else t.push(n,t._charset);t._pos=r.length}break;case"arraybuffer":if(e.readyState!==Wg||!e.response)break;r=e.response,t.push(new Nf(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=e.response,e.readyState!==Hg||!r)break;t.push(new Nf(new Uint8Array(r)));break;case"ms-stream":if(r=e.response,e.readyState!==Hg)break;var s=new Ft.MSStreamReader;s.onprogress=function(){s.result.byteLength>t._pos&&(t.push(new Nf(new Uint8Array(s.result.slice(t._pos)))),t._pos=s.result.byteLength)},s.onload=function(){t.push(null)},s.readAsArrayBuffer(r)}t._xhr.readyState===Wg&&"ms-stream"!==t._mode&&t.push(null)},Pm.inherits(Vg,xg);var Kg=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];Vg.prototype.setHeader=function(t,e){var r=t.toLowerCase();-1===Kg.indexOf(r)&&(this._headers[r]={name:t,value:e})},Vg.prototype.getHeader=function(t){return this._headers[t.toLowerCase()].value},Vg.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},Vg.prototype._onFinish=function(){var t=this;if(!t._destroyed){var e,r=t._opts,n=t._headers;if("POST"!==r.method&&"PUT"!==r.method&&"PATCH"!==r.method||(e=function(){if(void 0!==wm)return wm;try{new Ft.Blob([new ArrayBuffer(1)]),wm=!0}catch(t){wm=!1}return wm}()?new Ft.Blob(t._body.map((function(t){return function(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if("function"==typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(Dm.isBuffer(t)){for(var e=new Uint8Array(t.length),r=t.length,n=0;n<r;n++)e[n]=t[n];return e.buffer}throw new Error("Argument must be a Buffer")}(t)})),{type:(n["content-type"]||{}).value||""}):Nf.concat(t._body).toString()),"fetch"===t._mode){var i=Object.keys(n).map((function(t){return[n[t].name,n[t].value]}));Ft.fetch(t._opts.url,{method:t._opts.method,headers:i,body:e,mode:"cors",credentials:r.withCredentials?"include":"same-origin"}).then((function(e){t._fetchResponse=e,t._connect()}),(function(e){t.emit("error",e)}))}else{var o=t._xhr=new Ft.XMLHttpRequest;try{o.open(t._opts.method,t._opts.url,!0)}catch(e){return void le.nextTick((function(){t.emit("error",e)}))}"responseType"in o&&(o.responseType=t._mode.split(":")[0]),"withCredentials"in o&&(o.withCredentials=!!r.withCredentials),"text"===t._mode&&"overrideMimeType"in o&&o.overrideMimeType("text/plain; charset=x-user-defined"),Object.keys(n).forEach((function(t){o.setRequestHeader(n[t].name,n[t].value)})),t._response=null,o.onreadystatechange=function(){switch(o.readyState){case Hg:case Wg:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(o.onprogress=function(){t._onXHRProgress()}),o.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{o.send(e)}catch(e){return void le.nextTick((function(){t.emit("error",e)}))}}}},Vg.prototype._onXHRProgress=function(){var t=this;(function(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}})(t._xhr)&&!t._destroyed&&(t._response||t._connect(),t._response._onXHRProgress())},Vg.prototype._connect=function(){var t=this;t._destroyed||(t._response=new Gg(t._xhr,t._fetchResponse,t._mode),t.emit("response",t._response))},Vg.prototype._write=function(t,e,r){this._body.push(t),r()},Vg.prototype.abort=Vg.prototype.destroy=function(){var t=this;t._destroyed=!0,t._response&&(t._response._destroyed=!0),t._xhr&&t._xhr.abort()},Vg.prototype.end=function(t,e,r){"function"==typeof t&&(r=t,t=void 0),xg.prototype.end.call(this,t,e,r)},Vg.prototype.flushHeaders=function(){},Vg.prototype.setTimeout=function(){},Vg.prototype.setNoDelay=function(){},Vg.prototype.setSocketKeepAlive=function(){};var $g={},Zg={exports:{}};
/*! https://mths.be/punycode v1.3.2 by @mathias */
!function(t,e){!function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,o="object"==typeof ft&&ft;o.global!==o&&o.window!==o&&o.self!==o||(r=o);var s,a,u=2147483647,c=36,l=/^xn--/,h=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,m=String.fromCharCode;function g(t){throw RangeError(d[t])}function y(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function v(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+y((t=t.replace(f,".")).split("."),e).join(".")}function _(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function b(t){return y(t,(function(t){var e="";return t>65535&&(e+=m((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=m(t)})).join("")}function w(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function E(t,e,r){var n=0;for(t=r?p(t/700):t>>1,t+=p(t/e);t>455;n+=c)t=p(t/35);return p(n+36*t/(t+38))}function x(t){var e,r,n,i,o,s,a,l,h,f,d,m=[],y=t.length,v=0,_=128,w=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&g("not-basic"),m.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<y;){for(o=v,s=1,a=c;i>=y&&g("invalid-input"),((l=(d=t.charCodeAt(i++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:c)>=c||l>p((u-v)/s))&&g("overflow"),v+=l*s,!(l<(h=a<=w?1:a>=w+26?26:a-w));a+=c)s>p(u/(f=c-h))&&g("overflow"),s*=f;w=E(v-o,e=m.length+1,0==o),p(v/e)>u-_&&g("overflow"),_+=p(v/e),v%=e,m.splice(v++,0,_)}return b(m)}function S(t){var e,r,n,i,o,s,a,l,h,f,d,y,v,b,x,S=[];for(y=(t=_(t)).length,e=128,r=0,o=72,s=0;s<y;++s)(d=t[s])<128&&S.push(m(d));for(n=i=S.length,i&&S.push("-");n<y;){for(a=u,s=0;s<y;++s)(d=t[s])>=e&&d<a&&(a=d);for(a-e>p((u-r)/(v=n+1))&&g("overflow"),r+=(a-e)*v,e=a,s=0;s<y;++s)if((d=t[s])<e&&++r>u&&g("overflow"),d==e){for(l=r,h=c;!(l<(f=h<=o?1:h>=o+26?26:h-o));h+=c)x=l-f,b=c-f,S.push(m(w(f+x%b,0))),l=p(x/b);S.push(m(w(l,0))),o=E(r,v,n==i),r=0,++n}++r,++e}return S.join("")}if(s={version:"1.3.2",ucs2:{decode:_,encode:b},decode:x,encode:S,toASCII:function(t){return v(t,(function(t){return h.test(t)?"xn--"+S(t):t}))},toUnicode:function(t){return v(t,(function(t){return l.test(t)?x(t.slice(4).toLowerCase()):t}))}},n&&i)if(t.exports==n)i.exports=s;else for(a in s)s.hasOwnProperty(a)&&(n[a]=s[a]);else r.punycode=s}(ft)}(Zg,Zg.exports);var Jg={};function Yg(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Xg=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};Jg.decode=Jg.parse=function(t,e,r,n){e=e||"&",r=r||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;t=t.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var a=t.length;s>0&&a>s&&(a=s);for(var u=0;u<a;++u){var c,l,h,f,d=t[u].replace(o,"%20"),p=d.indexOf(r);p>=0?(c=d.substr(0,p),l=d.substr(p+1)):(c=d,l=""),h=decodeURIComponent(c),f=decodeURIComponent(l),Yg(i,h)?Array.isArray(i[h])?i[h].push(f):i[h]=[i[h],f]:i[h]=f}return i},Jg.encode=Jg.stringify=function(t,e,r,n){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(n){var i=encodeURIComponent(Xg(n))+r;return Array.isArray(t[n])?t[n].map((function(t){return i+encodeURIComponent(Xg(t))})).join(e):i+encodeURIComponent(Xg(t[n]))})).join(e):n?encodeURIComponent(Xg(n))+r+encodeURIComponent(Xg(t)):""};var Qg=Zg.exports,ty={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}},ey=$g.parse=gy;function ry(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}$g.resolve=function(t,e){return gy(t,!1,!0).resolve(e)},$g.resolveObject=function(t,e){return t?gy(t,!1,!0).resolveObject(e):e},$g.format=function(t){ty.isString(t)&&(t=gy(t));return t instanceof ry?t.format():ry.prototype.format.call(t)},$g.Url=ry;var ny=/^([a-z0-9.+-]+:)/i,iy=/:[0-9]*$/,oy=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,sy=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),ay=["'"].concat(sy),uy=["%","/","?",";","#"].concat(ay),cy=["/","?","#"],ly=/^[+a-z0-9A-Z_-]{0,63}$/,hy=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,fy={javascript:!0,"javascript:":!0},dy={javascript:!0,"javascript:":!0},py={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},my=Jg;function gy(t,e,r){if(t&&ty.isObject(t)&&t instanceof ry)return t;var n=new ry;return n.parse(t,e,r),n}function yy(t,e){"string"==typeof t&&(t=ey(t));var r=-1===Ft.location.protocol.search(/^https?:$/)?"http:":"",n=t.protocol||r,i=t.hostname||t.host,o=t.port,s=t.path||"/";i&&-1!==i.indexOf(":")&&(i="["+i+"]"),t.url=(i?n+"//"+i:"")+(o?":"+o:"")+s,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var a=new Vg(t);return e&&a.on("response",e),a}function vy(t,e){var r=yy(t,e);return r.end(),r}function _y(){}ry.prototype.parse=function(t,e,r){if(!ty.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=-1!==n&&n<t.indexOf("#")?"?":"#",o=t.split(i);o[0]=o[0].replace(/\\/g,"/");var s=t=o.join(i);if(s=s.trim(),!r&&1===t.split("#").length){var a=oy.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?my.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=ny.exec(s);if(u){var c=(u=u[0]).toLowerCase();this.protocol=c,s=s.substr(u.length)}if(r||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===s.substr(0,2);!l||u&&dy[u]||(s=s.substr(2),this.slashes=!0)}if(!dy[u]&&(l||u&&!py[u])){for(var h,f,d=-1,p=0;p<cy.length;p++){-1!==(m=s.indexOf(cy[p]))&&(-1===d||m<d)&&(d=m)}-1!==(f=-1===d?s.lastIndexOf("@"):s.lastIndexOf("@",d))&&(h=s.slice(0,f),s=s.slice(f+1),this.auth=decodeURIComponent(h)),d=-1;for(p=0;p<uy.length;p++){var m;-1!==(m=s.indexOf(uy[p]))&&(-1===d||m<d)&&(d=m)}-1===d&&(d=s.length),this.host=s.slice(0,d),s=s.slice(d),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var y=this.hostname.split(/\./),v=(p=0,y.length);p<v;p++){var _=y[p];if(_&&!_.match(ly)){for(var b="",w=0,E=_.length;w<E;w++)_.charCodeAt(w)>127?b+="x":b+=_[w];if(!b.match(ly)){var x=y.slice(0,p),S=y.slice(p+1),M=_.match(hy);M&&(x.push(M[1]),S.unshift(M[2])),S.length&&(s="/"+S.join(".")+s),this.hostname=x.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=Qg.toASCII(this.hostname));var k=this.port?":"+this.port:"",A=this.hostname||"";this.host=A+k,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!fy[c])for(p=0,v=ay.length;p<v;p++){var R=ay[p];if(-1!==s.indexOf(R)){var T=encodeURIComponent(R);T===R&&(T=escape(R)),s=s.split(R).join(T)}}var O=s.indexOf("#");-1!==O&&(this.hash=s.substr(O),s=s.slice(0,O));var I=s.indexOf("?");if(-1!==I?(this.search=s.substr(I),this.query=s.substr(I+1),e&&(this.query=my.parse(this.query)),s=s.slice(0,I)):e&&(this.search="",this.query={}),s&&(this.pathname=s),py[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var C=this.search||"";this.path=k+C}return this.href=this.format(),this},ry.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&ty.isObject(this.query)&&Object.keys(this.query).length&&(o=my.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||py[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),e+i+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+n},ry.prototype.resolve=function(t){return this.resolveObject(gy(t,!1,!0)).format()},ry.prototype.resolveObject=function(t){if(ty.isString(t)){var e=new ry;e.parse(t,!1,!0),t=e}for(var r=new ry,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var u=s[a];"protocol"!==u&&(r[u]=t[u])}return py[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!py[t.protocol]){for(var c=Object.keys(t),l=0;l<c.length;l++){var h=c[l];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||dy[t.protocol])r.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",p=r.search||"";r.path=d+p}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),y=g||m||r.host&&t.pathname,v=y,_=r.pathname&&r.pathname.split("/")||[],b=(f=t.pathname&&t.pathname.split("/")||[],r.protocol&&!py[r.protocol]);if(b&&(r.hostname="",r.port=null,r.host&&(""===_[0]?_[0]=r.host:_.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),y=y&&(""===f[0]||""===_[0])),g)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,_=f;else if(f.length)_||(_=[]),_.pop(),_=_.concat(f),r.search=t.search,r.query=t.query;else if(!ty.isNullOrUndefined(t.search)){if(b)r.hostname=r.host=_.shift(),(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.host=r.hostname=M.shift());return r.search=t.search,r.query=t.query,ty.isNull(r.pathname)&&ty.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var w=_.slice(-1)[0],E=(r.host||t.host||_.length>1)&&("."===w||".."===w)||""===w,x=0,S=_.length;S>=0;S--)"."===(w=_[S])?_.splice(S,1):".."===w?(_.splice(S,1),x++):x&&(_.splice(S,1),x--);if(!y&&!v)for(;x--;x)_.unshift("..");!y||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),E&&"/"!==_.join("/").substr(-1)&&_.push("");var M,k=""===_[0]||_[0]&&"/"===_[0].charAt(0);b&&(r.hostname=r.host=k?"":_.length?_.shift():"",(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.host=r.hostname=M.shift()));return(y=y||r.host&&_.length)&&!k&&_.unshift(""),_.length?r.pathname=_.join("/"):(r.pathname=null,r.path=null),ty.isNull(r.pathname)&&ty.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},ry.prototype.parseHost=function(){var t=this.host,e=iy.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},_y.defaultMaxSockets=4;var by=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],wy={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},Ey={request:yy,get:vy,Agent:_y,METHODS:by,STATUS_CODES:wy},xy=dt(Object.freeze({__proto__:null,request:yy,get:vy,Agent:_y,METHODS:by,STATUS_CODES:wy,default:Ey}));function Sy(t,e){"string"==typeof t&&(t=ey(t));var r=-1===Ft.location.protocol.search(/^https?:$/)?"http:":"",n=t.protocol||r,i=t.hostname||t.host,o=t.port,s=t.path||"/";i&&-1!==i.indexOf(":")&&(i="["+i+"]"),t.url=(i?n+"//"+i:"")+(o?":"+o:"")+s,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var a=new Vg(t);return e&&a.on("response",e),a}function My(t,e){var r=Sy(t,e);return r.end(),r}function ky(){}ky.defaultMaxSockets=4;var Ay=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],Ry={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},Ty={request:Sy,get:My,Agent:ky,METHODS:Ay,STATUS_CODES:Ry},Oy=dt(Object.freeze({__proto__:null,request:Sy,get:My,Agent:ky,METHODS:Ay,STATUS_CODES:Ry,default:Ty})),Iy=dt(Object.freeze({__proto__:null,default:{}})),Cy=dt(Object.freeze({__proto__:null,default:{}})),Py=dt(Object.freeze({__proto__:null,default:{}})),Ny={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function Ly(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function By(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(var o=0;o<n;o++)t[i+o]=e[r+o]}var Uy=Uint8Array,jy=Uint16Array,Dy=Int32Array;function Fy(t){for(var e=t.length;--e>=0;)t[e]=0}var zy=256,qy=286,Hy=30,Wy=15,Gy=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Vy=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ky=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Zy=new Array(576);Fy(Zy);var Jy=new Array(60);Fy(Jy);var Yy=new Array(512);Fy(Yy);var Xy=new Array(256);Fy(Xy);var Qy=new Array(29);Fy(Qy);var tv,ev,rv,nv=new Array(Hy);function iv(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function ov(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function sv(t){return t<256?Yy[t]:Yy[256+(t>>>7)]}function av(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function uv(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,av(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function cv(t,e,r){uv(t,r[2*e],r[2*e+1])}function lv(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function hv(t,e,r){var n,i,o=new Array(16),s=0;for(n=1;n<=Wy;n++)o[n]=s=s+r[n-1]<<1;for(i=0;i<=e;i++){var a=t[2*i+1];0!==a&&(t[2*i]=lv(o[a]++,a))}}function fv(t){var e;for(e=0;e<qy;e++)t.dyn_ltree[2*e]=0;for(e=0;e<Hy;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function dv(t){t.bi_valid>8?av(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function pv(t,e,r,n){var i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]}function mv(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&pv(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!pv(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function gv(t,e,r){var n,i,o,s,a=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],i=t.pending_buf[t.l_buf+a],a++,0===n?cv(t,i,e):(cv(t,(o=Xy[i])+zy+1,e),0!==(s=Gy[o])&&uv(t,i-=Qy[o],s),cv(t,o=sv(--n),r),0!==(s=Vy[o])&&uv(t,n-=nv[o],s))}while(a<t.last_lit);cv(t,256,e)}function yv(t,e){var r,n,i,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<u;r++)0!==o[2*r]?(t.heap[++t.heap_len]=c=r,t.depth[r]=0):o[2*r+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[i]=0,t.opt_len--,a&&(t.static_len-=s[2*i+1]);for(e.max_code=c,r=t.heap_len>>1;r>=1;r--)mv(t,o,r);i=u;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],mv(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,o[2*i]=o[2*r]+o[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,o[2*r+1]=o[2*n+1]=i,t.heap[1]=i++,mv(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,i,o,s,a,u=e.dyn_tree,c=e.max_code,l=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(o=0;o<=Wy;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<573;r++)(o=u[2*u[2*(n=t.heap[r])+1]+1]+1)>p&&(o=p,m++),u[2*n+1]=o,n>c||(t.bl_count[o]++,s=0,n>=d&&(s=f[n-d]),a=u[2*n],t.opt_len+=a*(o+s),h&&(t.static_len+=a*(l[2*n+1]+s)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(n=t.bl_count[o];0!==n;)(i=t.heap[--r])>c||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),n--)}}(t,e),hv(o,c,t.bl_count)}function vv(t,e,r){var n,i,o=-1,s=e[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=e[2*(n+1)+1],++a<u&&i===s||(a<c?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4))}function _v(t,e,r){var n,i,o=-1,s=e[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),n=0;n<=r;n++)if(i=s,s=e[2*(n+1)+1],!(++a<u&&i===s)){if(a<c)do{cv(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(cv(t,i,t.bl_tree),a--),cv(t,16,t.bl_tree),uv(t,a-3,2)):a<=10?(cv(t,17,t.bl_tree),uv(t,a-3,3)):(cv(t,18,t.bl_tree),uv(t,a-11,7));a=0,o=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4)}}Fy(nv);var bv=!1;function wv(t){bv||(!function(){var t,e,r,n,i,o=new Array(16);for(r=0,n=0;n<28;n++)for(Qy[n]=r,t=0;t<1<<Gy[n];t++)Xy[r++]=n;for(Xy[r-1]=n,i=0,n=0;n<16;n++)for(nv[n]=i,t=0;t<1<<Vy[n];t++)Yy[i++]=n;for(i>>=7;n<Hy;n++)for(nv[n]=i<<7,t=0;t<1<<Vy[n]-7;t++)Yy[256+i++]=n;for(e=0;e<=Wy;e++)o[e]=0;for(t=0;t<=143;)Zy[2*t+1]=8,t++,o[8]++;for(;t<=255;)Zy[2*t+1]=9,t++,o[9]++;for(;t<=279;)Zy[2*t+1]=7,t++,o[7]++;for(;t<=287;)Zy[2*t+1]=8,t++,o[8]++;for(hv(Zy,287,o),t=0;t<Hy;t++)Jy[2*t+1]=5,Jy[2*t]=lv(t,5);tv=new iv(Zy,Gy,257,qy,Wy),ev=new iv(Jy,Vy,0,Hy,Wy),rv=new iv(new Array(0),Ky,0,19,7)}(),bv=!0),t.l_desc=new ov(t.dyn_ltree,tv),t.d_desc=new ov(t.dyn_dtree,ev),t.bl_desc=new ov(t.bl_tree,rv),t.bi_buf=0,t.bi_valid=0,fv(t)}function Ev(t,e,r,n){uv(t,0+(n?1:0),3),function(t,e,r,n){dv(t),n&&(av(t,r),av(t,~r)),By(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r,!0)}function xv(t){uv(t,2,3),cv(t,256,Zy),function(t){16===t.bi_valid?(av(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}function Sv(t,e,r,n){var i,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<zy;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),yv(t,t.l_desc),yv(t,t.d_desc),s=function(t){var e;for(vv(t,t.dyn_ltree,t.l_desc.max_code),vv(t,t.dyn_dtree,t.d_desc.max_code),yv(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*$y[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==e?Ev(t,e,r,n):4===t.strategy||o===i?(uv(t,2+(n?1:0),3),gv(t,Zy,Jy)):(uv(t,4+(n?1:0),3),function(t,e,r,n){var i;for(uv(t,e-257,5),uv(t,r-1,5),uv(t,n-4,4),i=0;i<n;i++)uv(t,t.bl_tree[2*$y[i]+1],3);_v(t,t.dyn_ltree,e-1),_v(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),gv(t,t.dyn_ltree,t.dyn_dtree)),fv(t),n&&dv(t)}function Mv(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(Xy[r]+zy+1)]++,t.dyn_dtree[2*sv(e)]++),t.last_lit===t.lit_bufsize-1}function kv(t,e,r,n){for(var i=65535&t|0,o=t>>>16&65535|0,s=0;0!==r;){r-=s=r>2e3?2e3:r;do{o=o+(i=i+e[n++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16|0}var Av=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();function Rv(t,e,r,n){var i=Av,o=n+r;t^=-1;for(var s=n;s<o;s++)t=t>>>8^i[255&(t^e[s])];return-1^t}var Tv,Ov=-2,Iv=258,Cv=262,Pv=103,Nv=113,Lv=666;function Bv(t,e){return t.msg=Ny[e],e}function Uv(t){return(t<<1)-(t>4?9:0)}function jv(t){for(var e=t.length;--e>=0;)t[e]=0}function Dv(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(By(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function Fv(t,e){Sv(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Dv(t.strm)}function zv(t,e){t.pending_buf[t.pending++]=e}function qv(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function Hv(t,e,r,n){var i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,By(e,t.input,t.next_in,i,r),1===t.state.wrap?t.adler=kv(t.adler,e,i,r):2===t.state.wrap&&(t.adler=Rv(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)}function Wv(t,e){var r,n,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,u=t.strstart>t.w_size-Cv?t.strstart-(t.w_size-Cv):0,c=t.window,l=t.w_mask,h=t.prev,f=t.strstart+Iv,d=c[o+s-1],p=c[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(c[(r=e)+s]===p&&c[r+s-1]===d&&c[r]===c[o]&&c[++r]===c[o+1]){o+=2,r++;do{}while(c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&o<f);if(n=Iv-(f-o),o=f-Iv,n>s){if(t.match_start=e,s=n,n>=a)break;d=c[o+s-1],p=c[o+s]}}}while((e=h[e&l])>u&&0!=--i);return s<=t.lookahead?s:t.lookahead}function Gv(t){var e,r,n,i,o,s=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-Cv)){By(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,e=r=t.hash_size;do{n=t.head[--e],t.head[e]=n>=s?n-s:0}while(--r);e=r=s;do{n=t.prev[--e],t.prev[e]=n>=s?n-s:0}while(--r);i+=s}if(0===t.strm.avail_in)break;if(r=Hv(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=r,t.lookahead+t.insert>=3)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+3-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Cv&&0!==t.strm.avail_in)}function Vv(t,e){for(var r,n;;){if(t.lookahead<Cv){if(Gv(t),t.lookahead<Cv&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-Cv&&(t.match_length=Wv(t,r)),t.match_length>=3)if(n=Mv(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=Mv(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Fv(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(Fv(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Fv(t,!1),0===t.strm.avail_out)?1:2}function Kv(t,e){for(var r,n,i;;){if(t.lookahead<Cv){if(Gv(t),t.lookahead<Cv&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Cv&&(t.match_length=Wv(t,r),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=Mv(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Fv(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=Mv(t,0,t.window[t.strstart-1]))&&Fv(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Mv(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(Fv(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Fv(t,!1),0===t.strm.avail_out)?1:2}function $v(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function Zv(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new jy(1146),this.dyn_dtree=new jy(122),this.bl_tree=new jy(78),jv(this.dyn_ltree),jv(this.dyn_dtree),jv(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new jy(16),this.heap=new jy(573),jv(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new jy(573),jv(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Jv(t){var e=function(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:Nv,t.adler=2===e.wrap?0:1,e.last_flush=0,wv(e),0):Bv(t,Ov)}(t);return 0===e&&function(t){t.window_size=2*t.w_size,jv(t.head),t.max_lazy_match=Tv[t.level].max_lazy,t.good_match=Tv[t.level].good_length,t.nice_match=Tv[t.level].nice_length,t.max_chain_length=Tv[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),e}function Yv(t,e){var r,n,i,o;if(!t||!t.state||e>5||e<0)return t?Bv(t,Ov):Ov;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||n.status===Lv&&4!==e)return Bv(t,0===t.avail_out?-5:Ov);if(n.strm=t,r=n.last_flush,n.last_flush=e,42===n.status)if(2===n.wrap)t.adler=0,zv(n,31),zv(n,139),zv(n,8),n.gzhead?(zv(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),zv(n,255&n.gzhead.time),zv(n,n.gzhead.time>>8&255),zv(n,n.gzhead.time>>16&255),zv(n,n.gzhead.time>>24&255),zv(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),zv(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(zv(n,255&n.gzhead.extra.length),zv(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Rv(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(zv(n,0),zv(n,0),zv(n,0),zv(n,0),zv(n,0),zv(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),zv(n,3),n.status=Nv);else{var s=8+(n.w_bits-8<<4)<<8;s|=(n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(s|=32),s+=31-s%31,n.status=Nv,qv(n,s),0!==n.strstart&&(qv(n,t.adler>>>16),qv(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(t.adler=Rv(t.adler,n.pending_buf,n.pending-i,i)),Dv(t),i=n.pending,n.pending!==n.pending_buf_size));)zv(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(t.adler=Rv(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Rv(t.adler,n.pending_buf,n.pending-i,i)),Dv(t),i=n.pending,n.pending===n.pending_buf_size)){o=1;break}o=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,zv(n,o)}while(0!==o);n.gzhead.hcrc&&n.pending>i&&(t.adler=Rv(t.adler,n.pending_buf,n.pending-i,i)),0===o&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Rv(t.adler,n.pending_buf,n.pending-i,i)),Dv(t),i=n.pending,n.pending===n.pending_buf_size)){o=1;break}o=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,zv(n,o)}while(0!==o);n.gzhead.hcrc&&n.pending>i&&(t.adler=Rv(t.adler,n.pending_buf,n.pending-i,i)),0===o&&(n.status=Pv)}else n.status=Pv;if(n.status===Pv&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&Dv(t),n.pending+2<=n.pending_buf_size&&(zv(n,255&t.adler),zv(n,t.adler>>8&255),t.adler=0,n.status=Nv)):n.status=Nv),0!==n.pending){if(Dv(t),0===t.avail_out)return n.last_flush=-1,0}else if(0===t.avail_in&&Uv(e)<=Uv(r)&&4!==e)return Bv(t,-5);if(n.status===Lv&&0!==t.avail_in)return Bv(t,-5);if(0!==t.avail_in||0!==n.lookahead||0!==e&&n.status!==Lv){var a=2===n.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(Gv(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,r=Mv(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Fv(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Fv(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Fv(t,!1),0===t.strm.avail_out)?1:2}(n,e):3===n.strategy?function(t,e){for(var r,n,i,o,s=t.window;;){if(t.lookahead<=Iv){if(Gv(t),t.lookahead<=Iv&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[i=t.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){o=t.strstart+Iv;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);t.match_length=Iv-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=Mv(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Mv(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Fv(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Fv(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Fv(t,!1),0===t.strm.avail_out)?1:2}(n,e):Tv[n.level].func(n,e);if(3!==a&&4!==a||(n.status=Lv),1===a||3===a)return 0===t.avail_out&&(n.last_flush=-1),0;if(2===a&&(1===e?xv(n):5!==e&&(Ev(n,0,0,!1),3===e&&(jv(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Dv(t),0===t.avail_out))return n.last_flush=-1,0}return 4!==e?0:n.wrap<=0?1:(2===n.wrap?(zv(n,255&t.adler),zv(n,t.adler>>8&255),zv(n,t.adler>>16&255),zv(n,t.adler>>24&255),zv(n,255&t.total_in),zv(n,t.total_in>>8&255),zv(n,t.total_in>>16&255),zv(n,t.total_in>>24&255)):(qv(n,t.adler>>>16),qv(n,65535&t.adler)),Dv(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?0:1)}Tv=[new $v(0,0,0,0,(function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Gv(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Fv(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-Cv&&(Fv(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Fv(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Fv(t,!1),t.strm.avail_out),1)})),new $v(4,4,8,4,Vv),new $v(4,5,16,8,Vv),new $v(4,6,32,32,Vv),new $v(4,4,16,16,Kv),new $v(8,16,32,32,Kv),new $v(8,16,128,128,Kv),new $v(8,32,128,256,Kv),new $v(32,128,258,1024,Kv),new $v(32,258,258,4096,Kv)];function Xv(t,e){var r,n,i,o,s,a,u,c,l,h,f,d,p,m,g,y,v,_,b,w,E,x,S,M,k;r=t.state,n=t.next_in,M=t.input,i=n+(t.avail_in-5),o=t.next_out,k=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),u=r.dmax,c=r.wsize,l=r.whave,h=r.wnext,f=r.window,d=r.hold,p=r.bits,m=r.lencode,g=r.distcode,y=(1<<r.lenbits)-1,v=(1<<r.distbits)-1;t:do{p<15&&(d+=M[n++]<<p,p+=8,d+=M[n++]<<p,p+=8),_=m[d&y];e:for(;;){if(d>>>=b=_>>>24,p-=b,0===(b=_>>>16&255))k[o++]=65535&_;else{if(!(16&b)){if(0==(64&b)){_=m[(65535&_)+(d&(1<<b)-1)];continue e}if(32&b){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}w=65535&_,(b&=15)&&(p<b&&(d+=M[n++]<<p,p+=8),w+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=M[n++]<<p,p+=8,d+=M[n++]<<p,p+=8),_=g[d&v];r:for(;;){if(d>>>=b=_>>>24,p-=b,!(16&(b=_>>>16&255))){if(0==(64&b)){_=g[(65535&_)+(d&(1<<b)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(E=65535&_,p<(b&=15)&&(d+=M[n++]<<p,(p+=8)<b&&(d+=M[n++]<<p,p+=8)),(E+=d&(1<<b)-1)>u){t.msg="invalid distance too far back",r.mode=30;break t}if(d>>>=b,p-=b,E>(b=o-s)){if((b=E-b)>l&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(x=0,S=f,0===h){if(x+=c-b,b<w){w-=b;do{k[o++]=f[x++]}while(--b);x=o-E,S=k}}else if(h<b){if(x+=c+h-b,(b-=h)<w){w-=b;do{k[o++]=f[x++]}while(--b);if(x=0,h<w){w-=b=h;do{k[o++]=f[x++]}while(--b);x=o-E,S=k}}}else if(x+=h-b,b<w){w-=b;do{k[o++]=f[x++]}while(--b);x=o-E,S=k}for(;w>2;)k[o++]=S[x++],k[o++]=S[x++],k[o++]=S[x++],w-=3;w&&(k[o++]=S[x++],w>1&&(k[o++]=S[x++]))}else{x=o-E;do{k[o++]=k[x++],k[o++]=k[x++],k[o++]=k[x++],w-=3}while(w>2);w&&(k[o++]=k[x++],w>1&&(k[o++]=k[x++]))}break}}break}}while(n<i&&o<a);n-=w=p>>3,d&=(1<<(p-=w<<3))-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=o<a?a-o+257:257-(o-a),r.hold=d,r.bits=p}var Qv=15,t_=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],e_=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],r_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],n_=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function i_(t,e,r,n,i,o,s,a){var u,c,l,h,f,d,p,m,g,y=a.bits,v=0,_=0,b=0,w=0,E=0,x=0,S=0,M=0,k=0,A=0,R=null,T=0,O=new jy(16),I=new jy(16),C=null,P=0;for(v=0;v<=Qv;v++)O[v]=0;for(_=0;_<n;_++)O[e[r+_]]++;for(E=y,w=Qv;w>=1&&0===O[w];w--);if(E>w&&(E=w),0===w)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(b=1;b<w&&0===O[b];b++);for(E<b&&(E=b),M=1,v=1;v<=Qv;v++)if(M<<=1,(M-=O[v])<0)return-1;if(M>0&&(0===t||1!==w))return-1;for(I[1]=0,v=1;v<Qv;v++)I[v+1]=I[v]+O[v];for(_=0;_<n;_++)0!==e[r+_]&&(s[I[e[r+_]]++]=_);if(0===t?(R=C=s,d=19):1===t?(R=t_,T-=257,C=e_,P-=257,d=256):(R=r_,C=n_,d=-1),A=0,_=0,v=b,f=o,x=E,S=0,l=-1,h=(k=1<<E)-1,1===t&&k>852||2===t&&k>592)return 1;for(;;){p=v-S,s[_]<d?(m=0,g=s[_]):s[_]>d?(m=C[P+s[_]],g=R[T+s[_]]):(m=96,g=0),u=1<<v-S,b=c=1<<x;do{i[f+(A>>S)+(c-=u)]=p<<24|m<<16|g|0}while(0!==c);for(u=1<<v-1;A&u;)u>>=1;if(0!==u?(A&=u-1,A+=u):A=0,_++,0==--O[v]){if(v===w)break;v=e[r+s[_]]}if(v>E&&(A&h)!==l){for(0===S&&(S=E),f+=b,M=1<<(x=v-S);x+S<w&&!((M-=O[x+S])<=0);)x++,M<<=1;if(k+=1<<x,1===t&&k>852||2===t&&k>592)return 1;i[l=A&h]=E<<24|x<<16|f-o|0}}return 0!==A&&(i[f+A]=v-S<<24|64<<16|0),a.bits=E,0}var o_=-2,s_=12,a_=30;function u_(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function c_(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new jy(320),this.work=new jy(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function l_(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,function(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Dy(852),e.distcode=e.distdyn=new Dy(592),e.sane=1,e.back=-1,0):o_}(t)):o_}function h_(t,e){var r,n;return t?(n=new c_,t.state=n,n.window=null,r=function(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?o_:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,l_(t))):o_}(t,e),0!==r&&(t.state=null),r):o_}var f_,d_,p_=!0;function m_(t){if(p_){var e;for(f_=new Dy(512),d_=new Dy(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(i_(1,t.lens,0,288,f_,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;i_(2,t.lens,0,32,d_,0,t.work,{bits:5}),p_=!1}t.lencode=f_,t.lenbits=9,t.distcode=d_,t.distbits=5}function g_(t,e){var r,n,i,o,s,a,u,c,l,h,f,d,p,m,g,y,v,_,b,w,E,x,S,M,k=0,A=new Uy(4),R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return o_;(r=t.state).mode===s_&&(r.mode=13),s=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,c=r.hold,l=r.bits,h=a,f=u,x=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(2&r.wrap&&35615===c){r.check=0,A[0]=255&c,A[1]=c>>>8&255,r.check=Rv(r.check,A,2,0),c=0,l=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=a_;break}if(8!=(15&c)){t.msg="unknown compression method",r.mode=a_;break}if(l-=4,E=8+(15&(c>>>=4)),0===r.wbits)r.wbits=E;else if(E>r.wbits){t.msg="invalid window size",r.mode=a_;break}r.dmax=1<<E,t.adler=r.check=1,r.mode=512&c?10:s_,c=0,l=0;break;case 2:for(;l<16;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(r.flags=c,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=a_;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=a_;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&(A[0]=255&c,A[1]=c>>>8&255,r.check=Rv(r.check,A,2,0)),c=0,l=0,r.mode=3;case 3:for(;l<32;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}r.head&&(r.head.time=c),512&r.flags&&(A[0]=255&c,A[1]=c>>>8&255,A[2]=c>>>16&255,A[3]=c>>>24&255,r.check=Rv(r.check,A,4,0)),c=0,l=0,r.mode=4;case 4:for(;l<16;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&(A[0]=255&c,A[1]=c>>>8&255,r.check=Rv(r.check,A,2,0)),c=0,l=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&(A[0]=255&c,A[1]=c>>>8&255,r.check=Rv(r.check,A,2,0)),c=0,l=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((d=r.length)>a&&(d=a),d&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),By(r.head.extra,n,o,d,E)),512&r.flags&&(r.check=Rv(r.check,n,d,o)),a-=d,o+=d,r.length-=d),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===a)break t;d=0;do{E=n[o+d++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E))}while(E&&d<a);if(512&r.flags&&(r.check=Rv(r.check,n,d,o)),a-=d,o+=d,E)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===a)break t;d=0;do{E=n[o+d++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E))}while(E&&d<a);if(512&r.flags&&(r.check=Rv(r.check,n,d,o)),a-=d,o+=d,E)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(c!==(65535&r.check)){t.msg="header crc mismatch",r.mode=a_;break}c=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=s_;break;case 10:for(;l<32;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}t.adler=r.check=u_(c),c=0,l=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,r.hold=c,r.bits=l,2;t.adler=r.check=1,r.mode=s_;case s_:if(5===e||6===e)break t;case 13:if(r.last){c>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}switch(r.last=1&c,l-=1,3&(c>>>=1)){case 0:r.mode=14;break;case 1:if(m_(r),r.mode=20,6===e){c>>>=2,l-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=a_}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=a_;break}if(r.length=65535&c,c=0,l=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(d=r.length){if(d>a&&(d=a),d>u&&(d=u),0===d)break t;By(i,n,o,d,s),a-=d,o+=d,u-=d,s+=d,r.length-=d;break}r.mode=s_;break;case 17:for(;l<14;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(r.nlen=257+(31&c),c>>>=5,l-=5,r.ndist=1+(31&c),c>>>=5,l-=5,r.ncode=4+(15&c),c>>>=4,l-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=a_;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}r.lens[R[r.have++]]=7&c,c>>>=3,l-=3}for(;r.have<19;)r.lens[R[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},x=i_(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,x){t.msg="invalid code lengths set",r.mode=a_;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;y=(k=r.lencode[c&(1<<r.lenbits)-1])>>>16&255,v=65535&k,!((g=k>>>24)<=l);){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(v<16)c>>>=g,l-=g,r.lens[r.have++]=v;else{if(16===v){for(M=g+2;l<M;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(c>>>=g,l-=g,0===r.have){t.msg="invalid bit length repeat",r.mode=a_;break}E=r.lens[r.have-1],d=3+(3&c),c>>>=2,l-=2}else if(17===v){for(M=g+3;l<M;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}l-=g,E=0,d=3+(7&(c>>>=g)),c>>>=3,l-=3}else{for(M=g+7;l<M;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}l-=g,E=0,d=11+(127&(c>>>=g)),c>>>=7,l-=7}if(r.have+d>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=a_;break}for(;d--;)r.lens[r.have++]=E}}if(r.mode===a_)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=a_;break}if(r.lenbits=9,S={bits:r.lenbits},x=i_(1,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,x){t.msg="invalid literal/lengths set",r.mode=a_;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},x=i_(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,x){t.msg="invalid distances set",r.mode=a_;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(a>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,r.hold=c,r.bits=l,Xv(t,f),s=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,c=r.hold,l=r.bits,r.mode===s_&&(r.back=-1);break}for(r.back=0;y=(k=r.lencode[c&(1<<r.lenbits)-1])>>>16&255,v=65535&k,!((g=k>>>24)<=l);){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(y&&0==(240&y)){for(_=g,b=y,w=v;y=(k=r.lencode[w+((c&(1<<_+b)-1)>>_)])>>>16&255,v=65535&k,!(_+(g=k>>>24)<=l);){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}c>>>=_,l-=_,r.back+=_}if(c>>>=g,l-=g,r.back+=g,r.length=v,0===y){r.mode=26;break}if(32&y){r.back=-1,r.mode=s_;break}if(64&y){t.msg="invalid literal/length code",r.mode=a_;break}r.extra=15&y,r.mode=22;case 22:if(r.extra){for(M=r.extra;l<M;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;y=(k=r.distcode[c&(1<<r.distbits)-1])>>>16&255,v=65535&k,!((g=k>>>24)<=l);){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(0==(240&y)){for(_=g,b=y,w=v;y=(k=r.distcode[w+((c&(1<<_+b)-1)>>_)])>>>16&255,v=65535&k,!(_+(g=k>>>24)<=l);){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}c>>>=_,l-=_,r.back+=_}if(c>>>=g,l-=g,r.back+=g,64&y){t.msg="invalid distance code",r.mode=a_;break}r.offset=v,r.extra=15&y,r.mode=24;case 24:if(r.extra){for(M=r.extra;l<M;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=a_;break}r.mode=25;case 25:if(0===u)break t;if(d=f-u,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=a_;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),m=r.window}else m=i,p=s-r.offset,d=r.length;d>u&&(d=u),u-=d,r.length-=d;do{i[s++]=m[p++]}while(--d);0===r.length&&(r.mode=21);break;case 26:if(0===u)break t;i[s++]=r.length,u--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===a)break t;a--,c|=n[o++]<<l,l+=8}if(f-=u,t.total_out+=f,r.total+=f,f&&(t.adler=r.check=r.flags?Rv(r.check,i,f,s-f):kv(r.check,i,f,s-f)),f=u,(r.flags?c:u_(c))!==r.check){t.msg="incorrect data check",r.mode=a_;break}c=0,l=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(c!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=a_;break}c=0,l=0}r.mode=29;case 29:x=1;break t;case a_:x=-3;break t;case 31:return-4;default:return o_}return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,r.hold=c,r.bits=l,(r.wsize||f!==t.avail_out&&r.mode<a_&&(r.mode<27||4!==e))&&function(t,e,r,n){var i,o=t.state;null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uy(o.wsize)),n>=o.wsize?(By(o.window,e,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>n&&(i=n),By(o.window,e,r-n,i,o.wnext),(n-=i)?(By(o.window,e,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i)))}(t,t.output,t.next_out,f-t.avail_out),h-=t.avail_in,f-=t.avail_out,t.total_in+=h,t.total_out+=f,r.total+=f,r.wrap&&f&&(t.adler=r.check=r.flags?Rv(r.check,i,f,t.next_out-f):kv(r.check,i,f,t.next_out-f)),t.data_type=r.bits+(r.last?64:0)+(r.mode===s_?128:0)+(20===r.mode||15===r.mode?256:0),(0===h&&0===f||4===e)&&0===x&&(x=-5),x}var y_;function v_(t){if(t<1||t>7)throw new TypeError("Bad argument");this.mode=t,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function __(t,e){for(var r=0;r<t.length;r++)this[e+r]=t[r]}v_.prototype.init=function(t,e,r,n,i){var o;switch(this.windowBits=t,this.level=e,this.memLevel=r,this.strategy=n,3!==this.mode&&4!==this.mode||(this.windowBits+=16),7===this.mode&&(this.windowBits+=32),5!==this.mode&&6!==this.mode||(this.windowBits=-this.windowBits),this.strm=new Ly,this.mode){case 1:case 3:case 5:o=function(t,e,r,n,i,o){if(!t)return Ov;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||8!==r||n<8||n>15||e<0||e>9||o<0||o>4)return Bv(t,Ov);8===n&&(n=9);var a=new Zv;return t.state=a,a.strm=t,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uy(2*a.w_size),a.head=new jy(a.hash_size),a.prev=new jy(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uy(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=o,a.method=r,Jv(t)}(this.strm,this.level,8,this.windowBits,this.memLevel,this.strategy);break;case 2:case 4:case 6:case 7:o=h_(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}0===o?(this.write_in_progress=!1,this.init_done=!0):this._error(o)},v_.prototype.params=function(){throw new Error("deflateParams Not supported")},v_.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(0===this.mode)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},v_.prototype.write=function(t,e,r,n,i,o,s){this._writeCheck(),this.write_in_progress=!0;var a=this;return le.nextTick((function(){a.write_in_progress=!1;var u=a._write(t,e,r,n,i,o,s);a.callback(u[0],u[1]),a.pending_close&&a.close()})),this},v_.prototype.writeSync=function(t,e,r,n,i,o,s){return this._writeCheck(),this._write(t,e,r,n,i,o,s)},v_.prototype._write=function(t,e,r,n,i,o,s){if(this.write_in_progress=!0,0!==t&&1!==t&&2!==t&&3!==t&&4!==t&&5!==t)throw new Error("Invalid flush value");null==e&&(e=new Nf(0),n=0,r=0),i._set?i.set=i._set:i.set=__;var a,u=this.strm;switch(u.avail_in=n,u.input=e,u.next_in=r,u.avail_out=s,u.output=i,u.next_out=o,this.mode){case 1:case 3:case 5:a=Yv(u,t);break;case 7:case 2:case 4:case 6:a=g_(u,t);break;default:throw new Error("Unknown mode "+this.mode)}return 1!==a&&0!==a&&this._error(a),this.write_in_progress=!1,[u.avail_in,u.avail_out]},v_.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,1===this.mode||3===this.mode||5===this.mode?function(t){var e;t&&t.state&&(42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&e!==Pv&&e!==Nv&&e!==Lv?Bv(t,Ov):(t.state=null,e===Nv&&Bv(t,-3)))}(this.strm):function(t){if(!t||!t.state)return o_;var e=t.state;e.window&&(e.window=null),t.state=null}(this.strm),this.mode=0)},v_.prototype.reset=function(){switch(this.mode){case 1:case 5:y_=Jv(this.strm);break;case 2:case 6:y_=l_(this.strm)}0!==y_&&this._error(y_)},v_.prototype._error=function(t){this.onerror(Ny[t]+": "+this.strm.msg,t),this.write_in_progress=!1,this.pending_close&&this.close()};var b_=Object.freeze({__proto__:null,NONE:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8,Zlib:v_});var w_={};Object.keys(b_).forEach((function(t){w_[t]=b_[t]})),w_.Z_MIN_WINDOWBITS=8,w_.Z_MAX_WINDOWBITS=15,w_.Z_DEFAULT_WINDOWBITS=15,w_.Z_MIN_CHUNK=64,w_.Z_MAX_CHUNK=1/0,w_.Z_DEFAULT_CHUNK=16384,w_.Z_MIN_MEMLEVEL=1,w_.Z_MAX_MEMLEVEL=9,w_.Z_DEFAULT_MEMLEVEL=8,w_.Z_MIN_LEVEL=-1,w_.Z_MAX_LEVEL=9,w_.Z_DEFAULT_LEVEL=w_.Z_DEFAULT_COMPRESSION;var E_={Z_OK:w_.Z_OK,Z_STREAM_END:w_.Z_STREAM_END,Z_NEED_DICT:w_.Z_NEED_DICT,Z_ERRNO:w_.Z_ERRNO,Z_STREAM_ERROR:w_.Z_STREAM_ERROR,Z_DATA_ERROR:w_.Z_DATA_ERROR,Z_MEM_ERROR:w_.Z_MEM_ERROR,Z_BUF_ERROR:w_.Z_BUF_ERROR,Z_VERSION_ERROR:w_.Z_VERSION_ERROR};function x_(t){return new V_(t)}function S_(t){return new K_(t)}function M_(t){return new J_(t)}function k_(t){return new Y_(t)}function A_(t){return new $_(t)}function R_(t){return new Z_(t)}function T_(t){return new X_(t)}function O_(t,e,r){return"function"==typeof e&&(r=e,e={}),W_(new V_(e),t,r)}function I_(t,e){return G_(new V_(e),t)}function C_(t,e,r){return"function"==typeof e&&(r=e,e={}),W_(new $_(e),t,r)}function P_(t,e){return G_(new $_(e),t)}function N_(t,e,r){return"function"==typeof e&&(r=e,e={}),W_(new J_(e),t,r)}function L_(t,e){return G_(new J_(e),t)}function B_(t,e,r){return"function"==typeof e&&(r=e,e={}),W_(new X_(e),t,r)}function U_(t,e){return G_(new X_(e),t)}function j_(t,e,r){return"function"==typeof e&&(r=e,e={}),W_(new K_(e),t,r)}function D_(t,e){return G_(new K_(e),t)}function F_(t,e,r){return"function"==typeof e&&(r=e,e={}),W_(new Z_(e),t,r)}function z_(t,e){return G_(new Z_(e),t)}function q_(t,e,r){return"function"==typeof e&&(r=e,e={}),W_(new Y_(e),t,r)}function H_(t,e){return G_(new Y_(e),t)}function W_(t,e,r){var n=[],i=0;function o(){for(var e;null!==(e=t.read());)n.push(e),i+=e.length;t.once("readable",o)}function s(){var e=Nf.concat(n,i);n=[],r(null,e),t.close()}t.on("error",(function(e){t.removeListener("end",s),t.removeListener("readable",o),r(e)})),t.on("end",s),t.end(e),o()}function G_(t,e){if("string"==typeof e&&(e=new Nf(e)),!Nf.isBuffer(e))throw new TypeError("Not a string or buffer");var r=w_.Z_FINISH;return t._processChunk(e,r)}function V_(t){if(!(this instanceof V_))return new V_(t);Q_.call(this,t,w_.DEFLATE)}function K_(t){if(!(this instanceof K_))return new K_(t);Q_.call(this,t,w_.INFLATE)}function $_(t){if(!(this instanceof $_))return new $_(t);Q_.call(this,t,w_.GZIP)}function Z_(t){if(!(this instanceof Z_))return new Z_(t);Q_.call(this,t,w_.GUNZIP)}function J_(t){if(!(this instanceof J_))return new J_(t);Q_.call(this,t,w_.DEFLATERAW)}function Y_(t){if(!(this instanceof Y_))return new Y_(t);Q_.call(this,t,w_.INFLATERAW)}function X_(t){if(!(this instanceof X_))return new X_(t);Q_.call(this,t,w_.UNZIP)}function Q_(t,e){if(this._opts=t=t||{},this._chunkSize=t.chunkSize||w_.Z_DEFAULT_CHUNK,jg.call(this,t),t.flush&&t.flush!==w_.Z_NO_FLUSH&&t.flush!==w_.Z_PARTIAL_FLUSH&&t.flush!==w_.Z_SYNC_FLUSH&&t.flush!==w_.Z_FULL_FLUSH&&t.flush!==w_.Z_FINISH&&t.flush!==w_.Z_BLOCK)throw new Error("Invalid flush flag: "+t.flush);if(this._flushFlag=t.flush||w_.Z_NO_FLUSH,t.chunkSize&&(t.chunkSize<w_.Z_MIN_CHUNK||t.chunkSize>w_.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+t.chunkSize);if(t.windowBits&&(t.windowBits<w_.Z_MIN_WINDOWBITS||t.windowBits>w_.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+t.windowBits);if(t.level&&(t.level<w_.Z_MIN_LEVEL||t.level>w_.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+t.level);if(t.memLevel&&(t.memLevel<w_.Z_MIN_MEMLEVEL||t.memLevel>w_.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+t.memLevel);if(t.strategy&&t.strategy!=w_.Z_FILTERED&&t.strategy!=w_.Z_HUFFMAN_ONLY&&t.strategy!=w_.Z_RLE&&t.strategy!=w_.Z_FIXED&&t.strategy!=w_.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+t.strategy);if(t.dictionary&&!Nf.isBuffer(t.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new w_.Zlib(e);var r=this;this._hadError=!1,this._binding.onerror=function(t,e){r._binding=null,r._hadError=!0;var n=new Error(t);n.errno=e,n.code=w_.codes[e],r.emit("error",n)};var n=w_.Z_DEFAULT_COMPRESSION;"number"==typeof t.level&&(n=t.level);var i=w_.Z_DEFAULT_STRATEGY;"number"==typeof t.strategy&&(i=t.strategy),this._binding.init(t.windowBits||w_.Z_DEFAULT_WINDOWBITS,n,t.memLevel||w_.Z_DEFAULT_MEMLEVEL,i,t.dictionary),this._buffer=new Nf(this._chunkSize),this._offset=0,this._closed=!1,this._level=n,this._strategy=i,this.once("end",this.close)}Object.keys(E_).forEach((function(t){E_[E_[t]]=t})),Pm.inherits(Q_,jg),Q_.prototype.params=function(t,e,r){if(t<w_.Z_MIN_LEVEL||t>w_.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+t);if(e!=w_.Z_FILTERED&&e!=w_.Z_HUFFMAN_ONLY&&e!=w_.Z_RLE&&e!=w_.Z_FIXED&&e!=w_.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+e);if(this._level!==t||this._strategy!==e){var n=this;this.flush(w_.Z_SYNC_FLUSH,(function(){n._binding.params(t,e),n._hadError||(n._level=t,n._strategy=e,r&&r())}))}else le.nextTick(r)},Q_.prototype.reset=function(){return this._binding.reset()},Q_.prototype._flush=function(t){this._transform(new Nf(0),"",t)},Q_.prototype.flush=function(t,e){var r=this._writableState;if(("function"==typeof t||void 0===t&&!e)&&(e=t,t=w_.Z_FULL_FLUSH),r.ended)e&&le.nextTick(e);else if(r.ending)e&&this.once("end",e);else if(r.needDrain){var n=this;this.once("drain",(function(){n.flush(e)}))}else this._flushFlag=t,this.write(new Nf(0),"",e)},Q_.prototype.close=function(t){if(t&&le.nextTick(t),!this._closed){this._closed=!0,this._binding.close();var e=this;le.nextTick((function(){e.emit("close")}))}},Q_.prototype._transform=function(t,e,r){var n,i=this._writableState,o=(i.ending||i.ended)&&(!t||i.length===t.length);if(null===!t&&!Nf.isBuffer(t))return r(new Error("invalid input"));o?n=w_.Z_FINISH:(n=this._flushFlag,t.length>=i.length&&(this._flushFlag=this._opts.flush||w_.Z_NO_FLUSH)),this._processChunk(t,n,r)},Q_.prototype._processChunk=function(t,e,r){var n=t&&t.length,i=this._chunkSize-this._offset,o=0,s=this,a="function"==typeof r;if(!a){var u,c=[],l=0;this.on("error",(function(t){u=t}));do{var h=this._binding.writeSync(e,t,o,n,this._buffer,this._offset,i)}while(!this._hadError&&p(h[0],h[1]));if(this._hadError)throw u;var f=Nf.concat(c,l);return this.close(),f}var d=this._binding.write(e,t,o,n,this._buffer,this._offset,i);function p(u,h){if(!s._hadError){var f=i-h;if(function(t,e){if(!t)throw new Error(e)}(f>=0,"have should not go down"),f>0){var d=s._buffer.slice(s._offset,s._offset+f);s._offset+=f,a?s.push(d):(c.push(d),l+=d.length)}if((0===h||s._offset>=s._chunkSize)&&(i=s._chunkSize,s._offset=0,s._buffer=new Nf(s._chunkSize)),0===h){if(o+=n-u,n=u,!a)return!0;var m=s._binding.write(e,t,o,n,s._buffer,s._offset,s._chunkSize);return m.callback=p,void(m.buffer=t)}if(!a)return!1;r()}}d.buffer=t,d.callback=p},Pm.inherits(V_,Q_),Pm.inherits(K_,Q_),Pm.inherits($_,Q_),Pm.inherits(Z_,Q_),Pm.inherits(J_,Q_),Pm.inherits(Y_,Q_),Pm.inherits(X_,Q_);var tb={codes:E_,createDeflate:x_,createInflate:S_,createDeflateRaw:M_,createInflateRaw:k_,createGzip:A_,createGunzip:R_,createUnzip:T_,deflate:O_,deflateSync:I_,gzip:C_,gzipSync:P_,deflateRaw:N_,deflateRawSync:L_,unzip:B_,unzipSync:U_,inflate:j_,inflateSync:D_,gunzip:F_,gunzipSync:z_,inflateRaw:q_,inflateRawSync:H_,Deflate:V_,Inflate:K_,Gzip:$_,Gunzip:Z_,DeflateRaw:J_,InflateRaw:Y_,Unzip:X_,Zlib:Q_},eb=dt(Object.freeze({__proto__:null,codes:E_,createDeflate:x_,createInflate:S_,createDeflateRaw:M_,createInflateRaw:k_,createGzip:A_,createGunzip:R_,createUnzip:T_,deflate:O_,deflateSync:I_,gzip:C_,gzipSync:P_,deflateRaw:N_,deflateRawSync:L_,unzip:B_,unzipSync:U_,inflate:j_,inflateSync:D_,gunzip:F_,gunzipSync:z_,inflateRaw:q_,inflateRawSync:H_,Deflate:V_,Inflate:K_,Gzip:$_,Gunzip:Z_,DeflateRaw:J_,InflateRaw:Y_,Unzip:X_,Zlib:Q_,default:tb})),rb={exports:{}},nb={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Nf.alloc(0),NOOP:()=>{}};const{EMPTY_BUFFER:ib}=nb;function ob(t,e){if(0===t.length)return ib;if(1===t.length)return t[0];const r=Nf.allocUnsafe(e);let n=0;for(let e=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return n<e?r.slice(0,n):r}function sb(t,e,r,n,i){for(let o=0;o<i;o++)r[n+o]=t[o]^e[3&o]}function ab(t,e){const r=t.length;for(let n=0;n<r;n++)t[n]^=e[3&n]}function ub(t){return t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}function cb(t){if(cb.readOnly=!0,Nf.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=Nf.from(t):ArrayBuffer.isView(t)?e=Nf.from(t.buffer,t.byteOffset,t.byteLength):(e=Nf.from(t),cb.readOnly=!1),e}try{const t=require("bufferutil"),e=t.BufferUtil||t;rb.exports={concat:ob,mask(t,r,n,i,o){o<48?sb(t,r,n,i,o):e.mask(t,r,n,i,o)},toArrayBuffer:ub,toBuffer:cb,unmask(t,r){t.length<32?ab(t,r):e.unmask(t,r)}}}catch(WR){rb.exports={concat:ob,mask:sb,toArrayBuffer:ub,toBuffer:cb,unmask:ab}}const lb=Symbol("kDone"),hb=Symbol("kRun");var fb=class{constructor(t){this[lb]=()=>{this.pending--,this[hb]()},this.concurrency=t||1/0,this.jobs=[],this.pending=0}add(t){this.jobs.push(t),this[hb]()}[hb](){if(this.pending!==this.concurrency&&this.jobs.length){const t=this.jobs.shift();this.pending++,t(this[lb])}}};const db=eb,pb=rb.exports,mb=fb,{kStatusCode:gb,NOOP:yb}=nb,vb=Nf.from([0,0,255,255]),_b=Symbol("permessage-deflate"),bb=Symbol("total-length"),wb=Symbol("callback"),Eb=Symbol("buffers"),xb=Symbol("error");let Sb;var Mb=class{constructor(t,e,r){if(this._maxPayload=0|r,this._options=t||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!e,this._deflate=null,this._inflate=null,this.params=null,!Sb){const t=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;Sb=new mb(t)}}static get extensionName(){return"permessage-deflate"}offer(){const t={};return this._options.serverNoContextTakeover&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(t.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(t.client_max_window_bits=!0),t}accept(t){return t=this.normalizeParams(t),this.params=this._isServer?this.acceptAsServer(t):this.acceptAsClient(t),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const t=this._deflate[wb];this._deflate.close(),this._deflate=null,t&&t(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(t){const e=this._options,r=t.find((t=>!(!1===e.serverNoContextTakeover&&t.server_no_context_takeover||t.server_max_window_bits&&(!1===e.serverMaxWindowBits||"number"==typeof e.serverMaxWindowBits&&e.serverMaxWindowBits>t.server_max_window_bits)||"number"==typeof e.clientMaxWindowBits&&!t.client_max_window_bits)));if(!r)throw new Error("None of the extension offers can be accepted");return e.serverNoContextTakeover&&(r.server_no_context_takeover=!0),e.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof e.serverMaxWindowBits&&(r.server_max_window_bits=e.serverMaxWindowBits),"number"==typeof e.clientMaxWindowBits?r.client_max_window_bits=e.clientMaxWindowBits:!0!==r.client_max_window_bits&&!1!==e.clientMaxWindowBits||delete r.client_max_window_bits,r}acceptAsClient(t){const e=t[0];if(!1===this._options.clientNoContextTakeover&&e.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(e.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&e.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(e.client_max_window_bits=this._options.clientMaxWindowBits);return e}normalizeParams(t){return t.forEach((t=>{Object.keys(t).forEach((e=>{let r=t[e];if(r.length>1)throw new Error(`Parameter "${e}" must have only a single value`);if(r=r[0],"client_max_window_bits"===e){if(!0!==r){const t=+r;if(!Number.isInteger(t)||t<8||t>15)throw new TypeError(`Invalid value for parameter "${e}": ${r}`);r=t}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${e}": ${r}`)}else if("server_max_window_bits"===e){const t=+r;if(!Number.isInteger(t)||t<8||t>15)throw new TypeError(`Invalid value for parameter "${e}": ${r}`);r=t}else{if("client_no_context_takeover"!==e&&"server_no_context_takeover"!==e)throw new Error(`Unknown parameter "${e}"`);if(!0!==r)throw new TypeError(`Invalid value for parameter "${e}": ${r}`)}t[e]=r}))})),t}decompress(t,e,r){Sb.add((n=>{this._decompress(t,e,((t,e)=>{n(),r(t,e)}))}))}compress(t,e,r){Sb.add((n=>{this._compress(t,e,((t,e)=>{n(),r(t,e)}))}))}_decompress(t,e,r){const n=this._isServer?"client":"server";if(!this._inflate){const t=`${n}_max_window_bits`,e="number"!=typeof this.params[t]?db.Z_DEFAULT_WINDOWBITS:this.params[t];this._inflate=db.createInflateRaw({...this._options.zlibInflateOptions,windowBits:e}),this._inflate[_b]=this,this._inflate[bb]=0,this._inflate[Eb]=[],this._inflate.on("error",Rb),this._inflate.on("data",Ab)}this._inflate[wb]=r,this._inflate.write(t),e&&this._inflate.write(vb),this._inflate.flush((()=>{const t=this._inflate[xb];if(t)return this._inflate.close(),this._inflate=null,void r(t);const i=pb.concat(this._inflate[Eb],this._inflate[bb]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[bb]=0,this._inflate[Eb]=[],e&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),r(null,i)}))}_compress(t,e,r){const n=this._isServer?"server":"client";if(!this._deflate){const t=`${n}_max_window_bits`,e="number"!=typeof this.params[t]?db.Z_DEFAULT_WINDOWBITS:this.params[t];this._deflate=db.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:e}),this._deflate[bb]=0,this._deflate[Eb]=[],this._deflate.on("error",yb),this._deflate.on("data",kb)}this._deflate[wb]=r,this._deflate.write(t),this._deflate.flush(db.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let t=pb.concat(this._deflate[Eb],this._deflate[bb]);e&&(t=t.slice(0,t.length-4)),this._deflate[wb]=null,this._deflate[bb]=0,this._deflate[Eb]=[],e&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),r(null,t)}))}};function kb(t){this[Eb].push(t),this[bb]+=t.length}function Ab(t){this[bb]+=t.length,this[_b]._maxPayload<1||this[bb]<=this[_b]._maxPayload?this[Eb].push(t):(this[xb]=new RangeError("Max payload size exceeded"),this[xb].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[xb][gb]=1009,this.removeListener("data",Ab),this.reset())}function Rb(t){this[_b]._inflate=null,t[gb]=1007,this[wb](t)}var Tb=dt(qg),Ob={exports:{}};function Ib(t){return t>=1e3&&t<=1014&&1004!==t&&1005!==t&&1006!==t||t>=3e3&&t<=4999}function Cb(t){const e=t.length;let r=0;for(;r<e;)if(0==(128&t[r]))r++;else if(192==(224&t[r])){if(r+1===e||128!=(192&t[r+1])||192==(254&t[r]))return!1;r+=2}else if(224==(240&t[r])){if(r+2>=e||128!=(192&t[r+1])||128!=(192&t[r+2])||224===t[r]&&128==(224&t[r+1])||237===t[r]&&160==(224&t[r+1]))return!1;r+=3}else{if(240!=(248&t[r]))return!1;if(r+3>=e||128!=(192&t[r+1])||128!=(192&t[r+2])||128!=(192&t[r+3])||240===t[r]&&128==(240&t[r+1])||244===t[r]&&t[r+1]>143||t[r]>244)return!1;r+=4}return!0}try{let t=require("utf-8-validate");"object"==typeof t&&(t=t.Validation.isValidUTF8),Ob.exports={isValidStatusCode:Ib,isValidUTF8:e=>e.length<150?Cb(e):t(e)}}catch(WR){Ob.exports={isValidStatusCode:Ib,isValidUTF8:Cb}}const{Writable:Pb}=Tb,Nb=Mb,{BINARY_TYPES:Lb,EMPTY_BUFFER:Bb,kStatusCode:Ub,kWebSocket:jb}=nb,{concat:Db,toArrayBuffer:Fb,unmask:zb}=rb.exports,{isValidStatusCode:qb,isValidUTF8:Hb}=Ob.exports;var Wb=class extends Pb{constructor(t,e,r,n){super(),this._binaryType=t||Lb[0],this[jb]=void 0,this._extensions=e||{},this._isServer=!!r,this._maxPayload=0|n,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(t,e,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=t.length,this._buffers.push(t),this.startLoop(r)}consume(t){if(this._bufferedBytes-=t,t===this._buffers[0].length)return this._buffers.shift();if(t<this._buffers[0].length){const e=this._buffers[0];return this._buffers[0]=e.slice(t),e.slice(0,t)}const e=Nf.allocUnsafe(t);do{const r=this._buffers[0],n=e.length-t;t>=r.length?e.set(this._buffers.shift(),n):(e.set(new Uint8Array(r.buffer,r.byteOffset,t),n),this._buffers[0]=r.slice(t)),t-=r.length}while(t>0);return e}startLoop(t){let e;this._loop=!0;do{switch(this._state){case 0:e=this.getInfo();break;case 1:e=this.getPayloadLength16();break;case 2:e=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:e=this.getData(t);break;default:return void(this._loop=!1)}}while(this._loop);t(e)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const t=this.consume(2);if(0!=(48&t[0]))return this._loop=!1,Gb(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");const e=64==(64&t[0]);if(e&&!this._extensions[Nb.extensionName])return this._loop=!1,Gb(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=128==(128&t[0]),this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(e)return this._loop=!1,Gb(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,Gb(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,Gb(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=e}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,Gb(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin)return this._loop=!1,Gb(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(e)return this._loop=!1,Gb(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,Gb(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&t[1]),this._isServer){if(!this._masked)return this._loop=!1,Gb(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,Gb(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const t=this.consume(8),e=t.readUInt32BE(0);return e>Math.pow(2,21)-1?(this._loop=!1,Gb(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=e*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,Gb(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(t){let e=Bb;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);e=this.consume(this._payloadLength),this._masked&&zb(e,this._mask)}return this._opcode>7?this.controlMessage(e):this._compressed?(this._state=5,void this.decompress(e,t)):(e.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(e)),this.dataMessage())}decompress(t,e){this._extensions[Nb.extensionName].decompress(t,this._fin,((t,r)=>{if(t)return e(t);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return e(Gb(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(r)}const n=this.dataMessage();if(n)return e(n);this.startLoop(e)}))}dataMessage(){if(this._fin){const t=this._messageLength,e=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let r;r="nodebuffer"===this._binaryType?Db(e,t):"arraybuffer"===this._binaryType?Fb(Db(e,t)):e,this.emit("message",r)}else{const r=Db(e,t);if(!Hb(r))return this._loop=!1,Gb(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",r.toString())}}this._state=0}controlMessage(t){if(8===this._opcode)if(this._loop=!1,0===t.length)this.emit("conclude",1005,""),this.end();else{if(1===t.length)return Gb(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{const e=t.readUInt16BE(0);if(!qb(e))return Gb(RangeError,`invalid status code ${e}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");const r=t.slice(2);if(!Hb(r))return Gb(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",e,r.toString()),this.end()}}else 9===this._opcode?this.emit("ping",t):this.emit("pong",t);this._state=0}};function Gb(t,e,r,n,i){const o=new t(r?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(o,Gb),o.code=i,o[Ub]=n,o}const{randomFillSync:Vb}=Py,Kb=Mb,{EMPTY_BUFFER:$b}=nb,{isValidStatusCode:Zb}=Ob.exports,{mask:Jb,toBuffer:Yb}=rb.exports,Xb=Nf.alloc(4);class Qb{constructor(t,e){this._extensions=e||{},this._socket=t,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(t,e){const r=e.mask&&e.readOnly;let n=e.mask?6:2,i=t.length;t.length>=65536?(n+=8,i=127):t.length>125&&(n+=2,i=126);const o=Nf.allocUnsafe(r?t.length+n:n);return o[0]=e.fin?128|e.opcode:e.opcode,e.rsv1&&(o[0]|=64),o[1]=i,126===i?o.writeUInt16BE(t.length,2):127===i&&(o.writeUInt32BE(0,2),o.writeUInt32BE(t.length,6)),e.mask?(Vb(Xb,0,4),o[1]|=128,o[n-4]=Xb[0],o[n-3]=Xb[1],o[n-2]=Xb[2],o[n-1]=Xb[3],r?(Jb(t,Xb,o,n,t.length),[o]):(Jb(t,Xb,t,0,t.length),[o,t])):[o,t]}close(t,e,r,n){let i;if(void 0===t)i=$b;else{if("number"!=typeof t||!Zb(t))throw new TypeError("First argument must be a valid error code number");if(void 0===e||""===e)i=Nf.allocUnsafe(2),i.writeUInt16BE(t,0);else{const r=Nf.byteLength(e);if(r>123)throw new RangeError("The message must not be greater than 123 bytes");i=Nf.allocUnsafe(2+r),i.writeUInt16BE(t,0),i.write(e,2)}}this._deflating?this.enqueue([this.doClose,i,r,n]):this.doClose(i,r,n)}doClose(t,e,r){this.sendFrame(Qb.frame(t,{fin:!0,rsv1:!1,opcode:8,mask:e,readOnly:!1}),r)}ping(t,e,r){const n=Yb(t);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,n,e,Yb.readOnly,r]):this.doPing(n,e,Yb.readOnly,r)}doPing(t,e,r,n){this.sendFrame(Qb.frame(t,{fin:!0,rsv1:!1,opcode:9,mask:e,readOnly:r}),n)}pong(t,e,r){const n=Yb(t);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,n,e,Yb.readOnly,r]):this.doPong(n,e,Yb.readOnly,r)}doPong(t,e,r,n){this.sendFrame(Qb.frame(t,{fin:!0,rsv1:!1,opcode:10,mask:e,readOnly:r}),n)}send(t,e,r){const n=Yb(t),i=this._extensions[Kb.extensionName];let o=e.binary?2:1,s=e.compress;if(this._firstFragment?(this._firstFragment=!1,s&&i&&(s=n.length>=i._threshold),this._compress=s):(s=!1,o=0),e.fin&&(this._firstFragment=!0),i){const t={fin:e.fin,rsv1:s,opcode:o,mask:e.mask,readOnly:Yb.readOnly};this._deflating?this.enqueue([this.dispatch,n,this._compress,t,r]):this.dispatch(n,this._compress,t,r)}else this.sendFrame(Qb.frame(n,{fin:e.fin,rsv1:!1,opcode:o,mask:e.mask,readOnly:Yb.readOnly}),r)}dispatch(t,e,r,n){if(!e)return void this.sendFrame(Qb.frame(t,r),n);const i=this._extensions[Kb.extensionName];this._bufferedBytes+=t.length,this._deflating=!0,i.compress(t,r.fin,((e,i)=>{if(this._socket.destroyed){const t=new Error("The socket was closed while data was being compressed");"function"==typeof n&&n(t);for(let e=0;e<this._queue.length;e++){const r=this._queue[e][4];"function"==typeof r&&r(t)}}else this._bufferedBytes-=t.length,this._deflating=!1,r.readOnly=!1,this.sendFrame(Qb.frame(i,r),n),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){const t=this._queue.shift();this._bufferedBytes-=t[1].length,Reflect.apply(t[0],this,t.slice(1))}}enqueue(t){this._bufferedBytes+=t[1].length,this._queue.push(t)}sendFrame(t,e){2===t.length?(this._socket.cork(),this._socket.write(t[0]),this._socket.write(t[1],e),this._socket.uncork()):this._socket.write(t[0],e)}}var tw=Qb;class ew{constructor(t,e){this.target=e,this.type=t}}class rw extends ew{constructor(t,e){super("message",e),this.data=t}}class nw extends ew{constructor(t,e,r){super("close",r),this.wasClean=r._closeFrameReceived&&r._closeFrameSent,this.reason=e,this.code=t}}class iw extends ew{constructor(t){super("open",t)}}class ow extends ew{constructor(t,e){super("error",e),this.message=t.message,this.error=t}}const sw={addEventListener(t,e,r){if("function"!=typeof e)return;function n(t){e.call(this,new rw(t,this))}function i(t,r){e.call(this,new nw(t,r,this))}function o(t){e.call(this,new ow(t,this))}function s(){e.call(this,new iw(this))}const a=r&&r.once?"once":"on";"message"===t?(n._listener=e,this[a](t,n)):"close"===t?(i._listener=e,this[a](t,i)):"error"===t?(o._listener=e,this[a](t,o)):"open"===t?(s._listener=e,this[a](t,s)):this[a](t,e)},removeEventListener(t,e){const r=this.listeners(t);for(let n=0;n<r.length;n++)r[n]!==e&&r[n]._listener!==e||this.removeListener(t,r[n])}};var aw=sw;const uw=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function cw(t,e,r){void 0===t[e]?t[e]=[r]:t[e].push(r)}var lw={format:function(t){return Object.keys(t).map((e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map((t=>[e].concat(Object.keys(t).map((e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map((t=>!0===t?e:`${e}=${t}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function(t){const e=Object.create(null);if(void 0===t||""===t)return e;let r,n,i=Object.create(null),o=!1,s=!1,a=!1,u=-1,c=-1,l=0;for(;l<t.length;l++){const h=t.charCodeAt(l);if(void 0===r)if(-1===c&&1===uw[h])-1===u&&(u=l);else if(32===h||9===h)-1===c&&-1!==u&&(c=l);else{if(59!==h&&44!==h)throw new SyntaxError(`Unexpected character at index ${l}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${l}`);-1===c&&(c=l);const n=t.slice(u,c);44===h?(cw(e,n,i),i=Object.create(null)):r=n,u=c=-1}}else if(void 0===n)if(-1===c&&1===uw[h])-1===u&&(u=l);else if(32===h||9===h)-1===c&&-1!==u&&(c=l);else if(59===h||44===h){if(-1===u)throw new SyntaxError(`Unexpected character at index ${l}`);-1===c&&(c=l),cw(i,t.slice(u,c),!0),44===h&&(cw(e,r,i),i=Object.create(null),r=void 0),u=c=-1}else{if(61!==h||-1===u||-1!==c)throw new SyntaxError(`Unexpected character at index ${l}`);n=t.slice(u,l),u=c=-1}else if(s){if(1!==uw[h])throw new SyntaxError(`Unexpected character at index ${l}`);-1===u?u=l:o||(o=!0),s=!1}else if(a)if(1===uw[h])-1===u&&(u=l);else if(34===h&&-1!==u)a=!1,c=l;else{if(92!==h)throw new SyntaxError(`Unexpected character at index ${l}`);s=!0}else if(34===h&&61===t.charCodeAt(l-1))a=!0;else if(-1===c&&1===uw[h])-1===u&&(u=l);else if(-1===u||32!==h&&9!==h){if(59!==h&&44!==h)throw new SyntaxError(`Unexpected character at index ${l}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${l}`);-1===c&&(c=l);let s=t.slice(u,c);o&&(s=s.replace(/\\/g,""),o=!1),cw(i,n,s),44===h&&(cw(e,r,i),i=Object.create(null),r=void 0),n=void 0,u=c=-1}}else-1===c&&(c=l)}if(-1===u||a)throw new SyntaxError("Unexpected end of input");-1===c&&(c=l);const h=t.slice(u,c);return void 0===r?cw(e,h,i):(void 0===n?cw(i,h,!0):cw(i,n,o?h.replace(/\\/g,""):h),cw(e,r,i)),e}};const hw=wc.exports,fw=xy,dw=Oy,pw=Iy,mw=Cy,{randomBytes:gw,createHash:yw}=Py,{URL:vw}=$g,_w=Mb,bw=Wb,ww=tw,{BINARY_TYPES:Ew,EMPTY_BUFFER:xw,GUID:Sw,kStatusCode:Mw,kWebSocket:kw,NOOP:Aw}=nb,{addEventListener:Rw,removeEventListener:Tw}=aw,{format:Ow,parse:Iw}=lw,{toBuffer:Cw}=rb.exports,Pw=["CONNECTING","OPEN","CLOSING","CLOSED"],Nw=[8,13];class Lw extends hw{constructor(t,e,r){super(),this._binaryType=Ew[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._extensions={},this._protocol="",this._readyState=Lw.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==t?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(e)?e=e.join(", "):"object"==typeof e&&null!==e&&(r=e,e=void 0),Uw(this,t,e,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(t){Ew.includes(t)&&(this._binaryType=t,this._receiver&&(this._receiver._binaryType=t))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get onclose(){}set onclose(t){}get onerror(){}set onerror(t){}get onopen(){}set onopen(t){}get onmessage(){}set onmessage(t){}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(t,e,r){const n=new bw(this.binaryType,this._extensions,this._isServer,r);this._sender=new ww(t,this._extensions),this._receiver=n,this._socket=t,n[kw]=this,t[kw]=this,n.on("conclude",qw),n.on("drain",Hw),n.on("error",Ww),n.on("message",Vw),n.on("ping",Kw),n.on("pong",$w),t.setTimeout(0),t.setNoDelay(),e.length>0&&t.unshift(e),t.on("close",Zw),t.on("data",Jw),t.on("end",Yw),t.on("error",Xw),this._readyState=Lw.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=Lw.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[_w.extensionName]&&this._extensions[_w.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=Lw.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(t,e){if(this.readyState!==Lw.CLOSED){if(this.readyState===Lw.CONNECTING){const t="WebSocket was closed before the connection was established";return Fw(this,this._req,t)}this.readyState!==Lw.CLOSING?(this._readyState=Lw.CLOSING,this._sender.close(t,e,!this._isServer,(t=>{t||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end()}}ping(t,e,r){if(this.readyState===Lw.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof t?(r=t,t=e=void 0):"function"==typeof e&&(r=e,e=void 0),"number"==typeof t&&(t=t.toString()),this.readyState===Lw.OPEN?(void 0===e&&(e=!this._isServer),this._sender.ping(t||xw,e,r)):zw(this,t,r)}pong(t,e,r){if(this.readyState===Lw.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof t?(r=t,t=e=void 0):"function"==typeof e&&(r=e,e=void 0),"number"==typeof t&&(t=t.toString()),this.readyState===Lw.OPEN?(void 0===e&&(e=!this._isServer),this._sender.pong(t||xw,e,r)):zw(this,t,r)}send(t,e,r){if(this.readyState===Lw.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e&&(r=e,e={}),"number"==typeof t&&(t=t.toString()),this.readyState!==Lw.OPEN)return void zw(this,t,r);const n={binary:"string"!=typeof t,mask:!this._isServer,compress:!0,fin:!0,...e};this._extensions[_w.extensionName]||(n.compress=!1),this._sender.send(t||xw,n,r)}terminate(){if(this.readyState!==Lw.CLOSED){if(this.readyState===Lw.CONNECTING){const t="WebSocket was closed before the connection was established";return Fw(this,this._req,t)}this._socket&&(this._readyState=Lw.CLOSING,this._socket.destroy())}}}Object.defineProperty(Lw,"CONNECTING",{enumerable:!0,value:Pw.indexOf("CONNECTING")}),Object.defineProperty(Lw.prototype,"CONNECTING",{enumerable:!0,value:Pw.indexOf("CONNECTING")}),Object.defineProperty(Lw,"OPEN",{enumerable:!0,value:Pw.indexOf("OPEN")}),Object.defineProperty(Lw.prototype,"OPEN",{enumerable:!0,value:Pw.indexOf("OPEN")}),Object.defineProperty(Lw,"CLOSING",{enumerable:!0,value:Pw.indexOf("CLOSING")}),Object.defineProperty(Lw.prototype,"CLOSING",{enumerable:!0,value:Pw.indexOf("CLOSING")}),Object.defineProperty(Lw,"CLOSED",{enumerable:!0,value:Pw.indexOf("CLOSED")}),Object.defineProperty(Lw.prototype,"CLOSED",{enumerable:!0,value:Pw.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach((t=>{Object.defineProperty(Lw.prototype,t,{enumerable:!0})})),["open","error","close","message"].forEach((t=>{Object.defineProperty(Lw.prototype,`on${t}`,{enumerable:!0,get(){const e=this.listeners(t);for(let t=0;t<e.length;t++)if(e[t]._listener)return e[t]._listener},set(e){const r=this.listeners(t);for(let e=0;e<r.length;e++)r[e]._listener&&this.removeListener(t,r[e]);this.addEventListener(t,e)}})})),Lw.prototype.addEventListener=Rw,Lw.prototype.removeEventListener=Tw;var Bw=Lw;function Uw(t,e,r,n){const i={protocolVersion:Nw[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!Nw.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${Nw.join(", ")})`);let o;e instanceof vw?(o=e,t._url=e.href):(o=new vw(e),t._url=e);const s="ws+unix:"===o.protocol;if(!(o.host||s&&o.pathname))throw new Error(`Invalid URL: ${t.url}`);const a="wss:"===o.protocol||"https:"===o.protocol,u=a?443:80,c=gw(16).toString("base64"),l=a?fw.get:dw.get;let h;if(i.createConnection=a?Dw:jw,i.defaultPort=i.defaultPort||u,i.port=o.port||u,i.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,i.headers={"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":c,Connection:"Upgrade",Upgrade:"websocket",...i.headers},i.path=o.pathname+o.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(h=new _w(!0!==i.perMessageDeflate?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=Ow({[_w.extensionName]:h.offer()})),r&&(i.headers["Sec-WebSocket-Protocol"]=r),i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(o.username||o.password)&&(i.auth=`${o.username}:${o.password}`),s){const t=i.path.split(":");i.socketPath=t[0],i.path=t[1]}let f=t._req=l(i);i.timeout&&f.on("timeout",(()=>{Fw(t,f,"Opening handshake has timed out")})),f.on("error",(e=>{null===f||f.aborted||(f=t._req=null,t._readyState=Lw.CLOSING,t.emit("error",e),t.emitClose())})),f.on("response",(o=>{const s=o.headers.location,a=o.statusCode;if(s&&i.followRedirects&&a>=300&&a<400){if(++t._redirects>i.maxRedirects)return void Fw(t,f,"Maximum redirects exceeded");f.abort();const o=new vw(s,e);Uw(t,o,r,n)}else t.emit("unexpected-response",f,o)||Fw(t,f,`Unexpected server response: ${o.statusCode}`)})),f.on("upgrade",((e,n,o)=>{if(t.emit("upgrade",e),t.readyState!==Lw.CONNECTING)return;f=t._req=null;const s=yw("sha1").update(c+Sw).digest("base64");if(e.headers["sec-websocket-accept"]!==s)return void Fw(t,n,"Invalid Sec-WebSocket-Accept header");const a=e.headers["sec-websocket-protocol"],u=(r||"").split(/, */);let l;if(!r&&a?l="Server sent a subprotocol but none was requested":r&&!a?l="Server sent no subprotocol":a&&!u.includes(a)&&(l="Server sent an invalid subprotocol"),l)return void Fw(t,n,l);a&&(t._protocol=a);const d=e.headers["sec-websocket-extensions"];if(void 0!==d){if(!h){return void Fw(t,n,"Server sent a Sec-WebSocket-Extensions header but no extension was requested")}let e;try{e=Iw(d)}catch(e){return void Fw(t,n,"Invalid Sec-WebSocket-Extensions header")}const r=Object.keys(e);if(r.length){if(1!==r.length||r[0]!==_w.extensionName){return void Fw(t,n,"Server indicated an extension that was not requested")}try{h.accept(e[_w.extensionName])}catch(e){return void Fw(t,n,"Invalid Sec-WebSocket-Extensions header")}t._extensions[_w.extensionName]=h}}t.setSocket(n,o,i.maxPayload)}))}function jw(t){return t.path=t.socketPath,pw.connect(t)}function Dw(t){return t.path=void 0,t.servername||""===t.servername||(t.servername=pw.isIP(t.host)?"":t.host),mw.connect(t)}function Fw(t,e,r){t._readyState=Lw.CLOSING;const n=new Error(r);Error.captureStackTrace(n,Fw),e.setHeader?(e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),e.once("abort",t.emitClose.bind(t)),t.emit("error",n)):(e.destroy(n),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function zw(t,e,r){if(e){const r=Cw(e).length;t._socket?t._sender._bufferedBytes+=r:t._bufferedAmount+=r}if(r){r(new Error(`WebSocket is not open: readyState ${t.readyState} (${Pw[t.readyState]})`))}}function qw(t,e){const r=this[kw];r._socket.removeListener("data",Jw),r._socket.resume(),r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,1005===t?r.close():r.close(t,e)}function Hw(){this[kw]._socket.resume()}function Ww(t){const e=this[kw];e._socket.removeListener("data",Jw),e._socket.resume(),e.close(t[Mw]),e.emit("error",t)}function Gw(){this[kw].emitClose()}function Vw(t){this[kw].emit("message",t)}function Kw(t){const e=this[kw];e.pong(t,!e._isServer,Aw),e.emit("ping",t)}function $w(t){this[kw].emit("pong",t)}function Zw(){const t=this[kw];this.removeListener("close",Zw),this.removeListener("end",Yw),t._readyState=Lw.CLOSING,t._socket.read(),t._receiver.end(),this.removeListener("data",Jw),this[kw]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",Gw),t._receiver.on("finish",Gw))}function Jw(t){this[kw]._receiver.write(t)||this.pause()}function Yw(){const t=this[kw];t._readyState=Lw.CLOSING,t._receiver.end(),this.end()}function Xw(){const t=this[kw];this.removeListener("error",Xw),this.on("error",Aw),t&&(t._readyState=Lw.CLOSING,this.destroy())}const{Duplex:Qw}=Tb;function tE(t){t.emit("close")}function eE(){!this.destroyed&&this._writableState.finished&&this.destroy()}function rE(t){this.removeListener("error",rE),this.destroy(),0===this.listenerCount("error")&&this.emit("error",t)}var nE=function(t,e){let r=!0,n=!0;function i(){r&&t._socket.resume()}t.readyState===t.CONNECTING?t.once("open",(function(){t._receiver.removeAllListeners("drain"),t._receiver.on("drain",i)})):(t._receiver.removeAllListeners("drain"),t._receiver.on("drain",i));const o=new Qw({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",(function(e){o.push(e)||(r=!1,t._socket.pause())})),t.once("error",(function(t){o.destroyed||(n=!1,o.destroy(t))})),t.once("close",(function(){o.destroyed||o.push(null)})),o._destroy=function(e,r){if(t.readyState===t.CLOSED)return r(e),void le.nextTick(tE,o);let i=!1;t.once("error",(function(t){i=!0,r(t)})),t.once("close",(function(){i||r(e),le.nextTick(tE,o)})),n&&t.terminate()},o._final=function(e){t.readyState!==t.CONNECTING?null!==t._socket&&(t._socket._writableState.finished?(e(),o._readableState.endEmitted&&o.destroy()):(t._socket.once("finish",(function(){e()})),t.close())):t.once("open",(function(){o._final(e)}))},o._read=function(){t.readyState!==t.OPEN||r||(r=!0,t._receiver._writableState.needDrain||t._socket.resume())},o._write=function(e,r,n){t.readyState!==t.CONNECTING?t.send(e,n):t.once("open",(function(){o._write(e,r,n)}))},o.on("end",eE),o.on("error",rE),o};const iE=wc.exports,oE=Oy,{createHash:sE}=Py,aE=Mb,uE=Bw,{format:cE,parse:lE}=lw,{GUID:hE,kWebSocket:fE}=nb,dE=/^[+/0-9A-Za-z]{22}==$/;var pE=class extends iE{constructor(t,e){if(super(),null==(t={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...t}).port&&!t.server&&!t.noServer||null!=t.port&&(t.server||t.noServer)||t.server&&t.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=t.port?(this._server=oE.createServer(((t,e)=>{const r=oE.STATUS_CODES[426];e.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),e.end(r)})),this._server.listen(t.port,t.host,t.backlog,e)):t.server&&(this._server=t.server),this._server){const t=this.emit.bind(this,"connection");this._removeListeners=function(t,e){for(const r of Object.keys(e))t.on(r,e[r]);return function(){for(const r of Object.keys(e))t.removeListener(r,e[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(e,r,n)=>{this.handleUpgrade(e,r,n,t)}})}!0===t.perMessageDeflate&&(t.perMessageDeflate={}),t.clientTracking&&(this.clients=new Set),this.options=t,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(t){if(t&&this.once("close",t),2===this._state)return void le.nextTick(mE,this);if(1===this._state)return;if(this._state=1,this.clients)for(const t of this.clients)t.terminate();const e=this._server;e&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)?e.close(mE.bind(void 0,this)):le.nextTick(mE,this)}shouldHandle(t){if(this.options.path){const e=t.url.indexOf("?");if((-1!==e?t.url.slice(0,e):t.url)!==this.options.path)return!1}return!0}handleUpgrade(t,e,r,n){e.on("error",gE);const i=void 0!==t.headers["sec-websocket-key"]&&t.headers["sec-websocket-key"].trim(),o=+t.headers["sec-websocket-version"],s={};if("GET"!==t.method||"websocket"!==t.headers.upgrade.toLowerCase()||!i||!dE.test(i)||8!==o&&13!==o||!this.shouldHandle(t))return yE(e,400);if(this.options.perMessageDeflate){const r=new aE(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const e=lE(t.headers["sec-websocket-extensions"]);e[aE.extensionName]&&(r.accept(e[aE.extensionName]),s[aE.extensionName]=r)}catch(t){return yE(e,400)}}if(this.options.verifyClient){const a={origin:t.headers[""+(8===o?"sec-websocket-origin":"origin")],secure:!(!t.socket.authorized&&!t.socket.encrypted),req:t};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,((o,a,u,c)=>{if(!o)return yE(e,a||401,u,c);this.completeUpgrade(i,s,t,e,r,n)}));if(!this.options.verifyClient(a))return yE(e,401)}this.completeUpgrade(i,s,t,e,r,n)}completeUpgrade(t,e,r,n,i,o){if(!n.readable||!n.writable)return n.destroy();if(n[fE])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return yE(n,503);const s=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${sE("sha1").update(t+hE).digest("base64")}`],a=new uE(null);let u=r.headers["sec-websocket-protocol"];if(u&&(u=u.split(",").map(vE),u=this.options.handleProtocols?this.options.handleProtocols(u,r):u[0],u&&(s.push(`Sec-WebSocket-Protocol: ${u}`),a._protocol=u)),e[aE.extensionName]){const t=e[aE.extensionName].params,r=cE({[aE.extensionName]:[t]});s.push(`Sec-WebSocket-Extensions: ${r}`),a._extensions=e}this.emit("headers",s,r),n.write(s.concat("\r\n").join("\r\n")),n.removeListener("error",gE),a.setSocket(n,i,this.options.maxPayload),this.clients&&(this.clients.add(a),a.on("close",(()=>this.clients.delete(a)))),o(a,r)}};function mE(t){t._state=2,t.emit("close")}function gE(){this.destroy()}function yE(t,e,r,n){t.writable&&(r=r||oE.STATUS_CODES[e],n={Connection:"close","Content-Type":"text/html","Content-Length":Nf.byteLength(r),...n},t.write(`HTTP/1.1 ${e} ${oE.STATUS_CODES[e]}\r\n`+Object.keys(n).map((t=>`${t}: ${n[t]}`)).join("\r\n")+"\r\n\r\n"+r)),t.removeListener("error",gE),t.destroy()}function vE(t){return t.trim()}const _E=Bw;_E.createWebSocketStream=nE,_E.Server=pE,_E.Receiver=Wb,_E.Sender=tw;var bE=_E;Object.defineProperty(_m,"__esModule",{value:!0});const wE=Nh,EE=Uh,xE=(0,wE.__importDefault)(bm),SE=void 0!==ft.WebSocket?ft.WebSocket:bE;_m.default=class{constructor(t){if(this.opts=t,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=t.protocol,this._version=t.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=t.subscriptions||[],this._netMonitor=t.netMonitor||new xE.default,!t.url||"string"!=typeof t.url)throw new Error("Missing or invalid WebSocket url");this._url=t.url,this._netMonitor.on("online",(()=>this._socketCreate()))}set readyState(t){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(t){}get connecting(){return 0===this.readyState}set connected(t){}get connected(){return 1===this.readyState}set closing(t){}get closing(){return 2===this.readyState}set closed(t){}get closed(){return 3===this.readyState}open(){this._socketCreate()}close(){this._socketClose()}send(t,e,r){if(!e||"string"!=typeof e)throw new Error("Missing or invalid topic field");this._socketSend({topic:e,type:"pub",payload:t,silent:!!r})}subscribe(t){this._socketSend({topic:t,type:"sub",payload:"",silent:!0})}on(t,e){this._events.push({event:t,callback:e})}_socketCreate(){if(this._nextSocket)return;const t=function(t,e,r){var n,i;const o=(t.startsWith("https")?t.replace("https","wss"):t.startsWith("http")?t.replace("http","ws"):t).split("?"),s=(0,EE.isBrowser)()?{protocol:e,version:r,env:"browser",host:(null===(n=(0,EE.getLocation)())||void 0===n?void 0:n.host)||""}:{protocol:e,version:r,env:(null===(i=(0,EE.detectEnv)())||void 0===i?void 0:i.name)||""},a=(0,EE.appendToQueryString)((0,EE.getQueryString)(o[1]||""),s);return o[0]+"?"+a}(this._url,this._protocol,this._version);if(this._nextSocket=new SE(t),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=t=>this._socketReceive(t),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=t=>this._socketError(t),this._nextSocket.onclose=()=>{setTimeout((()=>{this._nextSocket=null,this._socketCreate()}),1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(t){const e=JSON.stringify(t);this._socket&&1===this._socket.readyState?this._socket.send(e):(this._setToQueue(t),this._socketCreate())}_socketReceive(t){return(0,wE.__awaiter)(this,void 0,void 0,(function*(){let e;try{e=JSON.parse(t.data)}catch(t){return}if(this._socketSend({topic:e.topic,type:"ack",payload:"",silent:!0}),this._socket&&1===this._socket.readyState){const t=this._events.filter((t=>"message"===t.event));t&&t.length&&t.forEach((t=>t.callback(e)))}}))}_socketError(t){const e=this._events.filter((t=>"error"===t.event));e&&e.length&&e.forEach((e=>e.callback(t)))}_queueSubscriptions(){this._subscriptions.forEach((t=>this._queue.push({topic:t,type:"sub",payload:"",silent:!0}))),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(t){this._queue.push(t)}_pushQueue(){this._queue.forEach((t=>this._socketSend(t))),this._queue=[]}};var ME={};Object.defineProperty(ME,"__esModule",{value:!0}),ME.ERROR_QRCODE_MODAL_USER_CLOSED=ME.ERROR_QRCODE_MODAL_NOT_PROVIDED=ME.ERROR_INVALID_URI=ME.ERROR_INVALID_RESPONSE=ME.ERROR_MISSING_REQUIRED=ME.ERROR_MISSING_ID=ME.ERROR_MISSING_METHOD=ME.ERROR_MISSING_ERROR=ME.ERROR_MISSING_RESULT=ME.ERROR_MISSING_JSON_RPC=ME.ERROR_SESSION_REJECTED=ME.ERROR_SESSION_DISCONNECTED=ME.ERROR_SESSION_CONNECTED=void 0,ME.ERROR_SESSION_CONNECTED="Session currently connected",ME.ERROR_SESSION_DISCONNECTED="Session currently disconnected",ME.ERROR_SESSION_REJECTED="Session Rejected",ME.ERROR_MISSING_JSON_RPC="Missing JSON RPC response",ME.ERROR_MISSING_RESULT='JSON-RPC success response must include "result" field',ME.ERROR_MISSING_ERROR='JSON-RPC error response must include "error" field',ME.ERROR_MISSING_METHOD='JSON RPC request must have valid "method" value',ME.ERROR_MISSING_ID='JSON RPC request must have valid "id" value',ME.ERROR_MISSING_REQUIRED="Missing one of the required parameters: bridge / uri / session",ME.ERROR_INVALID_RESPONSE="JSON RPC response format is invalid",ME.ERROR_INVALID_URI="URI format is invalid",ME.ERROR_QRCODE_MODAL_NOT_PROVIDED="QRCode Modal not provided",ME.ERROR_QRCODE_MODAL_USER_CLOSED="User close QRCode Modal";var kE={};Object.defineProperty(kE,"__esModule",{value:!0});const AE=Uh;kE.default=class{constructor(){this._eventEmitters=[]}subscribe(t){this._eventEmitters.push(t)}unsubscribe(t){this._eventEmitters=this._eventEmitters.filter((e=>e.event!==t))}trigger(t){let e,r=[];e=(0,AE.isJsonRpcRequest)(t)?t.method:(0,AE.isJsonRpcResponseSuccess)(t)||(0,AE.isJsonRpcResponseError)(t)?`response:${t.id}`:(0,AE.isInternalEvent)(t)?t.event:"",e&&(r=this._eventEmitters.filter((t=>t.event===e))),r&&r.length||(0,AE.isReservedEvent)(e)||(0,AE.isInternalEvent)(e)||(r=this._eventEmitters.filter((t=>"call_request"===t.event))),r.forEach((e=>{if((0,AE.isJsonRpcResponseError)(t)){const r=new Error(t.error.message);e.callback(r,null)}else e.callback(null,t)}))}};var RE={};Object.defineProperty(RE,"__esModule",{value:!0});const TE=Uh;RE.default=class{constructor(t="walletconnect"){this.storageId=t}getSession(){let t=null;const e=(0,TE.getLocal)(this.storageId);return e&&(0,TE.isWalletConnectSession)(e)&&(t=e),t}setSession(t){return(0,TE.setLocal)(this.storageId,t),t}removeSession(){(0,TE.removeLocal)(this.storageId)}};var OE={};Object.defineProperty(OE,"__esModule",{value:!0}),OE.getBridgeUrl=OE.shouldSelectRandomly=OE.selectRandomBridgeUrl=OE.randomBridgeIndex=OE.extractRootDomain=OE.extractHostname=void 0;const IE="abcdefghijklmnopqrstuvwxyz0123456789".split("").map((t=>`https://${t}.bridge.walletconnect.org`));function CE(t){let e=t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e}function PE(t){return CE(t).split(".").slice(-2).join(".")}function NE(){return Math.floor(Math.random()*IE.length)}function LE(){return IE[NE()]}function BE(t){return"walletconnect.org"===PE(t)}OE.extractHostname=CE,OE.extractRootDomain=PE,OE.randomBridgeIndex=NE,OE.selectRandomBridgeUrl=LE,OE.shouldSelectRandomly=BE,OE.getBridgeUrl=function(t){return BE(t)?LE():t},Object.defineProperty(Bh,"__esModule",{value:!0});const UE=Nh,jE=Uh,DE=(0,UE.__importDefault)(_m),FE=ME,zE=(0,UE.__importDefault)(kE),qE=(0,UE.__importDefault)(RE),HE=OE;Bh.default=class{constructor(t){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new zE.default,this._clientMeta=(0,jE.getClientMeta)()||t.connectorOpts.clientMeta||null,this._cryptoLib=t.cryptoLib,this._sessionStorage=t.sessionStorage||new qE.default(t.connectorOpts.storageId),this._qrcodeModal=t.connectorOpts.qrcodeModal,this._qrcodeModalOptions=t.connectorOpts.qrcodeModalOptions,this._signingMethods=[...jE.signingMethods,...t.connectorOpts.signingMethods||[]],!t.connectorOpts.bridge&&!t.connectorOpts.uri&&!t.connectorOpts.session)throw new Error(FE.ERROR_MISSING_REQUIRED);t.connectorOpts.bridge&&(this.bridge=(0,HE.getBridgeUrl)(t.connectorOpts.bridge)),t.connectorOpts.uri&&(this.uri=t.connectorOpts.uri);const e=t.connectorOpts.session||this._getStorageSession();e&&(this.session=e),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=t.transport||new DE.default({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),t.connectorOpts.uri&&this._subscribeToSessionRequest(),t.pushServerOpts&&this._registerPushServer(t.pushServerOpts)}set bridge(t){t&&(this._bridge=t)}get bridge(){return this._bridge}set key(t){if(!t)return;const e=(0,jE.convertHexToArrayBuffer)(t);this._key=e}get key(){if(this._key){return(0,jE.convertArrayBufferToHex)(this._key,!0)}return""}set clientId(t){t&&(this._clientId=t)}get clientId(){let t=this._clientId;return t||(t=this._clientId=(0,jE.uuid)()),this._clientId}set peerId(t){t&&(this._peerId=t)}get peerId(){return this._peerId}set clientMeta(t){}get clientMeta(){let t=this._clientMeta;return t||(t=this._clientMeta=(0,jE.getClientMeta)()),t}set peerMeta(t){this._peerMeta=t}get peerMeta(){return this._peerMeta}set handshakeTopic(t){t&&(this._handshakeTopic=t)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(t){t&&(this._handshakeId=t)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(t){if(!t)return;const{handshakeTopic:e,bridge:r,key:n}=this._parseUri(t);this.handshakeTopic=e,this.bridge=r,this.key=n}set chainId(t){this._chainId=t}get chainId(){return this._chainId}set networkId(t){this._networkId=t}get networkId(){return this._networkId}set accounts(t){this._accounts=t}get accounts(){return this._accounts}set rpcUrl(t){this._rpcUrl=t}get rpcUrl(){return this._rpcUrl}set connected(t){}get connected(){return this._connected}set pending(t){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(t){t&&(this._connected=t.connected,this.accounts=t.accounts,this.chainId=t.chainId,this.bridge=t.bridge,this.key=t.key,this.clientId=t.clientId,this.clientMeta=t.clientMeta,this.peerId=t.peerId,this.peerMeta=t.peerMeta,this.handshakeId=t.handshakeId,this.handshakeTopic=t.handshakeTopic)}on(t,e){const r={event:t,callback:e};this._eventManager.subscribe(r)}off(t){this._eventManager.unsubscribe(t)}createInstantRequest(t){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){this._key=yield this._generateKey();const e=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(t)}]});this.handshakeId=e.id,this.handshakeTopic=(0,jE.uuid)(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",(()=>{throw new Error(FE.ERROR_QRCODE_MODAL_USER_CLOSED)}));const r=()=>{this.killSession()};try{const t=yield this._sendCallRequest(e);return t&&r(),t}catch(t){throw r(),t}}))}connect(t){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){if(!this._qrcodeModal)throw new Error(FE.ERROR_QRCODE_MODAL_NOT_PROVIDED);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(yield this.createSession(t),new Promise(((t,e)=>(0,UE.__awaiter)(this,void 0,void 0,(function*(){this.on("modal_closed",(()=>e(new Error(FE.ERROR_QRCODE_MODAL_USER_CLOSED)))),this.on("connect",((r,n)=>{if(r)return e(r);t(n.params[0])}))})))))}))}createSession(t){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){if(this._connected)throw new Error(FE.ERROR_SESSION_CONNECTED);if(this.pending)return;this._key=yield this._generateKey();const e=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:t&&t.chainId?t.chainId:null}]});this.handshakeId=e.id,this.handshakeTopic=(0,jE.uuid)(),this._sendSessionRequest(e,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}))}approveSession(t){if(this._connected)throw new Error(FE.ERROR_SESSION_CONNECTED);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";const e={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},r={id:this.handshakeId,jsonrpc:"2.0",result:e};this._sendResponse(r),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(t){if(this._connected)throw new Error(FE.ERROR_SESSION_CONNECTED);const e=t&&t.message?t.message:FE.ERROR_SESSION_REJECTED,r=this._formatResponse({id:this.handshakeId,error:{message:e}});this._sendResponse(r),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:e}]}),this._removeStorageSession()}updateSession(t){if(!this._connected)throw new Error(FE.ERROR_SESSION_DISCONNECTED);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";const e={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},r=this._formatRequest({method:"wc_sessionUpdate",params:[e]});this._sendSessionRequest(r,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}killSession(t){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){const e=t?t.message:"Session Disconnected",r=this._formatRequest({method:"wc_sessionUpdate",params:[{approved:!1,chainId:null,networkId:null,accounts:null}]});yield this._sendRequest(r),this._handleSessionDisconnect(e)}))}sendTransaction(t){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){if(!this._connected)throw new Error(FE.ERROR_SESSION_DISCONNECTED);const e=(0,jE.parseTransactionData)(t),r=this._formatRequest({method:"eth_sendTransaction",params:[e]});return yield this._sendCallRequest(r)}))}signTransaction(t){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){if(!this._connected)throw new Error(FE.ERROR_SESSION_DISCONNECTED);const e=(0,jE.parseTransactionData)(t),r=this._formatRequest({method:"eth_signTransaction",params:[e]});return yield this._sendCallRequest(r)}))}signMessage(t){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){if(!this._connected)throw new Error(FE.ERROR_SESSION_DISCONNECTED);const e=this._formatRequest({method:"eth_sign",params:t});return yield this._sendCallRequest(e)}))}signPersonalMessage(t){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){if(!this._connected)throw new Error(FE.ERROR_SESSION_DISCONNECTED);t=(0,jE.parsePersonalSign)(t);const e=this._formatRequest({method:"personal_sign",params:t});return yield this._sendCallRequest(e)}))}signTypedData(t){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){if(!this._connected)throw new Error(FE.ERROR_SESSION_DISCONNECTED);const e=this._formatRequest({method:"eth_signTypedData",params:t});return yield this._sendCallRequest(e)}))}updateChain(t){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){if(!this._connected)throw new Error("Session currently disconnected");const e=this._formatRequest({method:"wallet_updateChain",params:[t]});return yield this._sendCallRequest(e)}))}unsafeSend(t,e){return this._sendRequest(t,e),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:e}]}),new Promise(((e,r)=>{this._subscribeToResponse(t.id,((t,n)=>{if(t)r(t);else{if(!n)throw new Error(FE.ERROR_MISSING_JSON_RPC);e(n)}}))}))}sendCustomRequest(t,e){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){if(!this._connected)throw new Error(FE.ERROR_SESSION_DISCONNECTED);switch(t.method){case"eth_accounts":return this.accounts;case"eth_chainId":return(0,jE.convertNumberToHex)(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":t.params&&(t.params[0]=(0,jE.parseTransactionData)(t.params[0]));break;case"personal_sign":t.params&&(t.params=(0,jE.parsePersonalSign)(t.params))}const r=this._formatRequest(t);return yield this._sendCallRequest(r,e)}))}approveRequest(t){if(!(0,jE.isJsonRpcResponseSuccess)(t))throw new Error(FE.ERROR_MISSING_RESULT);{const e=this._formatResponse(t);this._sendResponse(e)}}rejectRequest(t){if(!(0,jE.isJsonRpcResponseError)(t))throw new Error(FE.ERROR_MISSING_ERROR);{const e=this._formatResponse(t);this._sendResponse(e)}}transportClose(){this._transport.close()}_sendRequest(t,e){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){const r=this._formatRequest(t),n=yield this._encrypt(r),i=void 0!==(null==e?void 0:e.topic)?e.topic:this.peerId,o=JSON.stringify(n),s=void 0!==(null==e?void 0:e.forcePushNotification)?!e.forcePushNotification:(0,jE.isSilentPayload)(r);this._transport.send(o,i,s)}))}_sendResponse(t){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){const e=yield this._encrypt(t),r=this.peerId,n=JSON.stringify(e);this._transport.send(n,r,!0)}))}_sendSessionRequest(t,e,r){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){this._sendRequest(t,r),this._subscribeToSessionResponse(t.id,e)}))}_sendCallRequest(t,e){return this._sendRequest(t,e),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:e}]}),this._subscribeToCallResponse(t.id)}_formatRequest(t){if(void 0===t.method)throw new Error(FE.ERROR_MISSING_METHOD);return{id:void 0===t.id?(0,jE.payloadId)():t.id,jsonrpc:"2.0",method:t.method,params:void 0===t.params?[]:t.params}}_formatResponse(t){if(void 0===t.id)throw new Error(FE.ERROR_MISSING_ID);const e={id:t.id,jsonrpc:"2.0"};if((0,jE.isJsonRpcResponseError)(t)){const r=(0,jE.formatRpcError)(t.error);return Object.assign(Object.assign(Object.assign({},e),t),{error:r})}if((0,jE.isJsonRpcResponseSuccess)(t)){return Object.assign(Object.assign({},e),t)}throw new Error(FE.ERROR_INVALID_RESPONSE)}_handleSessionDisconnect(t){const e=t||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),(0,jE.removeLocal)(jE.mobileLinkChoiceKey)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:e}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(t,e){e&&e.approved?(this._connected?(e.chainId&&(this.chainId=e.chainId),e.accounts&&(this.accounts=e.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,e.chainId&&(this.chainId=e.chainId),e.accounts&&(this.accounts=e.accounts),e.peerId&&!this.peerId&&(this.peerId=e.peerId),e.peerMeta&&!this.peerMeta&&(this.peerMeta=e.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(t)}_handleIncomingMessages(t){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){if(![this.clientId,this.handshakeTopic].includes(t.topic))return;let e;try{e=JSON.parse(t.payload)}catch(t){return}const r=yield this._decrypt(e);r&&this._eventManager.trigger(r)}))}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(t,e){this.on(`response:${t}`,e)}_subscribeToSessionResponse(t,e){this._subscribeToResponse(t,((t,r)=>{t?this._handleSessionResponse(t.message):r.result?this._handleSessionResponse(e,r.result):r.error&&r.error.message?this._handleSessionResponse(r.error.message):this._handleSessionResponse(e)}))}_subscribeToCallResponse(t){return new Promise(((e,r)=>{this._subscribeToResponse(t,((t,n)=>{t?r(t):n.result?e(n.result):n.error&&n.error.message?r(new Error(n.error.message)):r(new Error(FE.ERROR_INVALID_RESPONSE))}))}))}_subscribeToInternalEvents(){this.on("display_uri",(()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,(()=>{this._eventManager.trigger({event:"modal_closed",params:[]})}),this._qrcodeModalOptions)})),this.on("connect",(()=>{this._qrcodeModal&&this._qrcodeModal.close()})),this.on("call_request_sent",((t,e)=>{const{request:r}=e.params[0];if((0,jE.isMobile)()&&this._signingMethods.includes(r.method)){const t=(0,jE.getLocal)(jE.mobileLinkChoiceKey);t&&(window.location.href=t.href)}})),this.on("wc_sessionRequest",((t,e)=>{t&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:t.toString()}]}),this.handshakeId=e.id,this.peerId=e.params[0].peerId,this.peerMeta=e.params[0].peerMeta;const r=Object.assign(Object.assign({},e),{method:"session_request"});this._eventManager.trigger(r)})),this.on("wc_sessionUpdate",((t,e)=>{t&&this._handleSessionResponse(t.message),this._handleSessionResponse("Session disconnected",e.params[0])}))}_initTransport(){this._transport.on("message",(t=>this._handleIncomingMessages(t))),this._transport.on("open",(()=>this._eventManager.trigger({event:"transport_open",params:[]}))),this._transport.on("close",(()=>this._eventManager.trigger({event:"transport_close",params:[]}))),this._transport.on("error",(()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]}))),this._transport.open()}_formatUri(){return`${this.protocol}:${this.handshakeTopic}@${this.version}?bridge=${encodeURIComponent(this.bridge)}&key=${this.key}`}_parseUri(t){const e=(0,jE.parseWalletConnectUri)(t);if(e.protocol===this.protocol){if(!e.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const t=e.handshakeTopic;if(!e.bridge)throw Error("Invalid or missing bridge url parameter value");const r=decodeURIComponent(e.bridge);if(!e.key)throw Error("Invalid or missing key parameter value");return{handshakeTopic:t,bridge:r,key:e.key}}throw new Error(FE.ERROR_INVALID_URI)}_generateKey(){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){if(this._cryptoLib){return yield this._cryptoLib.generateKey()}return null}))}_encrypt(t){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){const e=this._key;if(this._cryptoLib&&e){return yield this._cryptoLib.encrypt(t,e)}return null}))}_decrypt(t){return(0,UE.__awaiter)(this,void 0,void 0,(function*(){const e=this._key;if(this._cryptoLib&&e){return yield this._cryptoLib.decrypt(t,e)}return null}))}_getStorageSession(){let t=null;return this._sessionStorage&&(t=this._sessionStorage.getSession()),t}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(t){if(!t.url||"string"!=typeof t.url)throw Error("Invalid or missing pushServerOpts.url parameter value");if(!t.type||"string"!=typeof t.type)throw Error("Invalid or missing pushServerOpts.type parameter value");if(!t.token||"string"!=typeof t.token)throw Error("Invalid or missing pushServerOpts.token parameter value");const e={bridge:this.bridge,topic:this.clientId,type:t.type,token:t.token,peerName:"",language:t.language||""};this.on("connect",((r,n)=>(0,UE.__awaiter)(this,void 0,void 0,(function*(){if(r)throw r;if(t.peerMeta){const t=n.params[0].peerMeta.name;e.peerName=t}try{const r=yield fetch(`${t.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});if(!(yield r.json()).success)throw Error("Failed to register in Push Server")}catch(t){throw Error("Failed to register in Push Server")}}))))}};var WE={},GE={},VE={},KE=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(VE,"__esModule",{value:!0}),VE.randomBytes=void 0;const $E=KE(Py),ZE=vd;VE.randomBytes=function(t){const e=$E.default.randomBytes(t);return ZE.bufferToArray(e)};var JE={},YE={},XE={},QE={},tx={};Object.defineProperty(tx,"__esModule",{value:!0}),tx.LENGTH_1024=tx.LENGTH_512=tx.LENGTH_256=tx.LENGTH_128=tx.LENGTH_64=tx.LENGTH_32=tx.LENGTH_16=tx.LENGTH_1=tx.LENGTH_0=void 0,tx.LENGTH_0=0,tx.LENGTH_1=1,tx.LENGTH_16=16,tx.LENGTH_32=32,tx.LENGTH_64=64,tx.LENGTH_128=128,tx.LENGTH_256=256,tx.LENGTH_512=512,tx.LENGTH_1024=1024,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MAC_LENGTH=t.IV_LENGTH=t.KEY_LENGTH=t.PREFIX_LENGTH=t.RIPEMD160_NODE_ALGO=t.SHA512_NODE_ALGO=t.SHA256_NODE_ALGO=t.HMAC_NODE_ALGO=t.AES_NODE_ALGO=t.SHA512_BROWSER_ALGO=t.SHA256_BROWSER_ALGO=t.HMAC_BROWSER=t.HMAC_BROWSER_ALGO=t.AES_BROWSER_ALGO=t.HMAC_LENGTH=t.AES_LENGTH=void 0;const e=tx;t.AES_LENGTH=e.LENGTH_256,t.HMAC_LENGTH=e.LENGTH_256,t.AES_BROWSER_ALGO="AES-CBC",t.HMAC_BROWSER_ALGO=`SHA-${t.AES_LENGTH}`,t.HMAC_BROWSER="HMAC",t.SHA256_BROWSER_ALGO="SHA-256",t.SHA512_BROWSER_ALGO="SHA-512",t.AES_NODE_ALGO=`aes-${t.AES_LENGTH}-cbc`,t.HMAC_NODE_ALGO=`sha${t.HMAC_LENGTH}`,t.SHA256_NODE_ALGO="sha256",t.SHA512_NODE_ALGO="sha512",t.RIPEMD160_NODE_ALGO="ripemd160",t.PREFIX_LENGTH=e.LENGTH_1,t.KEY_LENGTH=e.LENGTH_32,t.IV_LENGTH=e.LENGTH_16,t.MAC_LENGTH=e.LENGTH_32}(QE);var ex={};Object.defineProperty(ex,"__esModule",{value:!0}),ex.UTF8_ENC=ex.HEX_ENC=void 0,ex.HEX_ENC="hex",ex.UTF8_ENC="utf8";var rx={};Object.defineProperty(rx,"__esModule",{value:!0}),rx.ERROR_BAD_MAC=void 0,rx.ERROR_BAD_MAC="Bad MAC";var nx={};Object.defineProperty(nx,"__esModule",{value:!0}),nx.VERIFY_OP=nx.SIGN_OP=nx.DECRYPT_OP=nx.ENCRYPT_OP=void 0,nx.ENCRYPT_OP="encrypt",nx.DECRYPT_OP="decrypt",nx.SIGN_OP="sign",nx.VERIFY_OP="verify",function(t){var e=ft&&ft.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),r=ft&&ft.__exportStar||function(t,r){for(var n in t)"default"===n||r.hasOwnProperty(n)||e(r,t,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(QE,t),r(ex,t),r(rx,t),r(tx,t),r(nx,t)}(XE);var ix=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(YE,"__esModule",{value:!0}),YE.nodeRipemd160=YE.nodeSha512=YE.nodeSha256=YE.nodeHmacSha512Sign=YE.nodeHmacSha256Sign=YE.nodeAesDecrypt=YE.nodeAesEncrypt=void 0;const ox=ix(Py),sx=vd,ax=XE;YE.nodeAesEncrypt=function(t,e,r){const n=ox.default.createCipheriv(ax.AES_NODE_ALGO,Nf.from(e),Nf.from(t));return sx.bufferToArray(sx.concatBuffers(n.update(Nf.from(r)),n.final()))},YE.nodeAesDecrypt=function(t,e,r){const n=ox.default.createDecipheriv(ax.AES_NODE_ALGO,Nf.from(e),Nf.from(t));return sx.bufferToArray(sx.concatBuffers(n.update(Nf.from(r)),n.final()))},YE.nodeHmacSha256Sign=function(t,e){const r=ox.default.createHmac(ax.HMAC_NODE_ALGO,Nf.from(t)).update(Nf.from(e)).digest();return sx.bufferToArray(r)},YE.nodeHmacSha512Sign=function(t,e){const r=ox.default.createHmac(ax.SHA512_NODE_ALGO,Nf.from(t)).update(Nf.from(e)).digest();return sx.bufferToArray(r)},YE.nodeSha256=function(t){const e=ox.default.createHash(ax.SHA256_NODE_ALGO).update(Nf.from(t)).digest();return sx.bufferToArray(e)},YE.nodeSha512=function(t){const e=ox.default.createHash(ax.SHA512_NODE_ALGO).update(Nf.from(t)).digest();return sx.bufferToArray(e)},YE.nodeRipemd160=function(t){const e=ox.default.createHash(ax.RIPEMD160_NODE_ALGO).update(Nf.from(t)).digest();return sx.bufferToArray(e)};var ux=ft&&ft.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):function(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(s,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(JE,"__esModule",{value:!0}),JE.aesCbcDecrypt=JE.aesCbcEncrypt=void 0;const cx=YE;JE.aesCbcEncrypt=function(t,e,r){return ux(this,void 0,void 0,(function*(){return cx.nodeAesEncrypt(t,e,r)}))},JE.aesCbcDecrypt=function(t,e,r){return ux(this,void 0,void 0,(function*(){return cx.nodeAesDecrypt(t,e,r)}))};var lx={},hx={},fx={};!function(t){var e=ft&&ft.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),r=ft&&ft.__exportStar||function(t,r){for(var n in t)"default"===n||r.hasOwnProperty(n)||e(r,t,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(Rp,t)}(fx);var dx={};Object.defineProperty(dx,"__esModule",{value:!0}),dx.pkcs7=void 0;const px=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]];dx.pkcs7={pad(t){const e=px[t.byteLength%16||0],r=new Uint8Array(t.byteLength+e.length);return r.set(t),r.set(e,t.byteLength),r},unpad:t=>t.subarray(0,t.byteLength-t[t.byteLength-1])};var mx={};Object.defineProperty(mx,"__esModule",{value:!0});var gx={};Object.defineProperty(gx,"__esModule",{value:!0}),gx.isConstantTime=gx.assert=void 0,gx.assert=function(t,e){if(!t)throw new Error(e||"Assertion failed")},gx.isConstantTime=function(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return 0===r},function(t){var e=ft&&ft.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),r=ft&&ft.__exportStar||function(t,r){for(var n in t)"default"===n||r.hasOwnProperty(n)||e(r,t,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(fx,t),r(dx,t),r(mx,t),r(gx,t)}(hx);var yx=ft&&ft.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):function(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(s,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(lx,"__esModule",{value:!0}),lx.hmacSha512Verify=lx.hmacSha512Sign=lx.hmacSha256Verify=lx.hmacSha256Sign=void 0;const vx=hx,_x=YE;lx.hmacSha256Sign=function(t,e){return yx(this,void 0,void 0,(function*(){return _x.nodeHmacSha256Sign(t,e)}))},lx.hmacSha256Verify=function(t,e,r){return yx(this,void 0,void 0,(function*(){const n=_x.nodeHmacSha256Sign(t,e);return vx.isConstantTime(n,r)}))},lx.hmacSha512Sign=function(t,e){return yx(this,void 0,void 0,(function*(){return _x.nodeHmacSha512Sign(t,e)}))},lx.hmacSha512Verify=function(t,e,r){return yx(this,void 0,void 0,(function*(){const n=_x.nodeHmacSha512Sign(t,e);return vx.isConstantTime(n,r)}))};var bx={},wx=ft&&ft.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):function(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(s,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(bx,"__esModule",{value:!0}),bx.ripemd160=bx.sha512=bx.sha256=void 0;const Ex=YE;bx.sha256=function(t){return wx(this,void 0,void 0,(function*(){return Ex.nodeSha256(t)}))},bx.sha512=function(t){return wx(this,void 0,void 0,(function*(){return Ex.nodeSha512(t)}))},bx.ripemd160=function(t){return wx(this,void 0,void 0,(function*(){return Ex.nodeRipemd160(t)}))},function(t){var e=ft&&ft.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),r=ft&&ft.__exportStar||function(t,r){for(var n in t)"default"===n||r.hasOwnProperty(n)||e(r,t,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(VE,t),r(JE,t),r(lx,t),r(bx,t),r(hx,t),r(XE,t)}(GE),Object.defineProperty(WE,"__esModule",{value:!0}),WE.decrypt=WE.encrypt=WE.verifyHmac=WE.generateKey=void 0;const xx=Nh,Sx=(0,xx.__importStar)(GE),Mx=(0,xx.__importStar)(vd),kx=Uh;function Ax(t){return(0,xx.__awaiter)(this,void 0,void 0,(function*(){const e=(t||256)/8,r=Sx.randomBytes(e);return(0,kx.convertBufferToArrayBuffer)(Mx.arrayToBuffer(r))}))}function Rx(t,e){return(0,xx.__awaiter)(this,void 0,void 0,(function*(){const r=Mx.hexToArray(t.data),n=Mx.hexToArray(t.iv),i=Mx.hexToArray(t.hmac),o=Mx.arrayToHex(i,!1),s=Mx.concatArrays(r,n),a=yield Sx.hmacSha256Sign(e,s),u=Mx.arrayToHex(a,!1);return Mx.removeHexPrefix(o)===Mx.removeHexPrefix(u)}))}WE.generateKey=Ax,WE.verifyHmac=Rx,WE.encrypt=function(t,e,r){return(0,xx.__awaiter)(this,void 0,void 0,(function*(){const n=Mx.bufferToArray((0,kx.convertArrayBufferToBuffer)(e)),i=r||(yield Ax(128)),o=Mx.bufferToArray((0,kx.convertArrayBufferToBuffer)(i)),s=Mx.arrayToHex(o,!1),a=JSON.stringify(t),u=Mx.utf8ToArray(a),c=yield Sx.aesCbcEncrypt(o,n,u),l=Mx.arrayToHex(c,!1),h=Mx.concatArrays(c,o),f=yield Sx.hmacSha256Sign(n,h);return{data:l,hmac:Mx.arrayToHex(f,!1),iv:s}}))},WE.decrypt=function(t,e){return(0,xx.__awaiter)(this,void 0,void 0,(function*(){const r=Mx.bufferToArray((0,kx.convertArrayBufferToBuffer)(e));if(!r)throw new Error("Missing key: required for decryption");if(!(yield Rx(t,r)))return null;const n=Mx.hexToArray(t.data),i=Mx.hexToArray(t.iv),o=yield Sx.aesCbcDecrypt(i,r,n),s=Mx.arrayToUtf8(o);let a;try{a=JSON.parse(s)}catch(t){return null}return a}))},Object.defineProperty(Lh,"__esModule",{value:!0});const Tx=Nh,Ox=(0,Tx.__importDefault)(Bh),Ix=(0,Tx.__importStar)(WE);class Cx extends Ox.default{constructor(t,e){super({cryptoLib:Ix,connectorOpts:t,pushServerOpts:e})}}Lh.default=Cx;var Px={},Nx=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},Lx={},Bx={},Ux=function(){try{if(!Nf.isEncoding("latin1"))return!1;var t=Nf.alloc?Nf.alloc(4):new Nf(4);return t.fill("ab","ucs2"),"61006200"===t.toString("hex")}catch(t){return!1}}();function jx(t,e,r,n){if(r<0||n>t.length)throw new RangeError("Out of range index");return r>>>=0,(n=void 0===n?t.length:n>>>0)>r&&t.fill(e,r,n),t}var Dx=function(t,e,r,n,i){if(Ux)return t.fill(e,r,n,i);if("number"==typeof e)return jx(t,e,r,n);if("string"==typeof e){if("string"==typeof r?(i=r,r=0,n=t.length):"string"==typeof n&&(i=n,n=t.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("latin1"===i&&(i="binary"),"string"==typeof i&&!Nf.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(""===e)return jx(t,0,r,n);if(function(t){return 1===t.length&&t.charCodeAt(0)<256}(e))return jx(t,e.charCodeAt(0),r,n);e=new Nf(e,i)}return Nf.isBuffer(e)?function(t,e,r,n){if(r<0||n>t.length)throw new RangeError("Out of range index");if(n<=r)return t;r>>>=0,n=void 0===n?t.length:n>>>0;for(var i=r,o=e.length;i<=n-o;)e.copy(t,i),i+=o;return i!==n&&e.copy(t,i,0,n-i),t}(t,e,r,n):jx(t,0,r,n)};var Fx=Dx,zx=function(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative');return Nf.allocUnsafe?Nf.allocUnsafe(t):new Nf(t)},qx=Object.prototype.toString,Hx="function"==typeof Nf.alloc&&"function"==typeof Nf.allocUnsafe&&"function"==typeof Nf.from;var Wx=function(t,e,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return n=t,"ArrayBuffer"===qx.call(n).slice(8,-1)?function(t,e,r){e>>>=0;var n=t.byteLength-e;if(n<0)throw new RangeError("'offset' is out of bounds");if(void 0===r)r=n;else if((r>>>=0)>n)throw new RangeError("'length' is out of bounds");return Hx?Nf.from(t.slice(e,e+r)):new Nf(new Uint8Array(t.slice(e,e+r)))}(t,e,r):"string"==typeof t?function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!Nf.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');return Hx?Nf.from(t,e):new Nf(t,e)}(t,e):Hx?Nf.from(t):new Nf(t);var n};Bx.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative');if(Nf.alloc)return Nf.alloc(t,e,r);var n=zx(t);return 0===t?n:void 0===e?Fx(n,0):("string"!=typeof r&&(r=void 0),Fx(n,e,r))},Bx.from=Wx;var Gx,Vx={},Kx=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Vx.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},Vx.getSymbolTotalCodewords=function(t){return Kx[t]},Vx.getBCHDigit=function(t){for(var e=0;0!==t;)e++,t>>>=1;return e},Vx.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');Gx=t},Vx.isKanjiModeEnabled=function(){return void 0!==Gx},Vx.toSJIS=function(t){return Gx(t)};var $x,Zx={};function Jx(){this.buffer=[],this.length=0}($x=Zx).L={bit:1},$x.M={bit:0},$x.Q={bit:3},$x.H={bit:2},$x.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},$x.from=function(t,e){if($x.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return $x.L;case"m":case"medium":return $x.M;case"q":case"quartile":return $x.Q;case"h":case"high":return $x.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return e}},Jx.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Yx=Jx,Xx=Bx;function Qx(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=Xx.alloc(t*t),this.reservedBit=Xx.alloc(t*t)}Qx.prototype.set=function(t,e,r,n){var i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)},Qx.prototype.get=function(t,e){return this.data[t*this.size+e]},Qx.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},Qx.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var tS=Qx,eS={};!function(t){var e=Vx.getSymbolSize;t.getRowColCoords=function(t){if(1===t)return[];for(var r=Math.floor(t/7)+2,n=e(t),i=145===n?26:2*Math.ceil((n-13)/(2*r-2)),o=[n-7],s=1;s<r-1;s++)o[s]=o[s-1]-i;return o.push(6),o.reverse()},t.getPositions=function(e){for(var r=[],n=t.getRowColCoords(e),i=n.length,o=0;o<i;o++)for(var s=0;s<i;s++)0===o&&0===s||0===o&&s===i-1||o===i-1&&0===s||r.push([n[o],n[s]]);return r}}(eS);var rS={},nS=Vx.getSymbolSize;rS.getPositions=function(t){var e=nS(t);return[[0,0],[e-7,0],[0,e-7]]};var iS={};!function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var e=3,r=3,n=40,i=10;function o(e,r,n){switch(e){case t.Patterns.PATTERN000:return(r+n)%2==0;case t.Patterns.PATTERN001:return r%2==0;case t.Patterns.PATTERN010:return n%3==0;case t.Patterns.PATTERN011:return(r+n)%3==0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case t.Patterns.PATTERN101:return r*n%2+r*n%3==0;case t.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case t.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(t){for(var r=t.size,n=0,i=0,o=0,s=null,a=null,u=0;u<r;u++){i=o=0,s=a=null;for(var c=0;c<r;c++){var l=t.get(u,c);l===s?i++:(i>=5&&(n+=e+(i-5)),s=l,i=1),(l=t.get(c,u))===a?o++:(o>=5&&(n+=e+(o-5)),a=l,o=1)}i>=5&&(n+=e+(i-5)),o>=5&&(n+=e+(o-5))}return n},t.getPenaltyN2=function(t){for(var e=t.size,n=0,i=0;i<e-1;i++)for(var o=0;o<e-1;o++){var s=t.get(i,o)+t.get(i,o+1)+t.get(i+1,o)+t.get(i+1,o+1);4!==s&&0!==s||n++}return n*r},t.getPenaltyN3=function(t){for(var e=t.size,r=0,i=0,o=0,s=0;s<e;s++){i=o=0;for(var a=0;a<e;a++)i=i<<1&2047|t.get(s,a),a>=10&&(1488===i||93===i)&&r++,o=o<<1&2047|t.get(a,s),a>=10&&(1488===o||93===o)&&r++}return r*n},t.getPenaltyN4=function(t){for(var e=0,r=t.data.length,n=0;n<r;n++)e+=t.data[n];return Math.abs(Math.ceil(100*e/r/5)-10)*i},t.applyMask=function(t,e){for(var r=e.size,n=0;n<r;n++)for(var i=0;i<r;i++)e.isReserved(i,n)||e.xor(i,n,o(t,i,n))},t.getBestMask=function(e,r){for(var n=Object.keys(t.Patterns).length,i=0,o=1/0,s=0;s<n;s++){r(s),t.applyMask(s,e);var a=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(s,e),a<o&&(o=a,i=s)}return i}}(iS);var oS={},sS=Zx,aS=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],uS=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];oS.getBlocksCount=function(t,e){switch(e){case sS.L:return aS[4*(t-1)+0];case sS.M:return aS[4*(t-1)+1];case sS.Q:return aS[4*(t-1)+2];case sS.H:return aS[4*(t-1)+3];default:return}},oS.getTotalCodewordsCount=function(t,e){switch(e){case sS.L:return uS[4*(t-1)+0];case sS.M:return uS[4*(t-1)+1];case sS.Q:return uS[4*(t-1)+2];case sS.H:return uS[4*(t-1)+3];default:return}};var cS={},lS={},hS=Bx,fS=hS.alloc(512),dS=hS.alloc(256);!function(){for(var t=1,e=0;e<255;e++)fS[e]=t,dS[t]=e,256&(t<<=1)&&(t^=285);for(e=255;e<512;e++)fS[e]=fS[e-255]}(),lS.log=function(t){if(t<1)throw new Error("log("+t+")");return dS[t]},lS.exp=function(t){return fS[t]},lS.mul=function(t,e){return 0===t||0===e?0:fS[dS[t]+dS[e]]},function(t){var e=Bx,r=lS;t.mul=function(t,n){for(var i=e.alloc(t.length+n.length-1),o=0;o<t.length;o++)for(var s=0;s<n.length;s++)i[o+s]^=r.mul(t[o],n[s]);return i},t.mod=function(t,n){for(var i=e.from(t);i.length-n.length>=0;){for(var o=i[0],s=0;s<n.length;s++)i[s]^=r.mul(n[s],o);for(var a=0;a<i.length&&0===i[a];)a++;i=i.slice(a)}return i},t.generateECPolynomial=function(n){for(var i=e.from([1]),o=0;o<n;o++)i=t.mul(i,[1,r.exp(o)]);return i}}(cS);var pS={};
/*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     */!function(t){var e=Fm,r=Jm,n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},t.INSPECT_MAX_BYTES=50;var i=2147483647;function o(t){if(t>i)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,s.prototype),e}function s(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}return a(t,e,r)}function a(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|d(t,e),n=o(r),i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(D(t,Uint8Array)){var e=new Uint8Array(t);return h(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(D(t,ArrayBuffer)||t&&D(t.buffer,ArrayBuffer))return h(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(D(t,SharedArrayBuffer)||t&&D(t.buffer,SharedArrayBuffer)))return h(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return s.from(n,e,r);var i=function(t){if(s.isBuffer(t)){var e=0|f(t.length),r=o(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||F(t.length)?o(0):l(t);if("Buffer"===t.type&&Array.isArray(t.data))return l(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return s.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return u(t),o(t<0?0:0|f(t))}function l(t){for(var e=t.length<0?0:0|f(t.length),r=o(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function h(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,s.prototype),n}function f(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function d(t,e){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||D(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(t).length;default:if(i)return n?-1:B(t).length;e=(""+e).toLowerCase(),i=!0}}function p(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return S(this,e,r);case"ascii":return k(this,e,r);case"latin1":case"binary":return A(this,e,r);case"base64":return x(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),F(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:y(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){h=!1;break}if(h)return o}return-1}function v(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(F(a))return s;t[r+s]=a}return s}function _(t,e,r,n){return j(B(e,t.length-r),t,r,n)}function b(t,e,r,n){return j(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function w(t,e,r,n){return j(U(e),t,r,n)}function E(t,e,r,n){return j(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function x(t,r,n){return 0===r&&n===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(r,n))}function S(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}return function(t){var e=t.length;if(e<=M)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=M));return r}(n)}t.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(t,e,r){return a(t,e,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(t,e,r){return function(t,e,r){return u(t),t<=0?o(t):void 0!==e?"string"==typeof r?o(t).fill(e,r):o(t).fill(e):o(t)}(t,e,r)},s.allocUnsafe=function(t){return c(t)},s.allocUnsafeSlow=function(t){return c(t)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==s.prototype},s.compare=function(t,e){if(D(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),D(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=s.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(D(o,Uint8Array))i+o.length>n.length?s.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},s.byteLength=d,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},s.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(t,e,r,n,i){if(D(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),u=Math.min(o,a),c=this.slice(n,i),l=t.slice(e,r),h=0;h<u;++h)if(c[h]!==l[h]){o=c[h],a=l[h];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},s.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},s.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},s.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":case"latin1":case"binary":return b(this,t,e,r);case"base64":return w(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function k(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function A(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=z[t[o]];return i}function T(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function O(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,r,n,i,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function C(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function P(t,e,n,i,o){return e=+e,n>>>=0,o||C(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function N(t,e,n,i,o){return e=+e,n>>>=0,o||C(t,0,n,8),r.write(t,e,n,i,52,8),n+8}s.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},s.prototype.readUint8=s.prototype.readUInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),this[t]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){t>>>=0,e||O(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(t,e){t>>>=0,e||O(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return t>>>=0,e||O(t,4,this.length),r.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return t>>>=0,e||O(t,4,this.length),r.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return t>>>=0,e||O(t,8,this.length),r.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return t>>>=0,e||O(t,8,this.length),r.read(this,t,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||I(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||I(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,1,255,0),this[e]=255&t,e+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);I(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},s.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);I(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},s.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},s.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeFloatLE=function(t,e,r){return P(this,t,e,!0,r)},s.prototype.writeFloatBE=function(t,e,r){return P(this,t,e,!1,r)},s.prototype.writeDoubleLE=function(t,e,r){return N(this,t,e,!0,r)},s.prototype.writeDoubleBE=function(t,e,r){return N(this,t,e,!1,r)},s.prototype.copy=function(t,e,r,n){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},s.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=s.isBuffer(t)?t:s.from(t,n),u=a.length;if(0===u)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=a[o%u]}return this};var L=/[^+/0-9A-Za-z-_]/g;function B(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function U(t){return e.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function j(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function D(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function F(t){return t!=t}var z=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()}(pS);var mS=Bx,gS=cS,yS=pS.Buffer;function vS(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}vS.prototype.initialize=function(t){this.degree=t,this.genPoly=gS.generateECPolynomial(this.degree)},vS.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var e=mS.alloc(this.degree),r=yS.concat([t,e],t.length+this.degree),n=gS.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){var o=mS.alloc(this.degree);return n.copy(o,i),o}return n};var _S=vS,bS={},wS={},ES={isValid:function(t){return!isNaN(t)&&t>=1&&t<=40}},xS={},SS="[0-9]+",MS="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",kS="(?:(?![A-Z0-9 $%*+\\-./:]|"+(MS=MS.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";xS.KANJI=new RegExp(MS,"g"),xS.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),xS.BYTE=new RegExp(kS,"g"),xS.NUMERIC=new RegExp(SS,"g"),xS.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var AS=new RegExp("^"+MS+"$"),RS=new RegExp("^[0-9]+$"),TS=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");xS.testKanji=function(t){return AS.test(t)},xS.testNumeric=function(t){return RS.test(t)},xS.testAlphanumeric=function(t){return TS.test(t)},function(t){var e=ES,r=xS;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(t,r){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!e.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?t.ccBits[0]:r<27?t.ccBits[1]:t.ccBits[2]},t.getBestModeForData=function(e){return r.testNumeric(e)?t.NUMERIC:r.testAlphanumeric(e)?t.ALPHANUMERIC:r.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},t.isValid=function(t){return t&&t.bit&&t.ccBits},t.from=function(e,r){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(t){return r}}}(wS);var OS={}.toString,IS=Array.isArray||function(t){return"[object Array]"==OS.call(t)};!function(t){var e=Vx,r=oS,n=Zx,i=wS,o=ES,s=IS,a=e.getBCHDigit(7973);function u(t,e){return i.getCharCountIndicator(t,e)+4}function c(t,e){var r=0;return t.forEach((function(t){var n=u(t.mode,e);r+=n+t.getBitsLength()})),r}t.from=function(t,e){return o.isValid(t)?parseInt(t,10):e},t.getCapacity=function(t,n,s){if(!o.isValid(t))throw new Error("Invalid QR Code version");void 0===s&&(s=i.BYTE);var a=8*(e.getSymbolTotalCodewords(t)-r.getTotalCodewordsCount(t,n));if(s===i.MIXED)return a;var c=a-u(s,t);switch(s){case i.NUMERIC:return Math.floor(c/10*3);case i.ALPHANUMERIC:return Math.floor(c/11*2);case i.KANJI:return Math.floor(c/13);case i.BYTE:default:return Math.floor(c/8)}},t.getBestVersionForData=function(e,r){var o,a=n.from(r,n.M);if(s(e)){if(e.length>1)return function(e,r){for(var n=1;n<=40;n++)if(c(e,n)<=t.getCapacity(n,r,i.MIXED))return n}(e,a);if(0===e.length)return 1;o=e[0]}else o=e;return function(e,r,n){for(var i=1;i<=40;i++)if(r<=t.getCapacity(i,n,e))return i}(o.mode,o.getLength(),a)},t.getEncodedBits=function(t){if(!o.isValid(t)||t<7)throw new Error("Invalid QR Code version");for(var r=t<<12;e.getBCHDigit(r)-a>=0;)r^=7973<<e.getBCHDigit(r)-a;return t<<12|r}}(bS);var CS={},PS=Vx,NS=PS.getBCHDigit(1335);CS.getEncodedBits=function(t,e){for(var r=t.bit<<3|e,n=r<<10;PS.getBCHDigit(n)-NS>=0;)n^=1335<<PS.getBCHDigit(n)-NS;return 21522^(r<<10|n)};var LS={},BS=wS;function US(t){this.mode=BS.NUMERIC,this.data=t.toString()}US.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},US.prototype.getLength=function(){return this.data.length},US.prototype.getBitsLength=function(){return US.getBitsLength(this.data.length)},US.prototype.write=function(t){var e,r,n;for(e=0;e+3<=this.data.length;e+=3)r=this.data.substr(e,3),n=parseInt(r,10),t.put(n,10);var i=this.data.length-e;i>0&&(r=this.data.substr(e),n=parseInt(r,10),t.put(n,3*i+1))};var jS=US,DS=wS,FS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function zS(t){this.mode=DS.ALPHANUMERIC,this.data=t}zS.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},zS.prototype.getLength=function(){return this.data.length},zS.prototype.getBitsLength=function(){return zS.getBitsLength(this.data.length)},zS.prototype.write=function(t){var e;for(e=0;e+2<=this.data.length;e+=2){var r=45*FS.indexOf(this.data[e]);r+=FS.indexOf(this.data[e+1]),t.put(r,11)}this.data.length%2&&t.put(FS.indexOf(this.data[e]),6)};var qS=zS,HS=Bx,WS=wS;function GS(t){this.mode=WS.BYTE,this.data=HS.from(t)}GS.getBitsLength=function(t){return 8*t},GS.prototype.getLength=function(){return this.data.length},GS.prototype.getBitsLength=function(){return GS.getBitsLength(this.data.length)},GS.prototype.write=function(t){for(var e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var VS=GS,KS=wS,$S=Vx;function ZS(t){this.mode=KS.KANJI,this.data=t}ZS.getBitsLength=function(t){return 13*t},ZS.prototype.getLength=function(){return this.data.length},ZS.prototype.getBitsLength=function(){return ZS.getBitsLength(this.data.length)},ZS.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var r=$S.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),t.put(r,13)}};var JS=ZS,YS={exports:{}};!function(t){var e={single_source_shortest_paths:function(t,r,n){var i={},o={};o[r]=0;var s,a,u,c,l,h,f,d=e.PriorityQueue.make();for(d.push(r,0);!d.empty();)for(u in a=(s=d.pop()).value,c=s.cost,l=t[a]||{})l.hasOwnProperty(u)&&(h=c+l[u],f=o[u],(void 0===o[u]||f>h)&&(o[u]=h,d.push(u,h),i[u]=a));if(void 0!==n&&void 0===o[n]){var p=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e;n;)r.push(n),n=t[n];return r.reverse(),r},find_path:function(t,r,n){var i=e.single_source_shortest_paths(t,r,n);return e.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(t){var r,n=e.PriorityQueue,i={};for(r in t=t||{},n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i.queue=[],i.sorter=t.sorter||n.default_sorter,i},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=e}(YS),function(t){var e=wS,r=jS,n=qS,i=VS,o=JS,s=xS,a=Vx,u=YS.exports;function c(t){return unescape(encodeURIComponent(t)).length}function l(t,e,r){for(var n,i=[];null!==(n=t.exec(r));)i.push({data:n[0],index:n.index,mode:e,length:n[0].length});return i}function h(t){var r,n,i=l(s.NUMERIC,e.NUMERIC,t),o=l(s.ALPHANUMERIC,e.ALPHANUMERIC,t);return a.isKanjiModeEnabled()?(r=l(s.BYTE,e.BYTE,t),n=l(s.KANJI,e.KANJI,t)):(r=l(s.BYTE_KANJI,e.BYTE,t),n=[]),i.concat(o,r,n).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function f(t,s){switch(s){case e.NUMERIC:return r.getBitsLength(t);case e.ALPHANUMERIC:return n.getBitsLength(t);case e.KANJI:return o.getBitsLength(t);case e.BYTE:return i.getBitsLength(t)}}function d(t,s){var u,c=e.getBestModeForData(t);if((u=e.from(s,c))!==e.BYTE&&u.bit<c.bit)throw new Error('"'+t+'" cannot be encoded with mode '+e.toString(u)+".\n Suggested mode is: "+e.toString(c));switch(u!==e.KANJI||a.isKanjiModeEnabled()||(u=e.BYTE),u){case e.NUMERIC:return new r(t);case e.ALPHANUMERIC:return new n(t);case e.KANJI:return new o(t);case e.BYTE:return new i(t)}}t.fromArray=function(t){return t.reduce((function(t,e){return"string"==typeof e?t.push(d(e,null)):e.data&&t.push(d(e.data,e.mode)),t}),[])},t.fromString=function(r,n){for(var i=function(t){for(var r=[],n=0;n<t.length;n++){var i=t[n];switch(i.mode){case e.NUMERIC:r.push([i,{data:i.data,mode:e.ALPHANUMERIC,length:i.length},{data:i.data,mode:e.BYTE,length:i.length}]);break;case e.ALPHANUMERIC:r.push([i,{data:i.data,mode:e.BYTE,length:i.length}]);break;case e.KANJI:r.push([i,{data:i.data,mode:e.BYTE,length:c(i.data)}]);break;case e.BYTE:r.push([{data:i.data,mode:e.BYTE,length:c(i.data)}])}}return r}(h(r,a.isKanjiModeEnabled())),o=function(t,r){for(var n={},i={start:{}},o=["start"],s=0;s<t.length;s++){for(var a=t[s],u=[],c=0;c<a.length;c++){var l=a[c],h=""+s+c;u.push(h),n[h]={node:l,lastCount:0},i[h]={};for(var d=0;d<o.length;d++){var p=o[d];n[p]&&n[p].node.mode===l.mode?(i[p][h]=f(n[p].lastCount+l.length,l.mode)-f(n[p].lastCount,l.mode),n[p].lastCount+=l.length):(n[p]&&(n[p].lastCount=l.length),i[p][h]=f(l.length,l.mode)+4+e.getCharCountIndicator(l.mode,r))}}o=u}for(d=0;d<o.length;d++)i[o[d]].end=0;return{map:i,table:n}}(i,n),s=u.find_path(o.map,"start","end"),l=[],d=1;d<s.length-1;d++)l.push(o.table[s[d]].node);return t.fromArray(function(t){return t.reduce((function(t,e){var r=t.length-1>=0?t[t.length-1]:null;return r&&r.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[])}(l))},t.rawSplit=function(e){return t.fromArray(h(e,a.isKanjiModeEnabled()))}}(LS);var XS=Bx,QS=Vx,tM=Zx,eM=Yx,rM=tS,nM=eS,iM=rS,oM=iS,sM=oS,aM=_S,uM=bS,cM=CS,lM=wS,hM=LS,fM=IS;function dM(t,e,r){var n,i,o=t.size,s=cM.getEncodedBits(e,r);for(n=0;n<15;n++)i=1==(s>>n&1),n<6?t.set(n,8,i,!0):n<8?t.set(n+1,8,i,!0):t.set(o-15+n,8,i,!0),n<8?t.set(8,o-n-1,i,!0):n<9?t.set(8,15-n-1+1,i,!0):t.set(8,15-n-1,i,!0);t.set(o-8,8,1,!0)}function pM(t,e,r){var n=new eM;r.forEach((function(e){n.put(e.mode.bit,4),n.put(e.getLength(),lM.getCharCountIndicator(e.mode,t)),e.write(n)}));var i=8*(QS.getSymbolTotalCodewords(t)-sM.getTotalCodewordsCount(t,e));for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(0);for(var o=(i-n.getLengthInBits())/8,s=0;s<o;s++)n.put(s%2?17:236,8);return function(t,e,r){for(var n=QS.getSymbolTotalCodewords(e),i=sM.getTotalCodewordsCount(e,r),o=n-i,s=sM.getBlocksCount(e,r),a=s-n%s,u=Math.floor(n/s),c=Math.floor(o/s),l=c+1,h=u-c,f=new aM(h),d=0,p=new Array(s),m=new Array(s),g=0,y=XS.from(t.buffer),v=0;v<s;v++){var _=v<a?c:l;p[v]=y.slice(d,d+_),m[v]=f.encode(p[v]),d+=_,g=Math.max(g,_)}var b,w,E=XS.alloc(n),x=0;for(b=0;b<g;b++)for(w=0;w<s;w++)b<p[w].length&&(E[x++]=p[w][b]);for(b=0;b<h;b++)for(w=0;w<s;w++)E[x++]=m[w][b];return E}(n,t,e)}function mM(t,e,r,n){var i;if(fM(t))i=hM.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");var o=e;if(!o){var s=hM.rawSplit(t);o=uM.getBestVersionForData(s,r)}i=hM.fromString(t,o||40)}var a=uM.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<a)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+a+".\n")}else e=a;var u=pM(e,r,i),c=QS.getSymbolSize(e),l=new rM(c);return function(t,e){for(var r=t.size,n=iM.getPositions(e),i=0;i<n.length;i++)for(var o=n[i][0],s=n[i][1],a=-1;a<=7;a++)if(!(o+a<=-1||r<=o+a))for(var u=-1;u<=7;u++)s+u<=-1||r<=s+u||(a>=0&&a<=6&&(0===u||6===u)||u>=0&&u<=6&&(0===a||6===a)||a>=2&&a<=4&&u>=2&&u<=4?t.set(o+a,s+u,!0,!0):t.set(o+a,s+u,!1,!0))}(l,e),function(t){for(var e=t.size,r=8;r<e-8;r++){var n=r%2==0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}(l),function(t,e){for(var r=nM.getPositions(e),n=0;n<r.length;n++)for(var i=r[n][0],o=r[n][1],s=-2;s<=2;s++)for(var a=-2;a<=2;a++)-2===s||2===s||-2===a||2===a||0===s&&0===a?t.set(i+s,o+a,!0,!0):t.set(i+s,o+a,!1,!0)}(l,e),dM(l,r,0),e>=7&&function(t,e){for(var r,n,i,o=t.size,s=uM.getEncodedBits(e),a=0;a<18;a++)r=Math.floor(a/3),n=a%3+o-8-3,i=1==(s>>a&1),t.set(r,n,i,!0),t.set(n,r,i,!0)}(l,e),function(t,e){for(var r=t.size,n=-1,i=r-1,o=7,s=0,a=r-1;a>0;a-=2)for(6===a&&a--;;){for(var u=0;u<2;u++)if(!t.isReserved(i,a-u)){var c=!1;s<e.length&&(c=1==(e[s]>>>o&1)),t.set(i,a-u,c),-1==--o&&(s++,o=7)}if((i+=n)<0||r<=i){i-=n,n=-n;break}}}(l,u),isNaN(n)&&(n=oM.getBestMask(l,dM.bind(null,l,r))),oM.applyMask(n,l),dM(l,r,n),{modules:l,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}Lx.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");var r,n,i=tM.M;return void 0!==e&&(i=tM.from(e.errorCorrectionLevel,tM.M),r=uM.from(e.version),n=oM.from(e.maskPattern),e.toSJISFunc&&QS.setToSJISFunction(e.toSJISFunc)),mM(t,r,i,n)};var gM={},yM=dt(Object.freeze({__proto__:null,default:{}})),vM={},_M={exports:{}},bM={exports:{}},wM=Pm,EM=Tb,xM=bM.exports=function(){EM.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};wM.inherits(xM,EM),xM.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e}),le.nextTick(function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},xM.prototype.write=function(t,e){return this.writable?(r=Nf.isBuffer(t)?t:new Nf(t,e||this._encoding),this._buffers.push(r),this._buffered+=r.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused):(this.emit("error",new Error("Stream not writable")),!1);var r},xM.prototype.end=function(t,e){t&&this.write(t,e),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},xM.prototype.destroySoon=xM.prototype.end,xM.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},xM.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},xM.prototype._processReadAllowingLess=function(t){this._reads.shift();var e=this._buffers[0];e.length>t.length?(this._buffered-=t.length,this._buffers[0]=e.slice(t.length),t.func.call(this,e.slice(0,t.length))):(this._buffered-=e.length,this._buffers.shift(),t.func.call(this,e))},xM.prototype._processRead=function(t){this._reads.shift();for(var e=0,r=0,n=new Nf(t.length);e<t.length;){var i=this._buffers[r++],o=Math.min(i.length,t.length-e);i.copy(n,e,0,o),e+=o,o!==i.length&&(this._buffers[--r]=i.slice(o))}r>0&&this._buffers.splice(0,r),this._buffered-=t.length,t.func.call(this,n)},xM.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var t=this._reads[0];if(t.allowLess)this._processReadAllowingLess(t);else{if(!(this._buffered>=t.length))break;this._processRead(t)}}this._buffers&&!this.writable&&this._end()}catch(t){this.emit("error",t)}};var SM={exports:{}},MM={exports:{}},kM={},AM=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];kM.getImagePasses=function(t,e){for(var r=[],n=t%8,i=e%8,o=(t-n)/8,s=(e-i)/8,a=0;a<AM.length;a++){for(var u=AM[a],c=o*u.x.length,l=s*u.y.length,h=0;h<u.x.length&&u.x[h]<n;h++)c++;for(h=0;h<u.y.length&&u.y[h]<i;h++)l++;c>0&&l>0&&r.push({width:c,height:l,index:a})}return r},kM.getInterlaceIterator=function(t){return function(e,r,n){var i=e%AM[n].x.length,o=(e-i)/AM[n].x.length*8+AM[n].x[i],s=r%AM[n].y.length;return 4*o+((r-s)/AM[n].y.length*8+AM[n].y[s])*t*4}};var RM=function(t,e,r){var n=t+e-r,i=Math.abs(n-t),o=Math.abs(n-e),s=Math.abs(n-r);return i<=o&&i<=s?t:o<=s?e:r},TM=kM,OM=RM;function IM(t,e,r){var n=t*e;return 8!==r&&(n=Math.ceil(n/(8/r))),n}var CM=MM.exports=function(t,e){var r=t.width,n=t.height,i=t.interlace,o=t.bpp,s=t.depth;if(this.read=e.read,this.write=e.write,this.complete=e.complete,this._imageIndex=0,this._images=[],i)for(var a=TM.getImagePasses(r,n),u=0;u<a.length;u++)this._images.push({byteWidth:IM(a[u].width,o,s),height:a[u].height,lineIndex:0});else this._images.push({byteWidth:IM(r,o,s),height:n,lineIndex:0});this._xComparison=8===s?o:16===s?2*o:1};CM.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},CM.prototype._unFilterType1=function(t,e,r){for(var n=this._xComparison,i=n-1,o=0;o<r;o++){var s=t[1+o],a=o>i?e[o-n]:0;e[o]=s+a}},CM.prototype._unFilterType2=function(t,e,r){for(var n=this._lastLine,i=0;i<r;i++){var o=t[1+i],s=n?n[i]:0;e[i]=o+s}},CM.prototype._unFilterType3=function(t,e,r){for(var n=this._xComparison,i=n-1,o=this._lastLine,s=0;s<r;s++){var a=t[1+s],u=o?o[s]:0,c=s>i?e[s-n]:0,l=Math.floor((c+u)/2);e[s]=a+l}},CM.prototype._unFilterType4=function(t,e,r){for(var n=this._xComparison,i=n-1,o=this._lastLine,s=0;s<r;s++){var a=t[1+s],u=o?o[s]:0,c=s>i?e[s-n]:0,l=s>i&&o?o[s-n]:0,h=OM(c,u,l);e[s]=a+h}},CM.prototype._reverseFilterLine=function(t){var e,r=t[0],n=this._images[this._imageIndex],i=n.byteWidth;if(0===r)e=t.slice(1,i+1);else switch(e=new Nf(i),r){case 1:this._unFilterType1(t,e,i);break;case 2:this._unFilterType2(t,e,i);break;case 3:this._unFilterType3(t,e,i);break;case 4:this._unFilterType4(t,e,i);break;default:throw new Error("Unrecognised filter type - "+r)}this.write(e),n.lineIndex++,n.lineIndex>=n.height?(this._lastLine=null,this._imageIndex++,n=this._images[this._imageIndex]):this._lastLine=e,n?this.read(n.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())};var PM=Pm,NM=bM.exports,LM=MM.exports,BM=SM.exports=function(t){NM.call(this);var e=[],r=this;this._filter=new LM(t,{read:this.read.bind(this),write:function(t){e.push(t)},complete:function(){r.emit("complete",Nf.concat(e))}}),this._filter.start()};PM.inherits(BM,NM);var UM={exports:{}},jM={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5},DM={exports:{}},FM=[];!function(){for(var t=0;t<256;t++){for(var e=t,r=0;r<8;r++)1&e?e=3988292384^e>>>1:e>>>=1;FM[t]=e}}();var zM=DM.exports=function(){this._crc=-1};zM.prototype.write=function(t){for(var e=0;e<t.length;e++)this._crc=FM[255&(this._crc^t[e])]^this._crc>>>8;return!0},zM.prototype.crc32=function(){return-1^this._crc},zM.crc32=function(t){for(var e=-1,r=0;r<t.length;r++)e=FM[255&(e^t[r])]^e>>>8;return-1^e};var qM=jM,HM=DM.exports,WM=UM.exports=function(t,e){this._options=t,t.checkCRC=!1!==t.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[qM.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[qM.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[qM.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[qM.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[qM.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[qM.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=e.read,this.error=e.error,this.metadata=e.metadata,this.gamma=e.gamma,this.transColor=e.transColor,this.palette=e.palette,this.parsed=e.parsed,this.inflateData=e.inflateData,this.finished=e.finished,this.simpleTransparency=e.simpleTransparency,this.headersFinished=e.headersFinished||function(){}};WM.prototype.start=function(){this.read(qM.PNG_SIGNATURE.length,this._parseSignature.bind(this))},WM.prototype._parseSignature=function(t){for(var e=qM.PNG_SIGNATURE,r=0;r<e.length;r++)if(t[r]!==e[r])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},WM.prototype._parseChunkBegin=function(t){for(var e=t.readUInt32BE(0),r=t.readUInt32BE(4),n="",i=4;i<8;i++)n+=String.fromCharCode(t[i]);var o=Boolean(32&t[4]);if(this._hasIHDR||r===qM.TYPE_IHDR){if(this._crc=new HM,this._crc.write(new Nf(n)),this._chunks[r])return this._chunks[r](e);o?this.read(e+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+n))}else this.error(new Error("Expected IHDR on beggining"))},WM.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},WM.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},WM.prototype._parseChunkEnd=function(t){var e=t.readInt32BE(0),r=this._crc.crc32();this._options.checkCRC&&r!==e?this.error(new Error("Crc error - "+e+" - "+r)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},WM.prototype._handleIHDR=function(t){this.read(t,this._parseIHDR.bind(this))},WM.prototype._parseIHDR=function(t){this._crc.write(t);var e=t.readUInt32BE(0),r=t.readUInt32BE(4),n=t[8],i=t[9],o=t[10],s=t[11],a=t[12];if(8===n||4===n||2===n||1===n||16===n)if(i in qM.COLORTYPE_TO_BPP_MAP)if(0===o)if(0===s)if(0===a||1===a){this._colorType=i;var u=qM.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:e,height:r,depth:n,interlace:Boolean(a),palette:Boolean(i&qM.COLORTYPE_PALETTE),color:Boolean(i&qM.COLORTYPE_COLOR),alpha:Boolean(i&qM.COLORTYPE_ALPHA),bpp:u,colorType:i}),this._handleChunkEnd()}else this.error(new Error("Unsupported interlace method"));else this.error(new Error("Unsupported filter method"));else this.error(new Error("Unsupported compression method"));else this.error(new Error("Unsupported color type"));else this.error(new Error("Unsupported bit depth "+n))},WM.prototype._handlePLTE=function(t){this.read(t,this._parsePLTE.bind(this))},WM.prototype._parsePLTE=function(t){this._crc.write(t);for(var e=Math.floor(t.length/3),r=0;r<e;r++)this._palette.push([t[3*r],t[3*r+1],t[3*r+2],255]);this.palette(this._palette),this._handleChunkEnd()},WM.prototype._handleTRNS=function(t){this.simpleTransparency(),this.read(t,this._parseTRNS.bind(this))},WM.prototype._parseTRNS=function(t){if(this._crc.write(t),this._colorType===qM.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(new Error("Transparency chunk must be after palette"));if(t.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(var e=0;e<t.length;e++)this._palette[e][3]=t[e];this.palette(this._palette)}this._colorType===qM.COLORTYPE_GRAYSCALE&&this.transColor([t.readUInt16BE(0)]),this._colorType===qM.COLORTYPE_COLOR&&this.transColor([t.readUInt16BE(0),t.readUInt16BE(2),t.readUInt16BE(4)]),this._handleChunkEnd()},WM.prototype._handleGAMA=function(t){this.read(t,this._parseGAMA.bind(this))},WM.prototype._parseGAMA=function(t){this._crc.write(t),this.gamma(t.readUInt32BE(0)/qM.GAMMA_DIVISION),this._handleChunkEnd()},WM.prototype._handleIDAT=function(t){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-t,this._parseIDAT.bind(this,t))},WM.prototype._parseIDAT=function(t,e){if(this._crc.write(e),this._colorType===qM.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw new Error("Expected palette not found");this.inflateData(e);var r=t-e.length;r>0?this._handleIDAT(r):this._handleChunkEnd()},WM.prototype._handleIEND=function(t){this.read(t,this._parseIEND.bind(this))},WM.prototype._parseIEND=function(t){this._crc.write(t),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()};var GM={},VM=kM,KM=[function(){},function(t,e,r,n){if(n===e.length)throw new Error("Ran out of data");var i=e[n];t[r]=i,t[r+1]=i,t[r+2]=i,t[r+3]=255},function(t,e,r,n){if(n+1>=e.length)throw new Error("Ran out of data");var i=e[n];t[r]=i,t[r+1]=i,t[r+2]=i,t[r+3]=e[n+1]},function(t,e,r,n){if(n+2>=e.length)throw new Error("Ran out of data");t[r]=e[n],t[r+1]=e[n+1],t[r+2]=e[n+2],t[r+3]=255},function(t,e,r,n){if(n+3>=e.length)throw new Error("Ran out of data");t[r]=e[n],t[r+1]=e[n+1],t[r+2]=e[n+2],t[r+3]=e[n+3]}],$M=[function(){},function(t,e,r,n){var i=e[0];t[r]=i,t[r+1]=i,t[r+2]=i,t[r+3]=n},function(t,e,r){var n=e[0];t[r]=n,t[r+1]=n,t[r+2]=n,t[r+3]=e[1]},function(t,e,r,n){t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=n},function(t,e,r){t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3]}];function ZM(t,e,r,n,i,o){for(var s=t.width,a=t.height,u=t.index,c=0;c<a;c++)for(var l=0;l<s;l++){var h=r(l,c,u);KM[n](e,i,h,o),o+=n}return o}function JM(t,e,r,n,i,o){for(var s=t.width,a=t.height,u=t.index,c=0;c<a;c++){for(var l=0;l<s;l++){var h=i.get(n),f=r(l,c,u);$M[n](e,h,f,o)}i.resetAfterLine()}}GM.dataToBitMap=function(t,e){var r,n=e.width,i=e.height,o=e.depth,s=e.bpp,a=e.interlace;if(8!==o)var u=function(t,e){var r=[],n=0;function i(){if(n===t.length)throw new Error("Ran out of data");var i,o,s,a,u,c,l,h,f=t[n];switch(n++,e){default:throw new Error("unrecognised depth");case 16:l=t[n],n++,r.push((f<<8)+l);break;case 4:l=15&f,h=f>>4,r.push(h,l);break;case 2:u=3&f,c=f>>2&3,l=f>>4&3,h=f>>6&3,r.push(h,l,c,u);break;case 1:i=1&f,o=f>>1&1,s=f>>2&1,a=f>>3&1,u=f>>4&1,c=f>>5&1,l=f>>6&1,h=f>>7&1,r.push(h,l,c,u,a,s,o,i)}}return{get:function(t){for(;r.length<t;)i();var e=r.slice(0,t);return r=r.slice(t),e},resetAfterLine:function(){r.length=0},end:function(){if(n!==t.length)throw new Error("extra data found")}}}(t,o);r=o<=8?new Nf(n*i*4):new Uint16Array(n*i*4);var c,l,h=Math.pow(2,o)-1,f=0;if(a)c=VM.getImagePasses(n,i),l=VM.getInterlaceIterator(n,i);else{var d=0;l=function(){var t=d;return d+=4,t},c=[{width:n,height:i}]}for(var p=0;p<c.length;p++)8===o?f=ZM(c[p],r,l,s,t,f):JM(c[p],r,l,s,u,h);if(8===o){if(f!==t.length)throw new Error("extra data found")}else u.end();return r};var YM=function(t,e){var r=e.depth,n=e.width,i=e.height,o=e.colorType,s=e.transColor,a=e.palette,u=t;return 3===o?function(t,e,r,n,i){for(var o=0,s=0;s<n;s++)for(var a=0;a<r;a++){var u=i[t[o]];if(!u)throw new Error("index "+t[o]+" not in palette");for(var c=0;c<4;c++)e[o+c]=u[c];o+=4}}(t,u,n,i,a):(s&&function(t,e,r,n,i){for(var o=0,s=0;s<n;s++)for(var a=0;a<r;a++){var u=!1;if(1===i.length?i[0]===t[o]&&(u=!0):i[0]===t[o]&&i[1]===t[o+1]&&i[2]===t[o+2]&&(u=!0),u)for(var c=0;c<4;c++)e[o+c]=0;o+=4}}(t,u,n,i,s),8!==r&&(16===r&&(u=new Nf(n*i*4)),function(t,e,r,n,i){for(var o=Math.pow(2,i)-1,s=0,a=0;a<n;a++)for(var u=0;u<r;u++){for(var c=0;c<4;c++)e[s+c]=Math.floor(255*t[s+c]/o+.5);s+=4}}(t,u,n,i,r))),u},XM=Pm,QM=eb,tk=bM.exports,ek=SM.exports,rk=UM.exports,nk=GM,ik=YM,ok=_M.exports=function(t){tk.call(this),this._parser=new rk(t,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=t,this.writable=!0,this._parser.start()};XM.inherits(ok,tk),ok.prototype._handleError=function(t){this.emit("error",t),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",(function(){}))),this.errord=!0},ok.prototype._inflateData=function(t){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=QM.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var e=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,r=Math.max(e,QM.Z_MIN_CHUNK);this._inflate=QM.createInflate({chunkSize:r});var n=e,i=this.emit.bind(this,"error");this._inflate.on("error",(function(t){n&&i(t)})),this._filter.on("complete",this._complete.bind(this));var o=this._filter.write.bind(this._filter);this._inflate.on("data",(function(t){n&&(t.length>n&&(t=t.slice(0,n)),n-=t.length,o(t))})),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(t)},ok.prototype._handleMetaData=function(t){this._metaData=t,this._bitmapInfo=Object.create(t),this._filter=new ek(this._bitmapInfo)},ok.prototype._handleTransColor=function(t){this._bitmapInfo.transColor=t},ok.prototype._handlePalette=function(t){this._bitmapInfo.palette=t},ok.prototype._simpleTransparency=function(){this._metaData.alpha=!0},ok.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},ok.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},ok.prototype._complete=function(t){if(!this.errord){try{var e=nk.dataToBitMap(t,this._bitmapInfo),r=ik(e,this._bitmapInfo);e=null}catch(t){return void this._handleError(t)}this.emit("parsed",r)}};var sk={exports:{}},ak={exports:{}},uk=jM,ck=RM;var lk={0:function(t,e,r,n,i){for(var o=0;o<r;o++)n[i+o]=t[e+o]},1:function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=s>=o?t[e+s-o]:0,u=t[e+s]-a;n[i+s]=u}},2:function(t,e,r,n,i){for(var o=0;o<r;o++){var s=e>0?t[e+o-r]:0,a=t[e+o]-s;n[i+o]=a}},3:function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=s>=o?t[e+s-o]:0,u=e>0?t[e+s-r]:0,c=t[e+s]-(a+u>>1);n[i+s]=c}},4:function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=s>=o?t[e+s-o]:0,u=e>0?t[e+s-r]:0,c=e>0&&s>=o?t[e+s-(r+o)]:0,l=t[e+s]-ck(a,u,c);n[i+s]=l}}},hk={0:function(t,e,r){for(var n=0,i=e+r,o=e;o<i;o++)n+=Math.abs(t[o]);return n},1:function(t,e,r,n){for(var i=0,o=0;o<r;o++){var s=o>=n?t[e+o-n]:0,a=t[e+o]-s;i+=Math.abs(a)}return i},2:function(t,e,r){for(var n=0,i=e+r,o=e;o<i;o++){var s=e>0?t[o-r]:0,a=t[o]-s;n+=Math.abs(a)}return n},3:function(t,e,r,n){for(var i=0,o=0;o<r;o++){var s=o>=n?t[e+o-n]:0,a=e>0?t[e+o-r]:0,u=t[e+o]-(s+a>>1);i+=Math.abs(u)}return i},4:function(t,e,r,n){for(var i=0,o=0;o<r;o++){var s=o>=n?t[e+o-n]:0,a=e>0?t[e+o-r]:0,u=e>0&&o>=n?t[e+o-(r+n)]:0,c=t[e+o]-ck(s,a,u);i+=Math.abs(c)}return i}},fk=jM,dk=DM.exports,pk=function(t,e,r,n){var i=-1!==[uk.COLORTYPE_COLOR_ALPHA,uk.COLORTYPE_ALPHA].indexOf(n.colorType);if(n.colorType===n.inputColorType){var o=function(){var t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256!==new Int16Array(t)[0]}();if(8===n.bitDepth||16===n.bitDepth&&o)return t}var s=16!==n.bitDepth?t:new Uint16Array(t.buffer),a=255,u=uk.COLORTYPE_TO_BPP_MAP[n.inputColorType];4!==u||n.inputHasAlpha||(u=3);var c=uk.COLORTYPE_TO_BPP_MAP[n.colorType];16===n.bitDepth&&(a=65535,c*=2);var l=new Nf(e*r*c),h=0,f=0,d=n.bgColor||{};function p(){var t,e,r,o=a;switch(n.inputColorType){case uk.COLORTYPE_COLOR_ALPHA:o=s[h+3],t=s[h],e=s[h+1],r=s[h+2];break;case uk.COLORTYPE_COLOR:t=s[h],e=s[h+1],r=s[h+2];break;case uk.COLORTYPE_ALPHA:o=s[h+1],e=t=s[h],r=t;break;case uk.COLORTYPE_GRAYSCALE:e=t=s[h],r=t;break;default:throw new Error("input color type:"+n.inputColorType+" is not supported at present")}return n.inputHasAlpha&&(i||(o/=a,t=Math.min(Math.max(Math.round((1-o)*d.red+o*t),0),a),e=Math.min(Math.max(Math.round((1-o)*d.green+o*e),0),a),r=Math.min(Math.max(Math.round((1-o)*d.blue+o*r),0),a))),{red:t,green:e,blue:r,alpha:o}}void 0===d.red&&(d.red=a),void 0===d.green&&(d.green=a),void 0===d.blue&&(d.blue=a);for(var m=0;m<r;m++)for(var g=0;g<e;g++){var y=p();switch(n.colorType){case uk.COLORTYPE_COLOR_ALPHA:case uk.COLORTYPE_COLOR:8===n.bitDepth?(l[f]=y.red,l[f+1]=y.green,l[f+2]=y.blue,i&&(l[f+3]=y.alpha)):(l.writeUInt16BE(y.red,f),l.writeUInt16BE(y.green,f+2),l.writeUInt16BE(y.blue,f+4),i&&l.writeUInt16BE(y.alpha,f+6));break;case uk.COLORTYPE_ALPHA:case uk.COLORTYPE_GRAYSCALE:var v=(y.red+y.green+y.blue)/3;8===n.bitDepth?(l[f]=v,i&&(l[f+1]=y.alpha)):(l.writeUInt16BE(v,f),i&&l.writeUInt16BE(y.alpha,f+2));break;default:throw new Error("unrecognised color Type "+n.colorType)}h+=u,f+=c}return l},mk=function(t,e,r,n,i){var o;if("filterType"in n&&-1!==n.filterType){if("number"!=typeof n.filterType)throw new Error("unrecognised filter types");o=[n.filterType]}else o=[0,1,2,3,4];16===n.bitDepth&&(i*=2);for(var s=e*i,a=0,u=0,c=new Nf((s+1)*r),l=o[0],h=0;h<r;h++){if(o.length>1)for(var f=1/0,d=0;d<o.length;d++){var p=hk[o[d]](t,u,s,i);p<f&&(l=o[d],f=p)}c[a]=l,a++,lk[l](t,u,s,c,a,i),a+=s,u+=s}return c},gk=eb,yk=ak.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32768,t.deflateLevel=null!=t.deflateLevel?t.deflateLevel:9,t.deflateStrategy=null!=t.deflateStrategy?t.deflateStrategy:3,t.inputHasAlpha=null==t.inputHasAlpha||t.inputHasAlpha,t.deflateFactory=t.deflateFactory||gk.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType="number"==typeof t.colorType?t.colorType:fk.COLORTYPE_COLOR_ALPHA,t.inputColorType="number"==typeof t.inputColorType?t.inputColorType:fk.COLORTYPE_COLOR_ALPHA,-1===[fk.COLORTYPE_GRAYSCALE,fk.COLORTYPE_COLOR,fk.COLORTYPE_COLOR_ALPHA,fk.COLORTYPE_ALPHA].indexOf(t.colorType))throw new Error("option color type:"+t.colorType+" is not supported at present");if(-1===[fk.COLORTYPE_GRAYSCALE,fk.COLORTYPE_COLOR,fk.COLORTYPE_COLOR_ALPHA,fk.COLORTYPE_ALPHA].indexOf(t.inputColorType))throw new Error("option input color type:"+t.inputColorType+" is not supported at present");if(8!==t.bitDepth&&16!==t.bitDepth)throw new Error("option bit depth:"+t.bitDepth+" is not supported at present")};yk.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},yk.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},yk.prototype.filterData=function(t,e,r){var n=pk(t,e,r,this._options),i=fk.COLORTYPE_TO_BPP_MAP[this._options.colorType];return mk(n,e,r,this._options,i)},yk.prototype._packChunk=function(t,e){var r=e?e.length:0,n=new Nf(r+12);return n.writeUInt32BE(r,0),n.writeUInt32BE(t,4),e&&e.copy(n,8),n.writeInt32BE(dk.crc32(n.slice(4,n.length-4)),n.length-4),n},yk.prototype.packGAMA=function(t){var e=new Nf(4);return e.writeUInt32BE(Math.floor(t*fk.GAMMA_DIVISION),0),this._packChunk(fk.TYPE_gAMA,e)},yk.prototype.packIHDR=function(t,e){var r=new Nf(13);return r.writeUInt32BE(t,0),r.writeUInt32BE(e,4),r[8]=this._options.bitDepth,r[9]=this._options.colorType,r[10]=0,r[11]=0,r[12]=0,this._packChunk(fk.TYPE_IHDR,r)},yk.prototype.packIDAT=function(t){return this._packChunk(fk.TYPE_IDAT,t)},yk.prototype.packIEND=function(){return this._packChunk(fk.TYPE_IEND,null)};var vk=Pm,_k=Tb,bk=jM,wk=ak.exports,Ek=sk.exports=function(t){_k.call(this);var e=t||{};this._packer=new wk(e),this._deflate=this._packer.createDeflate(),this.readable=!0};vk.inherits(Ek,_k),Ek.prototype.pack=function(t,e,r,n){this.emit("data",new Nf(bk.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(e,r)),n&&this.emit("data",this._packer.packGAMA(n));var i=this._packer.filterData(t,e,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(t){this.emit("data",this._packer.packIDAT(t))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(i)};var xk={},Sk={exports:{}},Mk={exports:{}},kk=Object.getOwnPropertySymbols,Ak=Object.prototype.hasOwnProperty,Rk=Object.prototype.propertyIsEnumerable;function Tk(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var Ok=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map((function(t){return e[t]}));if("0123456789"!==n.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,n,i=Tk(t),o=1;o<arguments.length;o++){for(var s in r=Object(arguments[o]))Ak.call(r,s)&&(i[s]=r[s]);if(kk){n=kk(r);for(var a=0;a<n.length;a++)Rk.call(r,n[a])&&(i[n[a]]=r[n[a]])}}return i},Ik={},Ck=function(t){return t instanceof Nf},Pk=Ik.inherits;!function(t){var e=/%[sdj%]/g;t.format=function(t){if(!p(t)){for(var r=[],n=0;n<arguments.length;n++)r.push(i(arguments[n]));return r.join(" ")}n=1;for(var o=arguments,s=o.length,a=String(t).replace(e,(function(t){if("%%"===t)return"%";if(n>=s)return t;switch(t){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return t}})),u=o[n];n<s;u=o[++n])f(u)||!y(u)?a+=" "+u:a+=" "+i(u);return a},t.deprecate=function(e,r){if(m(ft.process))return function(){return t.deprecate(e,r).apply(this,arguments)};var n=!1;return function(){return n||(console.error(r),n=!0),e.apply(this,arguments)}};var r,n={};function i(e,r){var n={seen:[],stylize:s};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(r)?n.showHidden=r:r&&t._extend(n,r),m(n.showHidden)&&(n.showHidden=!1),m(n.depth)&&(n.depth=2),m(n.colors)&&(n.colors=!1),m(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),a(n,e,n.depth)}function o(t,e){var r=i.styles[e];return r?"["+i.colors[r][0]+"m"+t+"["+i.colors[r][1]+"m":t}function s(t,e){return t}function a(e,r,n){if(e.customInspect&&r&&b(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return p(i)||(i=a(e,i,n)),i}var o=function(t,e){if(m(e))return t.stylize("undefined","undefined");if(p(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(d(e))return t.stylize(""+e,"number");if(h(e))return t.stylize(""+e,"boolean");if(f(e))return t.stylize("null","null")}(e,r);if(o)return o;var s=Object.keys(r),y=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),_(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(r);if(0===s.length){if(b(r)){var w=r.name?": "+r.name:"";return e.stylize("[Function"+w+"]","special")}if(g(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(v(r))return e.stylize(Date.prototype.toString.call(r),"date");if(_(r))return u(r)}var E,x="",S=!1,k=["{","}"];(l(r)&&(S=!0,k=["[","]"]),b(r))&&(x=" [Function"+(r.name?": "+r.name:"")+"]");return g(r)&&(x=" "+RegExp.prototype.toString.call(r)),v(r)&&(x=" "+Date.prototype.toUTCString.call(r)),_(r)&&(x=" "+u(r)),0!==s.length||S&&0!=r.length?n<0?g(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),E=S?function(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)M(e,String(s))?o.push(c(t,e,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(c(t,e,r,n,i,!0))})),o}(e,r,n,y,s):s.map((function(t){return c(e,r,n,y,t,S)})),e.seen.pop(),function(t,e,r){if(t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(E,x,k)):k[0]+x+k[1]}function u(t){return"["+Error.prototype.toString.call(t)+"]"}function c(t,e,r,n,i,o){var s,u,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?u=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(u=t.stylize("[Setter]","special")),M(n,i)||(s="["+i+"]"),u||(t.seen.indexOf(c.value)<0?(u=f(r)?a(t,c.value,null):a(t,c.value,r-1)).indexOf("\n")>-1&&(u=o?u.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+u.split("\n").map((function(t){return"   "+t})).join("\n")):u=t.stylize("[Circular]","special")),m(s)){if(o&&i.match(/^\d+$/))return u;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+u}function l(t){return Array.isArray(t)}function h(t){return"boolean"==typeof t}function f(t){return null===t}function d(t){return"number"==typeof t}function p(t){return"string"==typeof t}function m(t){return void 0===t}function g(t){return y(t)&&"[object RegExp]"===w(t)}function y(t){return"object"==typeof t&&null!==t}function v(t){return y(t)&&"[object Date]"===w(t)}function _(t){return y(t)&&("[object Error]"===w(t)||t instanceof Error)}function b(t){return"function"==typeof t}function w(t){return Object.prototype.toString.call(t)}function E(t){return t<10?"0"+t.toString(10):t.toString(10)}t.debuglog=function(e){if(m(r)&&(r=""),e=e.toUpperCase(),!n[e])if(new RegExp("\\b"+e+"\\b","i").test(r)){var i=le.pid;n[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,i,r)}}else n[e]=function(){};return n[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=l,t.isBoolean=h,t.isNull=f,t.isNullOrUndefined=function(t){return null==t},t.isNumber=d,t.isString=p,t.isSymbol=function(t){return"symbol"==typeof t},t.isUndefined=m,t.isRegExp=g,t.isObject=y,t.isDate=v,t.isError=_,t.isFunction=b,t.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},t.isBuffer=Ck;var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(){var t=new Date,e=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":");return[t.getDate(),x[t.getMonth()],e].join(" ")}function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.log=function(){console.log("%s - %s",S(),t.format.apply(t,arguments))},t.inherits=Pk,t._extend=function(t,e){if(!e||!y(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}(Ik);var Nk=Ok;
/*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
     * @license  MIT
     */function Lk(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function Bk(t){return ft.Buffer&&"function"==typeof ft.Buffer.isBuffer?ft.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var Uk=Ik,jk=Object.prototype.hasOwnProperty,Dk=Array.prototype.slice,Fk="foo"===function(){}.name;function zk(t){return Object.prototype.toString.call(t)}function qk(t){return!Bk(t)&&("function"==typeof ft.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var Hk=Mk.exports=Zk,Wk=/\s*function\s+([^\(\s]*)\s*/;function Gk(t){if(Uk.isFunction(t)){if(Fk)return t.name;var e=t.toString().match(Wk);return e&&e[1]}}function Vk(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function Kk(t){if(Fk||!Uk.isFunction(t))return Uk.inspect(t);var e=Gk(t);return"[Function"+(e?": "+e:"")+"]"}function $k(t,e,r,n,i){throw new Hk.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function Zk(t,e){t||$k(t,!0,e,"==",Hk.ok)}function Jk(t,e,r,n){if(t===e)return!0;if(Bk(t)&&Bk(e))return 0===Lk(t,e);if(Uk.isDate(t)&&Uk.isDate(e))return t.getTime()===e.getTime();if(Uk.isRegExp(t)&&Uk.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(qk(t)&&qk(e)&&zk(t)===zk(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===Lk(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(Bk(t)!==Bk(e))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==i&&i===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),function(t,e,r,n){if(null==t||null==e)return!1;if(Uk.isPrimitive(t)||Uk.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=Yk(t),o=Yk(e);if(i&&!o||!i&&o)return!1;if(i)return Jk(t=Dk.call(t),e=Dk.call(e),r);var s,a,u=tA(t),c=tA(e);if(u.length!==c.length)return!1;for(u.sort(),c.sort(),a=u.length-1;a>=0;a--)if(u[a]!==c[a])return!1;for(a=u.length-1;a>=0;a--)if(!Jk(t[s=u[a]],e[s],r,n))return!1;return!0}(t,e,r,n))}return r?t===e:t==e}function Yk(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function Xk(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function Qk(t,e,r,n){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!i&&$k(i,r,"Missing expected exception"+n);var o="string"==typeof n,s=!t&&i&&!r;if((!t&&Uk.isError(i)&&o&&Xk(i,r)||s)&&$k(i,r,"Got unwanted exception"+n),t&&i&&r&&!Xk(i,r)||!t&&i)throw i}Hk.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return Vk(Kk(t.actual),128)+" "+t.operator+" "+Vk(Kk(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||$k;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=Gk(e),o=n.indexOf("\n"+i);if(o>=0){var s=n.indexOf("\n",o+1);n=n.substring(s+1)}this.stack=n}}},Uk.inherits(Hk.AssertionError,Error),Hk.fail=$k,Hk.ok=Zk,Hk.equal=function(t,e,r){t!=e&&$k(t,e,r,"==",Hk.equal)},Hk.notEqual=function(t,e,r){t==e&&$k(t,e,r,"!=",Hk.notEqual)},Hk.deepEqual=function(t,e,r){Jk(t,e,!1)||$k(t,e,r,"deepEqual",Hk.deepEqual)},Hk.deepStrictEqual=function(t,e,r){Jk(t,e,!0)||$k(t,e,r,"deepStrictEqual",Hk.deepStrictEqual)},Hk.notDeepEqual=function(t,e,r){Jk(t,e,!1)&&$k(t,e,r,"notDeepEqual",Hk.notDeepEqual)},Hk.notDeepStrictEqual=function t(e,r,n){Jk(e,r,!0)&&$k(e,r,n,"notDeepStrictEqual",t)},Hk.strictEqual=function(t,e,r){t!==e&&$k(t,e,r,"===",Hk.strictEqual)},Hk.notStrictEqual=function(t,e,r){t===e&&$k(t,e,r,"!==",Hk.notStrictEqual)},Hk.throws=function(t,e,r){Qk(!0,t,e,r)},Hk.doesNotThrow=function(t,e,r){Qk(!1,t,e,r)},Hk.ifError=function(t){if(t)throw t},Hk.strict=Nk((function t(e,r){e||$k(e,!0,r,"==",t)}),Hk,{equal:Hk.strictEqual,deepEqual:Hk.deepStrictEqual,notEqual:Hk.notStrictEqual,notDeepEqual:Hk.notDeepStrictEqual}),Hk.strict.strict=Hk.strict;var tA=Object.keys||function(t){var e=[];for(var r in t)jk.call(t,r)&&e.push(r);return e};!function(t,e){var r=Mk.exports.ok,n=eb,i=Pm,o=Dm.kMaxLength;function s(t){if(!(this instanceof s))return new s(t);t&&t.chunkSize<n.Z_MIN_CHUNK&&(t.chunkSize=n.Z_MIN_CHUNK),n.Inflate.call(this,t),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,t&&null!=t.maxLength&&(this._maxLength=t.maxLength)}function a(t,e){e&&le.nextTick(e),t._handle&&(t._handle.close(),t._handle=null)}function u(t,e){return function(t,e){if("string"==typeof e&&(e=Nf.from(e)),!(e instanceof Nf))throw new TypeError("Not a string or buffer");var r=t._finishFlushFlag;return null==r&&(r=n.Z_FINISH),t._processChunk(e,r)}(new s(e),t)}s.prototype._processChunk=function(t,e,i){if("function"==typeof i)return n.Inflate._processChunk.call(this,t,e,i);var s,u=this,c=t&&t.length,l=this._chunkSize-this._offset,h=this._maxLength,f=0,d=[],p=0;function m(t,e){if(!u._hadError){var n=l-e;if(r(n>=0,"have should not go down"),n>0){var i=u._buffer.slice(u._offset,u._offset+n);if(u._offset+=n,i.length>h&&(i=i.slice(0,h)),d.push(i),p+=i.length,0===(h-=i.length))return!1}return(0===e||u._offset>=u._chunkSize)&&(l=u._chunkSize,u._offset=0,u._buffer=Nf.allocUnsafe(u._chunkSize)),0===e&&(f+=c-t,c=t,!0)}}this.on("error",(function(t){s=t})),r(this._handle,"zlib binding closed");do{var g=this._handle.writeSync(e,t,f,c,this._buffer,this._offset,l);g=g||this._writeState}while(!this._hadError&&m(g[0],g[1]));if(this._hadError)throw s;if(p>=o)throw a(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+o.toString(16)+" bytes");var y=Nf.concat(d,p);return a(this),y},i.inherits(s,n.Inflate),t.exports=e=u,e.Inflate=s,e.createInflate=function(t){return new s(t)},e.inflateSync=u}(Sk,Sk.exports);var eA={exports:{}},rA=eA.exports=function(t){this._buffer=t,this._reads=[]};rA.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e})},rA.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var t=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=t.length||t.allowLess))break;this._reads.shift();var e=this._buffer;this._buffer=e.slice(t.length),t.func.call(this,e.slice(0,t.length))}return this._reads.length>0?new Error("There are some read requests waitng on finished stream"):this._buffer.length>0?new Error("unrecognised content at end of stream"):void 0};var nA={},iA=eA.exports,oA=MM.exports;nA.process=function(t,e){var r=[],n=new iA(t);return new oA(e,{read:n.read.bind(n),write:function(t){r.push(t)},complete:function(){}}).start(),n.process(),Nf.concat(r)};var sA=!0,aA=eb,uA=Sk.exports;aA.deflateSync||(sA=!1);var cA=eA.exports,lA=nA,hA=UM.exports,fA=GM,dA=YM,pA=!0,mA=eb;mA.deflateSync||(pA=!1);var gA=jM,yA=ak.exports,vA=function(t,e){if(!sA)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var r,n,i;var o=[];var s=new cA(t),a=new hA(e,{read:s.read.bind(s),error:function(t){r=t},metadata:function(t){n=t},gamma:function(t){i=t},palette:function(t){n.palette=t},transColor:function(t){n.transColor=t},inflateData:function(t){o.push(t)},simpleTransparency:function(){n.alpha=!0}});if(a.start(),s.process(),r)throw r;var u,c=Nf.concat(o);if(o.length=0,n.interlace)u=aA.inflateSync(c);else{var l=(1+(n.width*n.bpp*n.depth+7>>3))*n.height;u=uA(c,{chunkSize:l,maxLength:l})}if(c=null,!u||!u.length)throw new Error("bad png - invalid inflate data response");var h=lA.process(u,n);c=null;var f=fA.dataToBitMap(h,n);h=null;var d=dA(f,n);return n.data=d,n.gamma=i||0,n},_A=function(t,e){if(!pA)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var r=new yA(e||{}),n=[];n.push(new Nf(gA.PNG_SIGNATURE)),n.push(r.packIHDR(t.width,t.height)),t.gamma&&n.push(r.packGAMA(t.gamma));var i=r.filterData(t.data,t.width,t.height),o=mA.deflateSync(i,r.getDeflateOptions());if(i=null,!o||!o.length)throw new Error("bad png - invalid compressed data response");return n.push(r.packIDAT(o)),n.push(r.packIEND()),Nf.concat(n)};xk.read=function(t,e){return vA(t,e||{})},xk.write=function(t,e){return _A(t,e)};var bA=Pm,wA=Tb,EA=_M.exports,xA=sk.exports,SA=xk,MA=vM.PNG=function(t){wA.call(this),t=t||{},this.width=0|t.width,this.height=0|t.height,this.data=this.width>0&&this.height>0?new Nf(4*this.width*this.height):null,t.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new EA(t),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(t){this.data=t,this.emit("parsed",t)}.bind(this)),this._packer=new xA(t),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};bA.inherits(MA,wA),MA.sync=SA,MA.prototype.pack=function(){return this.data&&this.data.length?(le.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit("error","No data provided"),this)},MA.prototype.parse=function(t,e){var r,n;e&&(r=function(t){this.removeListener("error",n),this.data=t,e(null,this)}.bind(this),n=function(t){this.removeListener("parsed",r),e(t,null)}.bind(this),this.once("parsed",r),this.once("error",n));return this.end(t),this},MA.prototype.write=function(t){return this._parser.write(t),!0},MA.prototype.end=function(t){this._parser.end(t)},MA.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit("metadata",t)},MA.prototype._gamma=function(t){this.gamma=t},MA.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},MA.bitblt=function(t,e,r,n,i,o,s,a){if(n|=0,i|=0,o|=0,s|=0,a|=0,(r|=0)>t.width||n>t.height||r+i>t.width||n+o>t.height)throw new Error("bitblt reading outside image");if(s>e.width||a>e.height||s+i>e.width||a+o>e.height)throw new Error("bitblt writing outside image");for(var u=0;u<o;u++)t.data.copy(e.data,(a+u)*e.width+s<<2,(n+u)*t.width+r<<2,(n+u)*t.width+r+i<<2)},MA.prototype.bitblt=function(t,e,r,n,i,o,s){return MA.bitblt(this,t,e,r,n,i,o,s),this},MA.adjustGamma=function(t){if(t.gamma){for(var e=0;e<t.height;e++)for(var r=0;r<t.width;r++)for(var n=t.width*e+r<<2,i=0;i<3;i++){var o=t.data[n+i]/255;o=Math.pow(o,1/2.2/t.gamma),t.data[n+i]=Math.round(255*o)}t.gamma=0}},MA.prototype.adjustGamma=function(){MA.adjustGamma(this)};var kA={};!function(t){function e(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");var e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");var r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+e.slice(0,6).join("")}}t.getOptions=function(t){t||(t={}),t.color||(t.color={});var r=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,n=t.width&&t.width>=21?t.width:void 0,i=t.scale||4;return{width:n,scale:n?4:i,margin:r,color:{dark:e(t.color.dark||"#000000ff"),light:e(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},t.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},t.getImageWidth=function(e,r){var n=t.getScale(e,r);return Math.floor((e+2*r.margin)*n)},t.qrToImageData=function(e,r,n){for(var i=r.modules.size,o=r.modules.data,s=t.getScale(i,n),a=Math.floor((i+2*n.margin)*s),u=n.margin*s,c=[n.color.light,n.color.dark],l=0;l<a;l++)for(var h=0;h<a;h++){var f=4*(l*a+h),d=n.color.light;if(l>=u&&h>=u&&l<a-u&&h<a-u)d=c[o[Math.floor((l-u)/s)*i+Math.floor((h-u)/s)]?1:0];e[f++]=d.r,e[f++]=d.g,e[f++]=d.b,e[f]=d.a}}}(kA),function(t){var e=yM,r=vM.PNG,n=kA;t.render=function(t,e){var i=n.getOptions(e),o=i.rendererOpts,s=n.getImageWidth(t.modules.size,i);o.width=s,o.height=s;var a=new r(o);return n.qrToImageData(a.data,t,i),a},t.renderToDataURL=function(e,r,n){void 0===n&&(n=r,r=void 0),t.renderToBuffer(e,r,(function(t,e){t&&n(t);var r="data:image/png;base64,";r+=e.toString("base64"),n(null,r)}))},t.renderToBuffer=function(e,r,n){void 0===n&&(n=r,r=void 0);var i=t.render(e,r),o=[];i.on("error",n),i.on("data",(function(t){o.push(t)})),i.on("end",(function(){n(null,Nf.concat(o))})),i.pack()},t.renderToFile=function(r,n,i,o){void 0===o&&(o=i,i=void 0);var s=e.createWriteStream(r);s.on("error",o),s.on("close",o),t.renderToFileStream(s,n,i)},t.renderToFileStream=function(e,r,n){t.render(r,n).pack().pipe(e)}}(gM);var AA={};!function(t){var e=kA,r={WW:" ",WB:"▄",BB:"█",BW:"▀"},n={BB:" ",BW:"▄",WW:"█",WB:"▀"};function i(t,e,r){return t&&e?r.BB:t&&!e?r.BW:!t&&e?r.WB:r.WW}t.render=function(t,o,s){var a=e.getOptions(o),u=r;"#ffffff"!==a.color.dark.hex&&"#000000"!==a.color.light.hex||(u=n);var c=t.modules.size,l=t.modules.data,h="",f=Array(c+2*a.margin+1).join(u.WW);f=Array(a.margin/2+1).join(f+"\n");var d=Array(a.margin+1).join(u.WW);h+=f;for(var p=0;p<c;p+=2){h+=d;for(var m=0;m<c;m++){h+=i(l[p*c+m],l[(p+1)*c+m],u)}h+=d+"\n"}return h+=f.slice(0,-1),"function"==typeof s&&s(null,h),h},t.renderToFile=function(e,r,n,i){void 0===i&&(i=n,n=void 0);var o=yM,s=t.render(r,n);o.writeFile(e,s,i)}}(AA);var RA={render:function(t,e,r){var n=t.modules.size,i=t.modules.data,o="[47m  [0m",s="",a=Array(n+3).join(o),u=Array(2).join(o);s+=a+"\n";for(var c=0;c<n;++c){s+=o;for(var l=0;l<n;l++)s+=i[c*n+l]?"[40m  [0m":o;s+=u+"\n"}return s+=a+"\n","function"==typeof r&&r(null,s),s}},TA={},OA={},IA=kA;function CA(t,e){var r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function PA(t,e,r){var n=t+e;return void 0!==r&&(n+=" "+r),n}OA.render=function(t,e,r){var n=IA.getOptions(e),i=t.modules.size,o=t.modules.data,s=i+2*n.margin,a=n.color.light.a?"<path "+CA(n.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",u="<path "+CA(n.color.dark,"stroke")+' d="'+function(t,e,r){for(var n="",i=0,o=!1,s=0,a=0;a<t.length;a++){var u=Math.floor(a%e),c=Math.floor(a/e);u||o||(o=!0),t[a]?(s++,a>0&&u>0&&t[a-1]||(n+=o?PA("M",u+r,.5+c+r):PA("m",i,0),i=0,o=!1),u+1<e&&t[a+1]||(n+=PA("h",s),s=0)):i++}return n}(o,i,n.margin)+'"/>',c='viewBox="0 0 '+s+" "+s+'"',l='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+c+' shape-rendering="crispEdges">'+a+u+"</svg>\n";return"function"==typeof r&&r(null,l),l},function(t){var e=OA;t.render=e.render,t.renderToFile=function(e,r,n,i){void 0===i&&(i=n,n=void 0);var o=yM,s='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+t.render(r,n);o.writeFile(e,s,i)}}(TA);var NA={},LA={};!function(t){var e=kA;t.render=function(t,r,n){var i=n,o=r;void 0!==i||r&&r.getContext||(i=r,r=void 0),r||(o=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),i=e.getOptions(i);var s=e.getImageWidth(t.modules.size,i),a=o.getContext("2d"),u=a.createImageData(s,s);return e.qrToImageData(u.data,t,i),function(t,e,r){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=r,e.width=r,e.style.height=r+"px",e.style.width=r+"px"}(a,o,s),a.putImageData(u,0,0),o},t.renderToDataURL=function(e,r,n){var i=n;void 0!==i||r&&r.getContext||(i=r,r=void 0),i||(i={});var o=t.render(e,r,i),s=i.type||"image/png",a=i.rendererOpts||{};return o.toDataURL(s,a.quality)}}(LA);var BA=Nx,UA=Lx,jA=LA,DA=OA;function FA(t,e,r,n,i){var o=[].slice.call(arguments,1),s=o.length,a="function"==typeof o[s-1];if(!a&&!BA())throw new Error("Callback required as last argument");if(!a){if(s<1)throw new Error("Too few arguments provided");return 1===s?(r=e,e=n=void 0):2!==s||e.getContext||(n=r,r=e,e=void 0),new Promise((function(i,o){try{var s=UA.create(r,n);i(t(s,e,n))}catch(t){o(t)}}))}if(s<2)throw new Error("Too few arguments provided");2===s?(i=r,r=e,e=n=void 0):3===s&&(e.getContext&&void 0===i?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0));try{var u=UA.create(r,n);i(null,t(u,e,n))}catch(t){i(t)}}NA.create=UA.create,NA.toCanvas=FA.bind(null,jA.render),NA.toDataURL=FA.bind(null,jA.renderToDataURL),NA.toString=FA.bind(null,(function(t,e,r){return DA.render(t,r)}));var zA=Nx,qA=Lx,HA=gM,WA=AA,GA=RA,VA=TA;function KA(t,e,r){if(void 0===t)throw new Error("String required as first argument");if(void 0===r&&(r=e,e={}),"function"!=typeof r){if(!zA())throw new Error("Callback required as last argument");e=r||{},r=null}return{opts:e,cb:r}}function $A(t){return t.slice(2+(t.lastIndexOf(".")-1>>>0)).toLowerCase()}function ZA(t){switch(t){case"svg":return VA;case"txt":case"utf8":return WA;default:return HA}}function JA(t,e,r){if(!r.cb)return new Promise((function(n,i){try{var o=qA.create(e,r.opts);return t(o,r.opts,(function(t,e){return t?i(t):n(e)}))}catch(t){i(t)}}));try{var n=qA.create(e,r.opts);return t(n,r.opts,r.cb)}catch(t){r.cb(t)}}Px.create=qA.create,Px.toCanvas=NA.toCanvas,Px.toString=function(t,e,r){var n=KA(t,e,r),i=function(t){switch(t){case"svg":return VA;case"terminal":return GA;default:return WA}}(n.opts.type);return JA(i.render,t,n)},Px.toDataURL=function(t,e,r){var n=KA(t,e,r);return JA(ZA(n.opts.type).renderToDataURL,t,n)},Px.toBuffer=function(t,e,r){var n=KA(t,e,r);return JA(ZA(n.opts.type).renderToBuffer,t,n)},Px.toFile=function(t,e,r,n){if("string"!=typeof t||"string"!=typeof e&&"object"!=typeof e)throw new Error("Invalid argument");if(arguments.length<3&&!zA())throw new Error("Too few arguments provided");var i=KA(e,r,n),o=i.opts.type||$A(t),s=ZA(o),a=s.renderToFile.bind(null,t);return JA(a,e,i)},Px.toFileStream=function(t,e,r){if(arguments.length<2)throw new Error("Too few arguments provided");var n=KA(e,r,t.emit.bind(t,"error")),i=ZA("png"),o=i.renderToFileStream.bind(null,t);JA(o,e,n)};var YA=Px,XA=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],n=0;n<t.rangeCount;n++)r.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||r.forEach((function(e){t.addRange(e)})),e&&e.focus()}},QA={"text/plain":"Text","text/html":"Url",default:"Text"};var tR,eR,rR,nR,iR,oR,sR,aR,uR=function(t,e){var r,n,i,o,s,a,u=!1;e||(e={}),r=e.debug||!1;try{if(i=XA(),o=document.createRange(),s=document.getSelection(),(a=document.createElement("span")).textContent=t,a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",(function(n){if(n.stopPropagation(),e.format)if(n.preventDefault(),void 0===n.clipboardData){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=QA[e.format]||QA.default;window.clipboardData.setData(i,t)}else n.clipboardData.clearData(),n.clipboardData.setData(e.format,t);e.onCopy&&(n.preventDefault(),e.onCopy(n.clipboardData))})),document.body.appendChild(a),o.selectNodeContents(a),s.addRange(o),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(i){r&&console.error("unable to copy using execCommand: ",i),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),u=!0}catch(i){r&&console.error("unable to copy using clipboardData: ",i),r&&console.error("falling back to prompt"),n=function(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}("message"in e?e.message:"Copy to clipboard: #{key}, Enter"),window.prompt(n,t)}}finally{s&&("function"==typeof s.removeRange?s.removeRange(o):s.removeAllRanges()),a&&document.body.removeChild(a),i()}return u},cR={},lR={},hR={},fR={},dR=[],pR=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function mR(t,e){for(var r in e)t[r]=e[r];return t}function gR(t){var e=t.parentNode;e&&e.removeChild(t)}function yR(t,e,r){var n,i=arguments,o={};for(n in e)"key"!==n&&"ref"!==n&&(o[n]=e[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(i[n]);if(null!=r&&(o.children=r),"function"==typeof t&&null!=t.defaultProps)for(n in t.defaultProps)void 0===o[n]&&(o[n]=t.defaultProps[n]);return vR(t,o,e&&e.key,e&&e.ref,null)}function vR(t,e,r,n,i){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i};return null==i&&(o.__v=o),tR.vnode&&tR.vnode(o),o}function _R(t){return t.children}function bR(t,e){this.props=t,this.context=e}function wR(t,e){if(null==e)return t.__?wR(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e)return r.__e;return"function"==typeof t.type?wR(t):null}function ER(t){var e,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return ER(t)}}function xR(t){(!t.__d&&(t.__d=!0)&&rR.push(t)&&!nR++||oR!==tR.debounceRendering)&&((oR=tR.debounceRendering)||iR)(SR)}function SR(){for(var t;nR=rR.length;)t=rR.sort((function(t,e){return t.__v.__b-e.__v.__b})),rR=[],t.some((function(t){var e,r,n,i,o,s,a;t.__d&&(s=(o=(e=t).__v).__e,(a=e.__P)&&(r=[],(n=mR({},o)).__v=n,i=OR(a,o,n,e.__n,void 0!==a.ownerSVGElement,null,r,null==s?wR(o):s),IR(r,o),i!=s&&ER(o)))}))}function MR(t,e,r,n,i,o,s,a,u){var c,l,h,f,d,p,m,g=r&&r.__k||dR,y=g.length;if(a==fR&&(a=null!=o?o[0]:y?wR(r,0):null),c=0,e.__k=kR(e.__k,(function(r){if(null!=r){if(r.__=e,r.__b=e.__b+1,null===(h=g[c])||h&&r.key==h.key&&r.type===h.type)g[c]=void 0;else for(l=0;l<y;l++){if((h=g[l])&&r.key==h.key&&r.type===h.type){g[l]=void 0;break}h=null}if(f=OR(t,r,h=h||fR,n,i,o,s,a,u),(l=r.ref)&&h.ref!=l&&(m||(m=[]),h.ref&&m.push(h.ref,null,r),m.push(l,r.__c||f,r)),null!=f){var v;if(null==p&&(p=f),void 0!==r.__d)v=r.__d,r.__d=void 0;else if(o==h||f!=a||null==f.parentNode){t:if(null==a||a.parentNode!==t)t.appendChild(f),v=null;else{for(d=a,l=0;(d=d.nextSibling)&&l<y;l+=2)if(d==f)break t;t.insertBefore(f,a),v=a}"option"==e.type&&(t.value="")}a=void 0!==v?v:f.nextSibling,"function"==typeof e.type&&(e.__d=a)}else a&&h.__e==a&&a.parentNode!=t&&(a=wR(h))}return c++,r})),e.__e=p,null!=o&&"function"!=typeof e.type)for(c=o.length;c--;)null!=o[c]&&gR(o[c]);for(c=y;c--;)null!=g[c]&&NR(g[c],g[c]);if(m)for(c=0;c<m.length;c++)PR(m[c],m[++c],m[++c])}function kR(t,e,r){if(null==r&&(r=[]),null==t||"boolean"==typeof t)e&&r.push(e(null));else if(Array.isArray(t))for(var n=0;n<t.length;n++)kR(t[n],e,r);else r.push(e?e("string"==typeof t||"number"==typeof t?vR(null,t,null,null,t):null!=t.__e||null!=t.__c?vR(t.type,t.props,t.key,null,t.__v):t):t);return r}function AR(t,e,r){"-"===e[0]?t.setProperty(e,r):t[e]="number"==typeof r&&!1===pR.test(e)?r+"px":null==r?"":r}function RR(t,e,r,n,i){var o,s,a,u,c;if(i?"className"===e&&(e="class"):"class"===e&&(e="className"),"style"===e)if(o=t.style,"string"==typeof r)o.cssText=r;else{if("string"==typeof n&&(o.cssText="",n=null),n)for(u in n)r&&u in r||AR(o,u,"");if(r)for(c in r)n&&r[c]===n[c]||AR(o,c,r[c])}else"o"===e[0]&&"n"===e[1]?(s=e!==(e=e.replace(/Capture$/,"")),a=e.toLowerCase(),e=(a in t?a:e).slice(2),r?(n||t.addEventListener(e,TR,s),(t.l||(t.l={}))[e]=r):t.removeEventListener(e,TR,s)):"list"!==e&&"tagName"!==e&&"form"!==e&&"type"!==e&&"size"!==e&&!i&&e in t?t[e]=null==r?"":r:"function"!=typeof r&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/^xlink:?/,""))?null==r||!1===r?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):null==r||!1===r&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,r))}function TR(t){this.l[t.type](tR.event?tR.event(t):t)}function OR(t,e,r,n,i,o,s,a,u){var c,l,h,f,d,p,m,g,y,v,_=e.type;if(void 0!==e.constructor)return null;(c=tR.__b)&&c(e);try{t:if("function"==typeof _){if(g=e.props,y=(c=_.contextType)&&n[c.__c],v=c?y?y.props.value:c.__:n,r.__c?m=(l=e.__c=r.__c).__=l.__E:("prototype"in _&&_.prototype.render?e.__c=l=new _(g,v):(e.__c=l=new bR(g,v),l.constructor=_,l.render=LR),y&&y.sub(l),l.props=g,l.state||(l.state={}),l.context=v,l.__n=n,h=l.__d=!0,l.__h=[]),null==l.__s&&(l.__s=l.state),null!=_.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=mR({},l.__s)),mR(l.__s,_.getDerivedStateFromProps(g,l.__s))),f=l.props,d=l.state,h)null==_.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(null==_.getDerivedStateFromProps&&g!==f&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(g,v),!l.__e&&null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(g,l.__s,v)||e.__v===r.__v&&!l.__){for(l.props=g,l.state=l.__s,e.__v!==r.__v&&(l.__d=!1),l.__v=e,e.__e=r.__e,e.__k=r.__k,l.__h.length&&s.push(l),c=0;c<e.__k.length;c++)e.__k[c]&&(e.__k[c].__=e);break t}null!=l.componentWillUpdate&&l.componentWillUpdate(g,l.__s,v),null!=l.componentDidUpdate&&l.__h.push((function(){l.componentDidUpdate(f,d,p)}))}l.context=v,l.props=g,l.state=l.__s,(c=tR.__r)&&c(e),l.__d=!1,l.__v=e,l.__P=t,c=l.render(l.props,l.state,l.context),e.__k=null!=c&&c.type==_R&&null==c.key?c.props.children:Array.isArray(c)?c:[c],null!=l.getChildContext&&(n=mR(mR({},n),l.getChildContext())),h||null==l.getSnapshotBeforeUpdate||(p=l.getSnapshotBeforeUpdate(f,d)),MR(t,e,r,n,i,o,s,a,u),l.base=e.__e,l.__h.length&&s.push(l),m&&(l.__E=l.__=null),l.__e=!1}else null==o&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=CR(r.__e,e,r,n,i,o,s,u);(c=tR.diffed)&&c(e)}catch(t){e.__v=null,tR.__e(t,e,r)}return e.__e}function IR(t,e){tR.__c&&tR.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){tR.__e(t,e.__v)}}))}function CR(t,e,r,n,i,o,s,a){var u,c,l,h,f,d=r.props,p=e.props;if(i="svg"===e.type||i,null!=o)for(u=0;u<o.length;u++)if(null!=(c=o[u])&&((null===e.type?3===c.nodeType:c.localName===e.type)||t==c)){t=c,o[u]=null;break}if(null==t){if(null===e.type)return document.createTextNode(p);t=i?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,p.is&&{is:p.is}),o=null,a=!1}if(null===e.type)d!==p&&t.data!=p&&(t.data=p);else{if(null!=o&&(o=dR.slice.call(t.childNodes)),l=(d=r.props||fR).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!a){if(d===fR)for(d={},f=0;f<t.attributes.length;f++)d[t.attributes[f].name]=t.attributes[f].value;(h||l)&&(h&&l&&h.__html==l.__html||(t.innerHTML=h&&h.__html||""))}(function(t,e,r,n,i){var o;for(o in r)"children"===o||"key"===o||o in e||RR(t,o,null,r[o],n);for(o in e)i&&"function"!=typeof e[o]||"children"===o||"key"===o||"value"===o||"checked"===o||r[o]===e[o]||RR(t,o,e[o],r[o],n)})(t,p,d,i,a),h?e.__k=[]:(e.__k=e.props.children,MR(t,e,r,n,"foreignObject"!==e.type&&i,o,s,fR,a)),a||("value"in p&&void 0!==(u=p.value)&&u!==t.value&&RR(t,"value",u,d.value,!1),"checked"in p&&void 0!==(u=p.checked)&&u!==t.checked&&RR(t,"checked",u,d.checked,!1))}return t}function PR(t,e,r){try{"function"==typeof t?t(e):t.current=e}catch(t){tR.__e(t,r)}}function NR(t,e,r){var n,i,o;if(tR.unmount&&tR.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||PR(n,null,e)),r||"function"==typeof t.type||(r=null!=(i=t.__e)),t.__e=t.__d=void 0,null!=(n=t.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(t){tR.__e(t,e)}n.base=n.__P=null}if(n=t.__k)for(o=0;o<n.length;o++)n[o]&&NR(n[o],e,r);null!=i&&gR(i)}function LR(t,e,r){return this.constructor(t,r)}function BR(t,e,r){var n,i,o;tR.__&&tR.__(t,e),i=(n=r===sR)?null:r&&r.__k||e.__k,t=yR(_R,null,[t]),o=[],OR(e,(n?e:r||e).__k=t,i||fR,fR,void 0!==e.ownerSVGElement,r&&!n?[r]:i?null:dR.slice.call(e.childNodes),o,r||fR,n),IR(o,t)}tR={__e:function(t,e){for(var r,n;e=e.__;)if((r=e.__c)&&!r.__)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(t))),null!=r.componentDidCatch&&(n=!0,r.componentDidCatch(t)),n)return xR(r.__E=r)}catch(e){t=e}throw t}},eR=function(t){return null!=t&&void 0===t.constructor},bR.prototype.setState=function(t,e){var r;r=this.__s!==this.state?this.__s:this.__s=mR({},this.state),"function"==typeof t&&(t=t(r,this.props)),t&&mR(r,t),null!=t&&this.__v&&(e&&this.__h.push(e),xR(this))},bR.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),xR(this))},bR.prototype.render=_R,rR=[],nR=0,iR="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,sR=fR,aR=0,hR.render=BR,hR.hydrate=function(t,e){BR(t,e,sR)},hR.createElement=yR,hR.h=yR,hR.Fragment=_R,hR.createRef=function(){return{}},hR.isValidElement=eR,hR.Component=bR,hR.cloneElement=function(t,e){var r,n;for(n in e=mR(mR({},t.props),e),arguments.length>2&&(e.children=dR.slice.call(arguments,2)),r={},e)"key"!==n&&"ref"!==n&&(r[n]=e[n]);return vR(t.type,r,e.key||t.key,e.ref||t.ref,null)},hR.createContext=function(t){var e={},r={__c:"__cC"+aR++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,i=this;return this.getChildContext||(n=[],this.getChildContext=function(){return e[r.__c]=i,e},this.shouldComponentUpdate=function(t){i.props.value!==t.value&&n.some((function(e){e.context=t.value,xR(e)}))},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return r.Consumer.contextType=r,r.Provider.__=r,r},hR.toChildArray=kR,hR._e=NR,hR.options=tR;var UR,jR,DR,FR=hR,zR=0,qR=[],HR=FR.options.__r,WR=FR.options.diffed,GR=FR.options.__c,VR=FR.options.unmount;function KR(t,e){FR.options.__h&&FR.options.__h(jR,t,zR||e),zR=0;var r=jR.__H||(jR.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function $R(t){return zR=1,ZR(rT,t)}function ZR(t,e,r){var n=KR(UR++,2);return n.__c||(n.__c=jR,n.__=[r?r(e):rT(void 0,e),function(e){var r=t(n.__[0],e);n.__[0]!==r&&(n.__[0]=r,n.__c.setState({}))}]),n.__}function JR(t,e){var r=KR(UR++,4);!FR.options.__s&&eT(r.__H,e)&&(r.__=t,r.__H=e,jR.__h.push(r))}function YR(t,e){var r=KR(UR++,7);return eT(r.__H,e)?(r.__H=e,r.__h=t,r.__=t()):r.__}function XR(){qR.some((function(t){if(t.__P)try{t.__H.__h.forEach(QR),t.__H.__h.forEach(tT),t.__H.__h=[]}catch(e){return t.__H.__h=[],FR.options.__e(e,t.__v),!0}})),qR=[]}function QR(t){t.t&&t.t()}function tT(t){var e=t.__();"function"==typeof e&&(t.t=e)}function eT(t,e){return!t||e.some((function(e,r){return e!==t[r]}))}function rT(t,e){return"function"==typeof e?e(t):e}function nT(t){return t&&"object"==typeof t&&"default"in t?t.default:t}FR.options.__r=function(t){HR&&HR(t),UR=0,(jR=t.__c).__H&&(jR.__H.__h.forEach(QR),jR.__H.__h.forEach(tT),jR.__H.__h=[])},FR.options.diffed=function(t){WR&&WR(t);var e=t.__c;if(e){var r=e.__H;r&&r.__h.length&&(1!==qR.push(e)&&DR===FR.options.requestAnimationFrame||((DR=FR.options.requestAnimationFrame)||function(t){var e,r=function(){clearTimeout(n),cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);"undefined"!=typeof window&&(e=requestAnimationFrame(r))})(XR))}},FR.options.__c=function(t,e){e.some((function(t){try{t.__h.forEach(QR),t.__h=t.__h.filter((function(t){return!t.__||tT(t)}))}catch(r){e.some((function(t){t.__h&&(t.__h=[])})),e=[],FR.options.__e(r,t.__v)}})),GR&&GR(t,e)},FR.options.unmount=function(t){VR&&VR(t);var e=t.__c;if(e){var r=e.__H;if(r)try{r.__.forEach((function(t){return t.t&&t.t()}))}catch(t){FR.options.__e(t,e.__v)}}},lR.useState=$R,lR.useReducer=ZR,lR.useEffect=function(t,e){var r=KR(UR++,3);!FR.options.__s&&eT(r.__H,e)&&(r.__=t,r.__H=e,jR.__H.__h.push(r))},lR.useLayoutEffect=JR,lR.useRef=function(t){return zR=5,YR((function(){return{current:t}}),[])},lR.useImperativeHandle=function(t,e,r){zR=6,JR((function(){"function"==typeof t?t(e()):t&&(t.current=e())}),null==r?r:r.concat(t))},lR.useMemo=YR,lR.useCallback=function(t,e){return zR=8,YR((function(){return t}),e)},lR.useContext=function(t){var e=jR.context[t.__c],r=KR(UR++,9);return r.__c=t,e?(null==r.__&&(r.__=!0,e.sub(jR)),e.props.value):t.__},lR.useDebugValue=function(t,e){FR.options.useDebugValue&&FR.options.useDebugValue(e?e(t):t)},lR.useErrorBoundary=function(t){var e=KR(UR++,10),r=$R();return e.__=t,jR.componentDidCatch||(jR.componentDidCatch=function(t){e.__&&e.__(t),r[1](t)}),[r[0],function(){r[1](void 0)}]},function(t){var e=lR,r=hR;function n(t,e){for(var r in e)t[r]=e[r];return t}function i(t,e){for(var r in t)if("__source"!==r&&!(r in e))return!0;for(var n in e)if("__source"!==n&&t[n]!==e[n])return!0;return!1}var o=function(t){var e,r;function n(e){var r;return(r=t.call(this,e)||this).isPureReactComponent=!0,r}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.shouldComponentUpdate=function(t,e){return i(this.props,t)||i(this.state,e)},n}(r.Component);function s(t,e){function o(t){var r=this.props.ref,n=r==t.ref;return!n&&r&&(r.call?r(null):r.current=null),e?!e(this.props,t)||!n:i(this.props,t)}function s(e){return this.shouldComponentUpdate=o,r.createElement(t,n({},e))}return s.prototype.isReactComponent=!0,s.displayName="Memo("+(t.displayName||t.name)+")",s.t=!0,s}var a=r.options.__b;function u(t){function e(e){var r=n({},e);return delete r.ref,t(r,e.ref)}return e.prototype.isReactComponent=e.t=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}r.options.__b=function(t){t.type&&t.type.t&&t.ref&&(t.props.ref=t.ref,t.ref=null),a&&a(t)};var c=function(t,e){return t?r.toChildArray(t).reduce((function(t,r,n){return t.concat(e(r,n))}),[]):null},l={map:c,forEach:c,count:function(t){return t?r.toChildArray(t).length:0},only:function(t){if(1!==(t=r.toChildArray(t)).length)throw new Error("Children.only() expects only one child.");return t[0]},toArray:r.toChildArray},h=r.options.__e;function f(t){return t&&((t=n({},t)).__c=null,t.__k=t.__k&&t.__k.map(f)),t}function d(){this.__u=0,this.o=null,this.__b=null}function p(t){var e=t.__.__c;return e&&e.u&&e.u(t)}function m(t){var e,n,i;function o(o){if(e||(e=t()).then((function(t){n=t.default||t}),(function(t){i=t})),i)throw i;if(!n)throw e;return r.createElement(n,o)}return o.displayName="Lazy",o.t=!0,o}function g(){this.i=null,this.l=null}r.options.__e=function(t,e,r){if(t.then)for(var n,i=e;i=i.__;)if((n=i.__c)&&n.__c)return n.__c(t,e.__c);h(t,e,r)},(d.prototype=new r.Component).__c=function(t,e){var r=this;null==r.o&&(r.o=[]),r.o.push(e);var n=p(r.__v),i=!1,o=function(){i||(i=!0,n?n(s):s())};e.__c=e.componentWillUnmount,e.componentWillUnmount=function(){o(),e.__c&&e.__c()};var s=function(){var t;if(!--r.__u)for(r.__v.__k[0]=r.state.u,r.setState({u:r.__b=null});t=r.o.pop();)t.forceUpdate()};r.__u++||r.setState({u:r.__b=r.__v.__k[0]}),t.then(o,o)},d.prototype.render=function(t,e){return this.__b&&(this.__v.__k[0]=f(this.__b),this.__b=null),[r.createElement(r.Component,null,e.u?null:t.children),e.u&&t.fallback]};var y=function(t,e,r){if(++r[1]===r[0]&&t.l.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.l.size))for(r=t.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.i=r=r[2]}};(g.prototype=new r.Component).u=function(t){var e=this,r=p(e.__v),n=e.l.get(t);return n[0]++,function(i){var o=function(){e.props.revealOrder?(n.push(i),y(e,t,n)):i()};r?r(o):o()}},g.prototype.render=function(t){this.i=null,this.l=new Map;var e=r.toChildArray(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.l.set(e[n],this.i=[1,0,this.i]);return t.children},g.prototype.componentDidUpdate=g.prototype.componentDidMount=function(){var t=this;t.l.forEach((function(e,r){y(t,r,e)}))};var v=function(){function t(){}var e=t.prototype;return e.getChildContext=function(){return this.props.context},e.render=function(t){return t.children},t}();function _(t){var e=this,n=t.container,i=r.createElement(v,{context:e.context},t.vnode);return e.s&&e.s!==n&&(e.p.parentNode&&e.s.removeChild(e.p),r._e(e.v),e.h=!1),t.vnode?e.h?(n.__k=e.__k,r.render(i,n),e.__k=n.__k):(e.p=document.createTextNode(""),r.hydrate("",n),n.appendChild(e.p),e.h=!0,e.s=n,r.render(i,n,e.p),e.__k=e.p.__k):e.h&&(e.p.parentNode&&e.s.removeChild(e.p),r._e(e.v)),e.v=i,e.componentWillUnmount=function(){e.p.parentNode&&e.s.removeChild(e.p),r._e(e.v)},null}function b(t,e){return r.createElement(_,{vnode:t,container:e})}var w=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;r.Component.prototype.isReactComponent={};var E="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function x(t,e,n){if(null==e.__k)for(;e.firstChild;)e.removeChild(e.firstChild);return r.render(t,e),"function"==typeof n&&n(),t?t.__c:null}var S=r.options.event;function M(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}r.options.event=function(t){S&&(t=S(t)),t.persist=function(){};var e=!1,r=!1,n=t.stopPropagation;t.stopPropagation=function(){n.call(t),e=!0};var i=t.preventDefault;return t.preventDefault=function(){i.call(t),r=!0},t.isPropagationStopped=function(){return e},t.isDefaultPrevented=function(){return r},t.nativeEvent=t};var k={configurable:!0,get:function(){return this.class}},A=r.options.vnode;function R(t){return r.createElement.bind(null,t)}function T(t){return!!t&&t.$$typeof===E}function O(t){return T(t)?r.cloneElement.apply(null,arguments):t}function I(t){return!!t.__k&&(r.render(null,t),!0)}function C(t){return t&&(t.base||1===t.nodeType&&t)||null}r.options.vnode=function(t){t.$$typeof=E;var e=t.type,n=t.props;if(e){if(n.class!=n.className&&(k.enumerable="className"in n,null!=n.className&&(n.class=n.className),Object.defineProperty(n,"className",k)),"function"!=typeof e){var i,o,s;for(s in n.defaultValue&&void 0!==n.value&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&"select"===e&&(r.toChildArray(n.children).forEach((function(t){-1!=n.value.indexOf(t.props.value)&&(t.props.selected=!0)})),delete n.value),n)if(i=w.test(s))break;if(i)for(s in o=t.props={},n)o[w.test(s)?s.replace(/[A-Z0-9]/,"-$&").toLowerCase():s]=n[s]}!function(e){var r=t.type,n=t.props;if(n&&"string"==typeof r){var i={};for(var o in n)/^on(Ani|Tra|Tou)/.test(o)&&(n[o.toLowerCase()]=n[o],delete n[o]),i[o.toLowerCase()]=o;if(i.ondoubleclick&&(n.ondblclick=n[i.ondoubleclick],delete n[i.ondoubleclick]),i.onbeforeinput&&(n.onbeforeinput=n[i.onbeforeinput],delete n[i.onbeforeinput]),i.onchange&&("textarea"===r||"input"===r.toLowerCase()&&!/^fil|che|ra/i.test(n.type))){var s=i.oninput||"oninput";n[s]||(n[s]=n[i.onchange],delete n[i.onchange])}}}(),"function"==typeof e&&!e.m&&e.prototype&&(M(e.prototype,"componentWillMount"),M(e.prototype,"componentWillReceiveProps"),M(e.prototype,"componentWillUpdate"),e.m=!0)}A&&A(t)};var P=function(t,e){return t(e)},N={useState:e.useState,useReducer:e.useReducer,useEffect:e.useEffect,useLayoutEffect:e.useLayoutEffect,useRef:e.useRef,useImperativeHandle:e.useImperativeHandle,useMemo:e.useMemo,useCallback:e.useCallback,useContext:e.useContext,useDebugValue:e.useDebugValue,version:"16.8.0",Children:l,render:x,hydrate:x,unmountComponentAtNode:I,createPortal:b,createElement:r.createElement,createContext:r.createContext,createFactory:R,cloneElement:O,createRef:r.createRef,Fragment:r.Fragment,isValidElement:T,findDOMNode:C,Component:r.Component,PureComponent:o,memo:s,forwardRef:u,unstable_batchedUpdates:P,Suspense:d,SuspenseList:g,lazy:m};Object.keys(e).forEach((function(r){t[r]=e[r]})),t.createElement=r.createElement,t.createContext=r.createContext,t.createRef=r.createRef,t.Fragment=r.Fragment,t.Component=r.Component,t.version="16.8.0",t.Children=l,t.render=x,t.hydrate=function(t,e,n){return r.hydrate(t,e),"function"==typeof n&&n(),t?t.__c:null},t.unmountComponentAtNode=I,t.createPortal=b,t.createFactory=R,t.cloneElement=O,t.isValidElement=T,t.findDOMNode=C,t.PureComponent=o,t.memo=s,t.forwardRef=u,t.unstable_batchedUpdates=P,t.Suspense=d,t.SuspenseList=g,t.lazy=m,t.default=N}(cR);var iT=jh,oT=nT(YA),sT=nT(uR),aT=cR;"undefined"==typeof Symbol||(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"==typeof Symbol||(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var uT="walletconnect-wrapper",cT="walletconnect-style-sheet",lT="walletconnect-qrcode-modal",hT="walletconnect-qrcode-text";function fT(t){return aT.createElement("div",{className:"walletconnect-modal__header"},aT.createElement("img",{src:"data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8'?%3E %3Csvg width='300px' height='185px' viewBox='0 0 300 185' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 49.3 (51167) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3EWalletConnect%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='walletconnect-logo-alt' fill='%233B99FC' fill-rule='nonzero'%3E %3Cpath d='M61.4385429,36.2562612 C110.349767,-11.6319051 189.65053,-11.6319051 238.561752,36.2562612 L244.448297,42.0196786 C246.893858,44.4140867 246.893858,48.2961898 244.448297,50.690599 L224.311602,70.406102 C223.088821,71.6033071 221.106302,71.6033071 219.883521,70.406102 L211.782937,62.4749541 C177.661245,29.0669724 122.339051,29.0669724 88.2173582,62.4749541 L79.542302,70.9685592 C78.3195204,72.1657633 76.337001,72.1657633 75.1142214,70.9685592 L54.9775265,51.2530561 C52.5319653,48.8586469 52.5319653,44.9765439 54.9775265,42.5821357 L61.4385429,36.2562612 Z M280.206339,77.0300061 L298.128036,94.5769031 C300.573585,96.9713 300.573599,100.85338 298.128067,103.247793 L217.317896,182.368927 C214.872352,184.763353 210.907314,184.76338 208.461736,182.368989 C208.461726,182.368979 208.461714,182.368967 208.461704,182.368957 L151.107561,126.214385 C150.496171,125.615783 149.504911,125.615783 148.893521,126.214385 C148.893517,126.214389 148.893514,126.214393 148.89351,126.214396 L91.5405888,182.368927 C89.095052,184.763359 85.1300133,184.763399 82.6844276,182.369014 C82.6844133,182.369 82.684398,182.368986 82.6843827,182.36897 L1.87196327,103.246785 C-0.573596939,100.852377 -0.573596939,96.9702735 1.87196327,94.5758653 L19.7936929,77.028998 C22.2392531,74.6345898 26.2042918,74.6345898 28.6498531,77.028998 L86.0048306,133.184355 C86.6162214,133.782957 87.6074796,133.782957 88.2188704,133.184355 C88.2188796,133.184346 88.2188878,133.184338 88.2188969,133.184331 L145.571,77.028998 C148.016505,74.6345347 151.981544,74.6344449 154.427161,77.028798 C154.427195,77.0288316 154.427229,77.0288653 154.427262,77.028899 L211.782164,133.184331 C212.393554,133.782932 213.384814,133.782932 213.996204,133.184331 L271.350179,77.0300061 C273.79574,74.6355969 277.760778,74.6355969 280.206339,77.0300061 Z' id='WalletConnect'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/svg%3E",className:"walletconnect-modal__headerLogo"}),aT.createElement("p",null,"WalletConnect"),aT.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:t.onClose},aT.createElement("div",{id:"walletconnect-qrcode-close",className:"walletconnect-modal__close__icon"},aT.createElement("div",{className:"walletconnect-modal__close__line1"}),aT.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function dT(t){return aT.createElement("a",{className:"walletconnect-connect__button",href:t.href,id:"walletconnect-connect-button-"+t.name,onClick:t.onClick,rel:"noopener noreferrer",style:{backgroundColor:t.color},target:"_blank"},t.name)}function pT(t){var e=t.color,r=t.href,n=t.name,i=t.logo,o=t.onClick;return aT.createElement("a",{className:"walletconnect-modal__base__row",href:r,onClick:o,rel:"noopener noreferrer",target:"_blank"},aT.createElement("h3",{className:"walletconnect-modal__base__row__h3"},n),aT.createElement("div",{className:"walletconnect-modal__base__row__right"},aT.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+i+"') "+e,backgroundSize:"100%"}}),aT.createElement("img",{src:"data:image/svg+xml,%3Csvg width='8' height='18' viewBox='0 0 8 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M0.586301 0.213898C0.150354 0.552968 0.0718197 1.18124 0.41089 1.61719L5.2892 7.88931C5.57007 8.25042 5.57007 8.75608 5.2892 9.11719L0.410889 15.3893C0.071819 15.8253 0.150353 16.4535 0.586301 16.7926C1.02225 17.1317 1.65052 17.0531 1.98959 16.6172L6.86791 10.3451C7.7105 9.26174 7.7105 7.74476 6.86791 6.66143L1.98959 0.38931C1.65052 -0.0466374 1.02225 -0.125172 0.586301 0.213898Z' fill='%233C4252'/%3E %3C/svg%3E",className:"walletconnect-modal__base__row__right__caret"})))}function mT(t){var e=t.color,r=t.href,n=t.name,i=t.logo,o=t.onClick,s=window.innerWidth<768?(n.length>8?2.5:2.7)+"vw":"inherit";return aT.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:r,onClick:o,rel:"noopener noreferrer",target:"_blank"},aT.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+i+"') "+e,backgroundSize:"100%"}}),aT.createElement("div",{style:{fontSize:s},className:"walletconnect-connect__button__text"},n))}function gT(t){var e=iT.isAndroid(),r=aT.useState(""),n=r[0],i=r[1],o=aT.useState(""),s=o[0],a=o[1],u=aT.useState(1),c=u[0],l=u[1],h=s?t.links.filter((function(t){return t.name.toLowerCase().includes(s.toLowerCase())})):t.links,f=t.errorMessage,d=s||h.length>5,p=Math.ceil(h.length/12),m=[12*(c-1)+1,12*c],g=h.length?h.filter((function(t,e){return e+1>=m[0]&&e+1<=m[1]})):[],y=!(e||!(p>1)),v=void 0;return aT.createElement("div",null,aT.createElement("p",{id:hT,className:"walletconnect-qrcode__text"},e?t.text.connect_mobile_wallet:t.text.choose_preferred_wallet),!e&&aT.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:n,onChange:function(t){i(t.target.value),clearTimeout(v),t.target.value?v=setTimeout((function(){a(t.target.value),l(1)}),1e3):(i(""),a(""),l(1))}}),aT.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(e?"__android":d&&h.length?"__wrap":"")},e?aT.createElement(dT,{name:t.text.connect,color:"rgb(64, 153, 255)",href:t.uri,onClick:aT.useCallback((function(){iT.saveMobileLinkInfo({name:"Unknown",href:t.uri})}),[])}):g.length?g.map((function(e){var r=e.color,n=e.name,i=e.shortName,o=e.logo,s=iT.formatIOSMobile(t.uri,e),a=aT.useCallback((function(){iT.saveMobileLinkInfo({name:n,href:s})}),[g]);return d?aT.createElement(mT,{color:r,href:s,name:i,logo:o,onClick:a}):aT.createElement(pT,{color:r,href:s,name:n,logo:o,onClick:a})})):aT.createElement(aT.Fragment,null,aT.createElement("p",null,f.length?t.errorMessage:t.links.length&&!h.length?t.text.no_wallets_found:t.text.loading))),y&&aT.createElement("div",{className:"walletconnect-modal__footer"},Array(p).fill(0).map((function(t,e){var r=e+1,n=c===r;return aT.createElement("a",{style:{margin:"auto 10px",fontWeight:n?"bold":"normal"},onClick:function(){return l(r)}},r)}))))}function yT(t){var e=!!t.message.trim();return aT.createElement("div",{className:"walletconnect-qrcode__notification"+(e?" notification__show":"")},t.message)}function vT(t){var e=aT.useState(""),r=e[0],n=e[1],i=aT.useState(""),o=i[0],s=i[1];aT.useEffect((function(){try{return Promise.resolve(function(t){try{var e="";return Promise.resolve(oT.toString(t,{margin:0,type:"svg"})).then((function(t){return"string"==typeof t&&(e=t.replace("<svg",'<svg class="walletconnect-qrcode__image"')),e}))}catch(t){return Promise.reject(t)}}(t.uri)).then((function(t){s(t)}))}catch(t){Promise.reject(t)}}),[]);return aT.createElement("div",null,aT.createElement("p",{id:hT,className:"walletconnect-qrcode__text"},t.text.scan_qrcode_with_wallet),aT.createElement("div",{dangerouslySetInnerHTML:{__html:o}}),aT.createElement("div",{className:"walletconnect-modal__footer"},aT.createElement("a",{onClick:function(){sT(t.uri)?(n(t.text.copied_to_clipboard),setInterval((function(){return n("")}),1200)):(n("Error"),setInterval((function(){return n("")}),1200))}},t.text.copy_to_clipboard)),aT.createElement(yT,{message:r}))}function _T(t){var e=iT.isAndroid(),r=iT.isMobile(),n=r?t.qrcodeModalOptions&&t.qrcodeModalOptions.mobileLinks?t.qrcodeModalOptions.mobileLinks:void 0:t.qrcodeModalOptions&&t.qrcodeModalOptions.desktopLinks?t.qrcodeModalOptions.desktopLinks:void 0,i=aT.useState(!1),o=i[0],s=i[1],a=aT.useState(!1),u=a[0],c=a[1],l=aT.useState(!r),h=l[0],f=l[1],d={mobile:r,text:t.text,uri:t.uri,qrcodeModalOptions:t.qrcodeModalOptions},p=aT.useState(""),m=p[0],g=p[1],y=aT.useState(!1),v=y[0],_=y[1],b=aT.useState([]),w=b[0],E=b[1],x=aT.useState(""),S=x[0],M=x[1],k=function(){u||o||n&&!n.length||w.length>0||aT.useEffect((function(){!function(){try{if(e)return Promise.resolve();s(!0);var i=function(t,e){try{var r=t()}catch(t){return e(t)}return r&&r.then?r.then(void 0,e):r}((function(){var e=t.qrcodeModalOptions&&t.qrcodeModalOptions.registryUrl?t.qrcodeModalOptions.registryUrl:iT.getWalletRegistryUrl();return Promise.resolve(fetch(e).then((function(t){return t.json()}))).then((function(e){var i=r?"mobile":"desktop",o=iT.getMobileLinkRegistry(iT.formatMobileRegistry(e,i),n);s(!1),c(!0),M(o.length?"":t.text.no_supported_wallets),E(o);var a=1===o.length;a&&(g(iT.formatIOSMobile(t.uri,o[0])),f(!0)),_(a)}))}),(function(e){s(!1),c(!0),M(t.text.something_went_wrong),console.error(e)}));Promise.resolve(i&&i.then?i.then((function(){})):void 0)}catch(t){return Promise.reject(t)}}()}))};k();var A=r?h:!h;return aT.createElement("div",{id:lT,className:"walletconnect-qrcode__base animated fadeIn"},aT.createElement("div",{className:"walletconnect-modal__base"},aT.createElement(fT,{onClose:t.onClose}),v&&h?aT.createElement("div",{className:"walletconnect-modal__single_wallet"},aT.createElement("a",{onClick:function(){return iT.saveMobileLinkInfo({name:w[0].name,href:m})},href:m,rel:"noopener noreferrer",target:"_blank"},t.text.connect_with+" "+(v?w[0].name:"")+" ›")):e||o||!o&&w.length?aT.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(A?" right__selected":"")},aT.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),r?aT.createElement(aT.Fragment,null,aT.createElement("a",{onClick:function(){return f(!1),k()}},t.text.mobile),aT.createElement("a",{onClick:function(){return f(!0)}},t.text.qrcode)):aT.createElement(aT.Fragment,null,aT.createElement("a",{onClick:function(){return f(!0)}},t.text.qrcode),aT.createElement("a",{onClick:function(){return f(!1),k()}},t.text.desktop))):null,aT.createElement("div",null,h||!e&&!o&&!w.length?aT.createElement(vT,Object.assign({},d)):aT.createElement(gT,Object.assign({},d,{links:w,errorMessage:S})))))}var bT={de:{choose_preferred_wallet:"Wähle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterstützten Wallet",no_wallets_found:"keine Wallet gefunden"},en:{choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},es:{choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera móvil",scan_qrcode_with_wallet:"Escanea el código QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"Código QR",mobile:"Móvil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo salió mal",no_supported_wallets:"Todavía no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},fr:{choose_preferred_wallet:"Choisissez votre portefeuille préféré",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copié!",connect_with:"Connectez-vous à l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourné",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouvé"},ko:{choose_preferred_wallet:"원하는 지갑을 선택하세요",connect_mobile_wallet:"모바일 지갑과 연결",scan_qrcode_with_wallet:"WalletConnect 지원 지갑에서 QR코드를 스캔하세요",connect:"연결",qrcode:"QR 코드",mobile:"모바일",desktop:"데스크탑",copy_to_clipboard:"클립보드에 복사",copied_to_clipboard:"클립보드에 복사되었습니다!",connect_with:"와 연결하다",loading:"로드 중...",something_went_wrong:"문제가 발생했습니다.",no_supported_wallets:"아직 지원되는 지갑이 없습니다",no_wallets_found:"지갑을 찾을 수 없습니다"},pt:{choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se à carteira móvel",scan_qrcode_with_wallet:"Ler o código QR com uma carteira compatível com WalletConnect",connect:"Conectar",qrcode:"Código QR",mobile:"Móvel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda não há carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},zh:{choose_preferred_wallet:"选择你的钱包",connect_mobile_wallet:"连接至移动端钱包",scan_qrcode_with_wallet:"使用兼容 WalletConnect 的钱包扫描二维码",connect:"连接",qrcode:"二维码",mobile:"移动",desktop:"桌面",copy_to_clipboard:"复制到剪贴板",copied_to_clipboard:"复制到剪贴板成功！",connect_with:"通过以下方式连接",loading:"正在加载...",something_went_wrong:"出了问题",no_supported_wallets:"目前还没有支持的钱包",no_wallets_found:"没有找到钱包"},fa:{choose_preferred_wallet:"کیف پول مورد نظر خود را انتخاب کنید",connect_mobile_wallet:"به کیف پول موبایل وصل شوید",scan_qrcode_with_wallet:"کد QR را با یک کیف پول سازگار با WalletConnect اسکن کنید",connect:"اتصال",qrcode:"کد QR",mobile:"سیار",desktop:"دسکتاپ",copy_to_clipboard:"کپی به کلیپ بورد",copied_to_clipboard:"در کلیپ بورد کپی شد!",connect_with:"ارتباط با",loading:"...بارگذاری",something_went_wrong:"مشکلی پیش آمد",no_supported_wallets:"هنوز هیچ کیف پول پشتیبانی شده ای وجود ندارد",no_wallets_found:"هیچ کیف پولی پیدا نشد"}};function wT(){var t=iT.getDocumentOrThrow(),e=t.getElementById(lT);e&&(e.className=e.className.replace("fadeIn","fadeOut"),setTimeout((function(){var e=t.getElementById(uT);e&&t.body.removeChild(e)}),300))}function ET(t){return function(){wT(),t&&t()}}function xT(t,e,r){!function(){var t=iT.getDocumentOrThrow(),e=t.getElementById(cT);e&&t.head.removeChild(e);var r=t.createElement("style");r.setAttribute("id",cT),r.innerText=':root {\n  --animation-duration: 300ms;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.animated {\n  animation-duration: var(--animation-duration);\n  animation-fill-mode: both;\n}\n\n.fadeIn {\n  animation-name: fadeIn;\n}\n\n.fadeOut {\n  animation-name: fadeOut;\n}\n\n#walletconnect-wrapper {\n  -webkit-user-select: none;\n  align-items: center;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  pointer-events: none;\n  position: fixed;\n  top: 0;\n  user-select: none;\n  width: 100%;\n  z-index: 99999999999999;\n}\n\n.walletconnect-modal__headerLogo {\n  height: 21px;\n}\n\n.walletconnect-modal__header p {\n  color: #ffffff;\n  font-size: 20px;\n  font-weight: 600;\n  margin: 0;\n  align-items: flex-start;\n  display: flex;\n  flex: 1;\n  margin-left: 5px;\n}\n\n.walletconnect-modal__close__wrapper {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  z-index: 10000;\n  background: white;\n  border-radius: 26px;\n  padding: 6px;\n  box-sizing: border-box;\n  width: 26px;\n  height: 26px;\n  cursor: pointer;\n}\n\n.walletconnect-modal__close__icon {\n  position: relative;\n  top: 7px;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transform: rotate(45deg);\n}\n\n.walletconnect-modal__close__line1 {\n  position: absolute;\n  width: 100%;\n  border: 1px solid rgb(48, 52, 59);\n}\n\n.walletconnect-modal__close__line2 {\n  position: absolute;\n  width: 100%;\n  border: 1px solid rgb(48, 52, 59);\n  transform: rotate(90deg);\n}\n\n.walletconnect-qrcode__base {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  background: rgba(37, 41, 46, 0.95);\n  height: 100%;\n  left: 0;\n  pointer-events: auto;\n  position: fixed;\n  top: 0;\n  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n  width: 100%;\n  will-change: opacity;\n  padding: 40px;\n  box-sizing: border-box;\n}\n\n.walletconnect-qrcode__text {\n  color: rgba(60, 66, 82, 0.6);\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: 0;\n  line-height: 1.1875em;\n  margin: 10px 0 20px 0;\n  text-align: center;\n  width: 100%;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-qrcode__text {\n    font-size: 4vw;\n  }\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-qrcode__text {\n    font-size: 14px;\n  }\n}\n\n.walletconnect-qrcode__image {\n  width: calc(100% - 30px);\n  box-sizing: border-box;\n  cursor: none;\n  margin: 0 auto;\n}\n\n.walletconnect-qrcode__notification {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  font-size: 16px;\n  padding: 16px 20px;\n  border-radius: 16px;\n  text-align: center;\n  transition: all 0.1s ease-in-out;\n  background: white;\n  color: black;\n  margin-bottom: -60px;\n  opacity: 0;\n}\n\n.walletconnect-qrcode__notification.notification__show {\n  opacity: 1;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-modal__header {\n    height: 130px;\n  }\n  .walletconnect-modal__base {\n    overflow: auto;\n  }\n}\n\n@media only screen and (min-device-width: 415px) and (max-width: 768px) {\n  #content {\n    max-width: 768px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (min-width: 375px) and (max-width: 415px) {\n  #content {\n    max-width: 414px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (min-width: 320px) and (max-width: 375px) {\n  #content {\n    max-width: 375px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (max-width: 320px) {\n  #content {\n    max-width: 320px;\n    box-sizing: border-box;\n  }\n}\n\n.walletconnect-modal__base {\n  -webkit-font-smoothing: antialiased;\n  background: #ffffff;\n  border-radius: 24px;\n  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);\n  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,\n    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,\n    "Open Sans", "Helvetica Neue", sans-serif;\n  margin-top: 41px;\n  padding: 24px 24px 22px;\n  pointer-events: auto;\n  position: relative;\n  text-align: center;\n  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n  will-change: transform;\n  overflow: visible;\n  transform: translateY(-50%);\n  top: 50%;\n  max-width: 500px;\n  margin: auto;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-modal__base {\n    padding: 24px 12px;\n  }\n}\n\n.walletconnect-modal__base .hidden {\n  transform: translateY(150%);\n  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);\n}\n\n.walletconnect-modal__header {\n  align-items: center;\n  display: flex;\n  height: 26px;\n  left: 0;\n  justify-content: space-between;\n  position: absolute;\n  top: -42px;\n  width: 100%;\n}\n\n.walletconnect-modal__base .wc-logo {\n  align-items: center;\n  display: flex;\n  height: 26px;\n  margin-top: 15px;\n  padding-bottom: 15px;\n  pointer-events: auto;\n}\n\n.walletconnect-modal__base .wc-logo div {\n  background-color: #3399ff;\n  height: 21px;\n  margin-right: 5px;\n  mask-image: url("images/wc-logo.svg") center no-repeat;\n  width: 32px;\n}\n\n.walletconnect-modal__base .wc-logo p {\n  color: #ffffff;\n  font-size: 20px;\n  font-weight: 600;\n  margin: 0;\n}\n\n.walletconnect-modal__base h2 {\n  color: rgba(60, 66, 82, 0.6);\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: 0;\n  line-height: 1.1875em;\n  margin: 0 0 19px 0;\n  text-align: center;\n  width: 100%;\n}\n\n.walletconnect-modal__base__row {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  align-items: center;\n  border-radius: 20px;\n  cursor: pointer;\n  display: flex;\n  height: 56px;\n  justify-content: space-between;\n  padding: 0 15px;\n  position: relative;\n  margin: 0px 0px 8px;\n  text-align: left;\n  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  will-change: transform;\n  text-decoration: none;\n}\n\n.walletconnect-modal__base__row:hover {\n  background: rgba(60, 66, 82, 0.06);\n}\n\n.walletconnect-modal__base__row:active {\n  background: rgba(60, 66, 82, 0.06);\n  transform: scale(0.975);\n  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n}\n\n.walletconnect-modal__base__row__h3 {\n  color: #25292e;\n  font-size: 20px;\n  font-weight: 700;\n  margin: 0;\n  padding-bottom: 3px;\n}\n\n.walletconnect-modal__base__row__right {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n}\n\n.walletconnect-modal__base__row__right__app-icon {\n  border-radius: 8px;\n  height: 34px;\n  margin: 0 11px 2px 0;\n  width: 34px;\n  background-size: 100%;\n  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);\n}\n\n.walletconnect-modal__base__row__right__caret {\n  height: 18px;\n  opacity: 0.3;\n  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  width: 8px;\n  will-change: opacity;\n}\n\n.walletconnect-modal__base__row:hover .caret,\n.walletconnect-modal__base__row:active .caret {\n  opacity: 0.6;\n}\n\n.walletconnect-modal__mobile__toggle {\n  width: 80%;\n  display: flex;\n  margin: 0 auto;\n  position: relative;\n  overflow: hidden;\n  border-radius: 8px;\n  margin-bottom: 18px;\n  background: #d4d5d9;\n}\n\n.walletconnect-modal__single_wallet {\n  display: flex;\n  justify-content: center;\n  margin-top: 7px;\n  margin-bottom: 18px;\n}\n\n.walletconnect-modal__single_wallet a {\n  cursor: pointer;\n  color: rgb(64, 153, 255);\n  font-size: 21px;\n  font-weight: 800;\n  text-decoration: none !important;\n  margin: 0 auto;\n}\n\n.walletconnect-modal__mobile__toggle_selector {\n  width: calc(50% - 8px);\n  background: white;\n  position: absolute;\n  border-radius: 5px;\n  height: calc(100% - 8px);\n  top: 4px;\n  transition: all 0.2s ease-in-out;\n  transform: translate3d(4px, 0, 0);\n}\n\n.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {\n  transform: translate3d(calc(100% + 12px), 0, 0);\n}\n\n.walletconnect-modal__mobile__toggle a {\n  font-size: 12px;\n  width: 50%;\n  text-align: center;\n  padding: 8px;\n  margin: 0;\n  font-weight: 600;\n  z-index: 1;\n}\n\n.walletconnect-modal__footer {\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-modal__footer {\n    margin-top: 5vw;\n  }\n}\n\n.walletconnect-modal__footer a {\n  cursor: pointer;\n  color: #898d97;\n  font-size: 15px;\n  margin: 0 auto;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-modal__footer a {\n    font-size: 14px;\n  }\n}\n\n.walletconnect-connect__buttons__wrapper {\n  max-height: 44vh;\n}\n\n.walletconnect-connect__buttons__wrapper__android {\n  margin: 50% 0;\n}\n\n.walletconnect-connect__buttons__wrapper__wrap {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  margin: 10px 0;\n}\n\n@media only screen and (min-width: 768px) {\n  .walletconnect-connect__buttons__wrapper__wrap {\n    margin-top: 40px;\n  }\n}\n\n.walletconnect-connect__button {\n  background-color: rgb(64, 153, 255);\n  padding: 12px;\n  border-radius: 8px;\n  text-decoration: none;\n  color: rgb(255, 255, 255);\n  font-weight: 500;\n}\n\n.walletconnect-connect__button__icon_anchor {\n  cursor: pointer;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 8px;\n  width: 42px;\n  justify-self: center;\n  flex-direction: column;\n  text-decoration: none !important;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-connect__button__icon_anchor {\n    margin: 4px;\n  }\n}\n\n.walletconnect-connect__button__icon {\n  border-radius: 10px;\n  height: 42px;\n  margin: 0;\n  width: 42px;\n  background-size: cover !important;\n  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);\n}\n\n.walletconnect-connect__button__text {\n  color: #424952;\n  font-size: 2.7vw;\n  text-decoration: none !important;\n  padding: 0;\n  margin-top: 1.8vw;\n  font-weight: 600;\n}\n\n@media only screen and (min-width: 768px) {\n  .walletconnect-connect__button__text {\n    font-size: 16px;\n    margin-top: 12px;\n  }\n}\n\n.walletconnect-search__input {\n  border: none;\n  background: #d4d5d9;\n  border-style: none;\n  padding: 8px 16px;\n  outline: none;\n  font-style: normal;\n  font-stretch: normal;\n  font-size: 16px;\n  font-style: normal;\n  font-stretch: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  text-align: left;\n  border-radius: 8px;\n  width: calc(100% - 16px);\n  margin: 0;\n  margin-bottom: 8px;\n}\n',t.head.appendChild(r)}();var n,i=function(){var t=iT.getDocumentOrThrow(),e=t.createElement("div");return e.setAttribute("id",uT),t.body.appendChild(e),e}();aT.render(aT.createElement(_T,{text:(n=iT.getNavigatorOrThrow().language.split("-")[0]||"en",bT[n]||bT.en),uri:t,onClose:ET(e),qrcodeModalOptions:r}),i)}var ST=function(){return void 0!==le&&void 0!==le.versions&&void 0!==le.versions.node};var MT={open:function(t,e,r){console.log(t),ST()?function(t){oT.toString(t,{type:"terminal"}).then(console.log)}(t):xT(t,e,r)},close:function(){ST()||wT()}},kT={},AT={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,n,o,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,o||t,s),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var u,c,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,o),!0;case 6:return l.fn.call(l.context,e,n,i,o,s),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},a.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==e||i&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&s(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a}(AT);var RT,TT={},OT={};function IT(){if(void 0===RT){var t=new ArrayBuffer(2),e=new Uint8Array(t),r=new Uint16Array(t);if(e[0]=1,e[1]=2,258===r[0])RT="BE";else{if(513!==r[0])throw new Error("unable to figure out endianess");RT="LE"}}return RT}function CT(){return void 0!==Ft.location?Ft.location.hostname:""}function PT(){return[]}function NT(){return 0}function LT(){return Number.MAX_VALUE}function BT(){return Number.MAX_VALUE}function UT(){return[]}function jT(){return"Browser"}function DT(){return void 0!==Ft.navigator?Ft.navigator.appVersion:""}function FT(){return{}}function zT(){return{}}function qT(){return"javascript"}function HT(){return"browser"}function WT(){return"/tmp"}var GT=WT,VT={EOL:"\n",arch:qT,platform:HT,tmpdir:GT,tmpDir:WT,networkInterfaces:FT,getNetworkInterfaces:zT,release:DT,type:jT,cpus:UT,totalmem:BT,freemem:LT,uptime:NT,loadavg:PT,hostname:CT,endianness:IT},KT=dt(Object.freeze({__proto__:null,endianness:IT,hostname:CT,loadavg:PT,uptime:NT,freemem:LT,totalmem:BT,cpus:UT,type:jT,release:DT,networkInterfaces:FT,getNetworkInterfaces:zT,arch:qT,platform:HT,tmpDir:WT,tmpdir:GT,EOL:"\n",default:VT})),$T={};Object.defineProperty($T,"__esModule",{value:!0});var ZT=function(t){this.type=t,this.bubbles=!1,this.cancelable=!1,this.loaded=0,this.lengthComputable=!1,this.total=0};$T.ProgressEvent=ZT;var JT={},YT=ft&&ft.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(JT,"__esModule",{value:!0});var XT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return YT(e,t),e}(Error);JT.SecurityError=XT;var QT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return YT(e,t),e}(Error);JT.InvalidStateError=QT;var tO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return YT(e,t),e}(Error);JT.NetworkError=tO;var eO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return YT(e,t),e}(Error);JT.SyntaxError=eO;var rO={};Object.defineProperty(rO,"__esModule",{value:!0});var nO=function(){function t(){this.listeners={}}return t.prototype.addEventListener=function(t,e){t=t.toLowerCase(),this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e.handleEvent||e)},t.prototype.removeEventListener=function(t,e){if(t=t.toLowerCase(),this.listeners[t]){var r=this.listeners[t].indexOf(e.handleEvent||e);r<0||this.listeners[t].splice(r,1)}},t.prototype.dispatchEvent=function(t){var e=t.type.toLowerCase();if(t.target=this,this.listeners[e])for(var r=0,n=this.listeners[e];r<n.length;r++){n[r].call(this,t)}var i=this["on"+e];return i&&i.call(this,t),!0},t}();rO.XMLHttpRequestEventTarget=nO;var iO={},oO=ft&&ft.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(iO,"__esModule",{value:!0});var sO=function(t){function e(){var e=t.call(this)||this;return e._contentType=null,e._body=null,e._reset(),e}return oO(e,t),e.prototype._reset=function(){this._contentType=null,this._body=null},e.prototype._setData=function(t){if(null!=t)if("string"==typeof t)0!==t.length&&(this._contentType="text/plain;charset=UTF-8"),this._body=new Nf(t,"utf-8");else if(Nf.isBuffer(t))this._body=t;else if(t instanceof ArrayBuffer){for(var e=new Nf(t.byteLength),r=new Uint8Array(t),n=0;n<t.byteLength;n++)e[n]=r[n];this._body=e}else{if(!(t.buffer&&t.buffer instanceof ArrayBuffer))throw new Error("Unsupported send() data "+t);e=new Nf(t.byteLength);var i=t.byteOffset;for(r=new Uint8Array(t.buffer),n=0;n<t.byteLength;n++)e[n]=r[n+i];this._body=e}},e.prototype._finalizeHeaders=function(t,e){this._contentType&&!e["content-type"]&&(t["Content-Type"]=this._contentType),this._body&&(t["Content-Length"]=this._body.length.toString())},e.prototype._startUpload=function(t){this._body&&t.write(this._body),t.end()},e}(rO.XMLHttpRequestEventTarget);iO.XMLHttpRequestUpload=sO;var aO={};!function(){function t(e,r,n,i){return this instanceof t?(this.domain=e||void 0,this.path=r||"/",this.secure=!!n,this.script=!!i,this):new t(e,r,n,i)}function e(t,r,n){return t instanceof e?t:this instanceof e?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(n||"/"),this.explicit_path=!1,this.domain=r||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,t&&this.parse(t,r,n),this):new e(t,r,n)}t.All=Object.freeze(Object.create(null)),aO.CookieAccessInfo=t,aO.Cookie=e,e.prototype.toString=function(){var t=[this.name+"="+this.value];return this.expiration_date!==1/0&&t.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&t.push("domain="+this.domain),this.path&&t.push("path="+this.path),this.secure&&t.push("secure"),this.noscript&&t.push("httponly"),t.join("; ")},e.prototype.toValueString=function(){return this.name+"="+this.value};var r=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;function n(){var t,r;return this instanceof n?(t=Object.create(null),this.setCookie=function(n,i,o){var s,a;if(s=(n=new e(n,i,o)).expiration_date<=Date.now(),void 0!==t[n.name]){for(r=t[n.name],a=0;a<r.length;a+=1)if(r[a].collidesWith(n))return s?(r.splice(a,1),0===r.length&&delete t[n.name],!1):(r[a]=n,n);return!s&&(r.push(n),n)}return!s&&(t[n.name]=[n],t[n.name])},this.getCookie=function(e,n){var i,o;if(r=t[e])for(o=0;o<r.length;o+=1)if((i=r[o]).expiration_date<=Date.now())0===r.length&&delete t[i.name];else if(i.matches(n))return i},this.getCookies=function(e){var r,n,i=[];for(r in t)(n=this.getCookie(r,e))&&i.push(n);return i.toString=function(){return i.join(":")},i.toValueString=function(){return i.map((function(t){return t.toValueString()})).join("; ")},i},this):new n}e.prototype.parse=function(t,r,n){if(this instanceof e){var i,o=t.split(";").filter((function(t){return!!t})),s=o[0].match(/([^=]+)=([\s\S]*)/);if(!s)return void console.warn("Invalid cookie header encountered. Header: '"+t+"'");var a=s[1],u=s[2];if("string"!=typeof a||0===a.length||"string"!=typeof u)return void console.warn("Unable to extract values from cookie header. Cookie: '"+t+"'");for(this.name=a,this.value=u,i=1;i<o.length;i+=1)switch(a=(s=o[i].match(/([^=]+)(?:=([\s\S]*))?/))[1].trim().toLowerCase(),u=s[2],a){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=u?Number(Date.parse(u)):1/0;break;case"path":this.path=u?u.trim():"",this.explicit_path=!0;break;case"domain":this.domain=u?u.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0}return this.explicit_path||(this.path=n||"/"),this.explicit_domain||(this.domain=r),this}return(new e).parse(t,r,n)},e.prototype.matches=function(e){return e===t.All||!(this.noscript&&e.script||this.secure&&!e.secure||!this.collidesWith(e))},e.prototype.collidesWith=function(t){if(this.path&&!t.path||this.domain&&!t.domain)return!1;if(this.path&&0!==t.path.indexOf(this.path))return!1;if(this.explicit_path&&0!==t.path.indexOf(this.path))return!1;var e=t.domain&&t.domain.replace(/^[\.]/,""),r=this.domain&&this.domain.replace(/^[\.]/,"");if(r===e)return!0;if(r){if(!this.explicit_domain)return!1;var n=e.indexOf(r);return-1!==n&&n===e.length-r.length}return!0},aO.CookieJar=n,n.prototype.setCookies=function(t,n,i){var o,s,a=[];for(t=(t=Array.isArray(t)?t:t.split(r)).map((function(t){return new e(t,n,i)})),o=0;o<t.length;o+=1)s=t[o],this.setCookie(s,n,i)&&a.push(s);return a}}();var uO=ft&&ft.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),cO=ft&&ft.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};Object.defineProperty(OT,"__esModule",{value:!0});var lO=Oy,hO=xy,fO=KT,dO=$g,pO=$T,mO=JT,gO=iO,yO=aO,vO=function(t){function e(r){void 0===r&&(r={});var n=t.call(this)||this;return n.UNSENT=e.UNSENT,n.OPENED=e.OPENED,n.HEADERS_RECEIVED=e.HEADERS_RECEIVED,n.LOADING=e.LOADING,n.DONE=e.DONE,n.onreadystatechange=null,n.readyState=e.UNSENT,n.response=null,n.responseText="",n.responseType="",n.status=0,n.statusText="",n.timeout=0,n.upload=new gO.XMLHttpRequestUpload,n.responseUrl="",n.withCredentials=!1,n._method=null,n._url=null,n._sync=!1,n._headers={},n._loweredHeaders={},n._mimeOverride=null,n._request=null,n._response=null,n._responseParts=null,n._responseHeaders=null,n._aborting=null,n._error=null,n._loadedBytes=0,n._totalBytes=0,n._lengthComputable=!1,n._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},n._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},n._privateHeaders={"set-cookie":!0,"set-cookie2":!0},n._userAgent="Mozilla/5.0 ("+fO.type()+" "+fO.arch()+") node.js/"+le.versions.node+" v8/"+le.versions.v8,n._anonymous=r.anon||!1,n}return uO(e,t),e.prototype.open=function(t,r,n,i,o){if(void 0===n&&(n=!0),t=t.toUpperCase(),this._restrictedMethods[t])throw new e.SecurityError("HTTP method "+t+" is not allowed in XHR");var s=this._parseUrl(r,i,o);this.readyState===e.HEADERS_RECEIVED||(this.readyState,e.LOADING),this._method=t,this._url=s,this._sync=!n,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(e.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},e.prototype.setRequestHeader=function(t,r){if(this.readyState!==e.OPENED)throw new e.InvalidStateError("XHR readyState must be OPENED");var n=t.toLowerCase();this._restrictedHeaders[n]||/^sec-/.test(n)||/^proxy-/.test(n)?console.warn('Refused to set unsafe header "'+t+'"'):(r=r.toString(),null!=this._loweredHeaders[n]?(t=this._loweredHeaders[n],this._headers[t]=this._headers[t]+", "+r):(this._loweredHeaders[n]=t,this._headers[t]=r))},e.prototype.send=function(t){if(this.readyState!==e.OPENED)throw new e.InvalidStateError("XHR readyState must be OPENED");if(this._request)throw new e.InvalidStateError("send() already called");switch(this._url.protocol){case"file:":return this._sendFile(t);case"http:":case"https:":return this._sendHttp(t);default:throw new e.NetworkError("Unsupported protocol "+this._url.protocol)}},e.prototype.abort=function(){null!=this._request&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))},e.prototype.getResponseHeader=function(t){if(null==this._responseHeaders||null==t)return null;var e=t.toLowerCase();return this._responseHeaders.hasOwnProperty(e)?this._responseHeaders[t.toLowerCase()]:null},e.prototype.getAllResponseHeaders=function(){var t=this;return null==this._responseHeaders?"":Object.keys(this._responseHeaders).map((function(e){return e+": "+t._responseHeaders[e]})).join("\r\n")},e.prototype.overrideMimeType=function(t){if(this.readyState===e.LOADING||this.readyState===e.DONE)throw new e.InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=t.toLowerCase()},e.prototype.nodejsSet=function(t){if(this.nodejsHttpAgent=t.httpAgent||this.nodejsHttpAgent,this.nodejsHttpsAgent=t.httpsAgent||this.nodejsHttpsAgent,t.hasOwnProperty("baseUrl")){if(null!=t.baseUrl)if(!dO.parse(t.baseUrl,!1,!0).protocol)throw new e.SyntaxError("baseUrl must be an absolute URL");this.nodejsBaseUrl=t.baseUrl}},e.nodejsSet=function(t){e.prototype.nodejsSet(t)},e.prototype._setReadyState=function(t){this.readyState=t,this.dispatchEvent(new pO.ProgressEvent("readystatechange"))},e.prototype._sendFile=function(t){throw new Error("Protocol file: not implemented")},e.prototype._sendHttp=function(t){if(this._sync)throw new Error("Synchronous XHR processing not implemented");!t||"GET"!==this._method&&"HEAD"!==this._method?t=t||"":(console.warn("Discarding entity body for "+this._method+" requests"),t=null),this.upload._setData(t),this._finalizeHeaders(),this._sendHxxpRequest()},e.prototype._sendHxxpRequest=function(){var t=this;if(this.withCredentials){var r=e.cookieJar.getCookies(yO.CookieAccessInfo(this._url.hostname,this._url.pathname,"https:"===this._url.protocol)).toValueString();this._headers.cookie=this._headers.cookie2=r}var n="http:"===this._url.protocol?[lO,this.nodejsHttpAgent]:[hO,this.nodejsHttpsAgent],i=n[0],o=n[1],s=i.request.bind(i)({hostname:this._url.hostname,port:+this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:o});this._request=s,this.timeout&&s.setTimeout(this.timeout,(function(){return t._onHttpTimeout(s)})),s.on("response",(function(e){return t._onHttpResponse(s,e)})),s.on("error",(function(e){return t._onHttpRequestError(s,e)})),this.upload._startUpload(s),this._request===s&&this._dispatchProgress("loadstart")},e.prototype._finalizeHeaders=function(){this._headers=cO({},this._headers,{Connection:"keep-alive",Host:this._url.host,"User-Agent":this._userAgent},this._anonymous?{Referer:"about:blank"}:{}),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},e.prototype._onHttpResponse=function(t,r){var n=this;if(this._request===t){if(this.withCredentials&&(r.headers["set-cookie"]||r.headers["set-cookie2"])&&e.cookieJar.setCookies(r.headers["set-cookie"]||r.headers["set-cookie2"]),[301,302,303,307,308].indexOf(r.statusCode)>=0)return this._url=this._parseUrl(r.headers.location),this._method="GET",this._loweredHeaders["content-type"]&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),null!=this._headers["Content-Type"]&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),void this._sendHxxpRequest();this._response=r,this._response.on("data",(function(t){return n._onHttpResponseData(r,t)})),this._response.on("end",(function(){return n._onHttpResponseEnd(r)})),this._response.on("close",(function(){return n._onHttpResponseClose(r)})),this.responseUrl=this._url.href.split("#")[0],this.status=r.statusCode,this.statusText=lO.STATUS_CODES[this.status],this._parseResponseHeaders(r);var i=this._responseHeaders["content-length"]||"";this._totalBytes=+i,this._lengthComputable=!!i,this._setReadyState(e.HEADERS_RECEIVED)}},e.prototype._onHttpResponseData=function(t,r){this._response===t&&(this._responseParts.push(new Nf(r)),this._loadedBytes+=r.length,this.readyState!==e.LOADING&&this._setReadyState(e.LOADING),this._dispatchProgress("progress"))},e.prototype._onHttpResponseEnd=function(t){this._response===t&&(this._parseResponse(),this._request=null,this._response=null,this._setReadyState(e.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend"))},e.prototype._onHttpResponseClose=function(t){if(this._response===t){var r=this._request;this._setError(),r.abort(),this._setReadyState(e.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}},e.prototype._onHttpTimeout=function(t){this._request===t&&(this._setError(),t.abort(),this._setReadyState(e.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend"))},e.prototype._onHttpRequestError=function(t,r){this._request===t&&(this._setError(),t.abort(),this._setReadyState(e.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend"))},e.prototype._dispatchProgress=function(t){var r=new e.ProgressEvent(t);r.lengthComputable=this._lengthComputable,r.loaded=this._loadedBytes,r.total=this._totalBytes,this.dispatchEvent(r)},e.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},e.prototype._parseUrl=function(t,e,r){var n=null==this.nodejsBaseUrl?t:dO.resolve(this.nodejsBaseUrl,t),i=dO.parse(n,!1,!0);i.hash=null;var o=(i.auth||"").split(":"),s=o[0],a=o[1];return(s||a||e||r)&&(i.auth=(e||s||"")+":"+(r||a||"")),i},e.prototype._parseResponseHeaders=function(t){for(var e in this._responseHeaders={},t.headers){var r=e.toLowerCase();this._privateHeaders[r]||(this._responseHeaders[r]=t.headers[e])}null!=this._mimeOverride&&(this._responseHeaders["content-type"]=this._mimeOverride)},e.prototype._parseResponse=function(){var t=Nf.concat(this._responseParts);switch(this._responseParts=null,this.responseType){case"json":this.responseText=null;try{this.response=JSON.parse(t.toString("utf-8"))}catch(t){this.response=null}return;case"buffer":return this.responseText=null,void(this.response=t);case"arraybuffer":this.responseText=null;for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n<t.length;n++)r[n]=t[n];return void(this.response=e);default:try{this.responseText=t.toString(this._parseResponseEncoding())}catch(e){this.responseText=t.toString("binary")}this.response=this.responseText}},e.prototype._parseResponseEncoding=function(){return/;\s*charset=(.*)$/.exec(this._responseHeaders["content-type"]||"")[1]||"utf-8"},e.ProgressEvent=pO.ProgressEvent,e.InvalidStateError=mO.InvalidStateError,e.NetworkError=mO.NetworkError,e.SecurityError=mO.SecurityError,e.SyntaxError=mO.SyntaxError,e.XMLHttpRequestUpload=gO.XMLHttpRequestUpload,e.UNSENT=0,e.OPENED=1,e.HEADERS_RECEIVED=2,e.LOADING=3,e.DONE=4,e.cookieJar=yO.CookieJar(),e}(rO.XMLHttpRequestEventTarget);OT.XMLHttpRequest=vO,vO.prototype.nodejsHttpAgent=lO.globalAgent,vO.prototype.nodejsHttpsAgent=hO.globalAgent,vO.prototype.nodejsBaseUrl=null,function(t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(OT);var e=rO;t.XMLHttpRequestEventTarget=e.XMLHttpRequestEventTarget}(TT),Object.defineProperty(kT,"__esModule",{value:!0});const _O=(0,Nh.__importDefault)(AT.exports),bO=TT,wO=(0,Uh.getFromWindow)("XMLHttpRequest")||bO.XMLHttpRequest;class EO extends _O.default{constructor(t){super(),this.url=t}formatError(t,e,r=-1){return{error:{message:e,code:r},id:t.id,jsonrpc:t.jsonrpc}}send(t,e){return new Promise((r=>{if("eth_subscribe"===t.method){const e=this.formatError(t,"Subscriptions are not supported by this HTTP endpoint");return this.emit("error",e),r(e)}const n=new wO;let i=!1;const o=(o,s)=>{if(!i)if(n.abort(),i=!0,e)e(o,s);else{const{id:e,jsonrpc:n}=t,i=o?{id:e,jsonrpc:n,error:{message:o.message,code:o.code}}:{id:e,jsonrpc:n,result:s};this.emit("payload",i),r(i)}};n.open("POST",this.url,!0),n.setRequestHeader("Content-Type","application/json"),n.timeout=6e4,n.onerror=o,n.ontimeout=o,n.onreadystatechange=()=>{if(4===n.readyState)try{const t=JSON.parse(n.responseText);o(t.error,t.result)}catch(t){o(t)}},n.send(JSON.stringify(t))}))}}kT.default=EO;var xO={},SO={},MO={};Object.defineProperty(MO,"__esModule",{value:!0}),MO.createHashFunction=function(t){return function(e){var r=t();return r.update(e),Nf.from(r.digest())}};var kO={exports:{}},AO={exports:{}},RO=Tb;function TO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function OO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var CO=Dm.Buffer,PO=Pm.inspect,NO=PO&&PO.custom||"inspect";function LO(t,e,r){CO.prototype.copy.call(t,e,r)}var BO=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r,n;return e=t,r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return CO.alloc(0);for(var e=CO.allocUnsafe(t>>>0),r=this.head,n=0;r;)LO(r.data,e,n),n+=r.data.length,r=r.next;return e}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?n+=i:n+=i.slice(0,t),0==(t-=o)){o===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=CO.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:NO,value:function(t,e){return PO(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?TO(Object(r),!0).forEach((function(e){OO(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}],r&&IO(e.prototype,r),n&&IO(e,n),t}();function UO(t,e){DO(t,e),jO(t)}function jO(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function DO(t,e){t.emit("error",e)}var FO={destroy:function(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,le.nextTick(DO,this,t)):le.nextTick(DO,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?r._writableState?r._writableState.errorEmitted?le.nextTick(jO,r):(r._writableState.errorEmitted=!0,le.nextTick(UO,r,t)):le.nextTick(UO,r,t):e?(le.nextTick(jO,r),e(t)):le.nextTick(jO,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}},zO={};const qO={};function HO(t,e,r){r||(r=Error);class n extends r{constructor(t,r,n){super(function(t,r,n){return"string"==typeof e?e:e(t,r,n)}(t,r,n))}}n.prototype.name=r.name,n.prototype.code=t,qO[t]=n}function WO(t,e){if(Array.isArray(t)){const r=t.length;return t=t.map((t=>String(t))),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:2===r?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}return`of ${e} ${String(t)}`}HO("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),HO("ERR_INVALID_ARG_TYPE",(function(t,e,r){let n,i;if("string"==typeof e&&function(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))i=`The ${t} ${n} ${WO(e,"type")}`;else{const r=function(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,".")?"property":"argument";i=`The "${t}" ${r} ${n} ${WO(e,"type")}`}return i+=". Received type "+typeof r,i}),TypeError),HO("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),HO("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),HO("ERR_STREAM_PREMATURE_CLOSE","Premature close"),HO("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),HO("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),HO("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),HO("ERR_STREAM_WRITE_AFTER_END","write after end"),HO("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),HO("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),HO("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),zO.codes=qO;var GO=zO.codes.ERR_INVALID_OPT_VALUE;var VO,KO={getHighWaterMark:function(t,e,r,n){var i=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,n,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new GO(n?r:"highWaterMark",i);return Math.floor(i)}return t.objectMode?16:16384}},$O=Pm.deprecate,ZO=gI;function JO(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}gI.WritableState=mI;var YO={deprecate:$O},XO=RO,QO=Dm.Buffer,tI=ft.Uint8Array||function(){};var eI,rI=FO,nI=KO.getHighWaterMark,iI=zO.codes,oI=iI.ERR_INVALID_ARG_TYPE,sI=iI.ERR_METHOD_NOT_IMPLEMENTED,aI=iI.ERR_MULTIPLE_CALLBACK,uI=iI.ERR_STREAM_CANNOT_PIPE,cI=iI.ERR_STREAM_DESTROYED,lI=iI.ERR_STREAM_NULL_VALUES,hI=iI.ERR_STREAM_WRITE_AFTER_END,fI=iI.ERR_UNKNOWN_ENCODING,dI=rI.errorOrDestroy;function pI(){}function mI(t,e,r){VO=VO||SI,t=t||{},"boolean"!=typeof r&&(r=e instanceof VO),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=nI(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=!1===t.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new aI;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(le.nextTick(i,n),le.nextTick(EI,t,e),t._writableState.errorEmitted=!0,dI(t,n)):(i(n),t._writableState.errorEmitted=!0,dI(t,n),EI(t,e))}(t,r,n,e,i);else{var o=bI(r)||t.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||_I(t,r),n?le.nextTick(vI,t,r,o,i):vI(t,r,o,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new JO(this)}function gI(t){var e=this instanceof(VO=VO||SI);if(!e&&!eI.call(gI,this))return new gI(t);this._writableState=new mI(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),XO.call(this)}function yI(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new cI("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function vI(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),EI(t,e)}function _I(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,yI(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new JO(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback;if(yI(t,e,!1,e.objectMode?1:u.length,u,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function bI(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function wI(t,e){t._final((function(r){e.pendingcb--,r&&dI(t,r),e.prefinished=!0,t.emit("prefinish"),EI(t,e)}))}function EI(t,e){var r=bI(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,le.nextTick(wI,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}Xi.exports(gI,XO),mI.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(mI.prototype,"buffer",{get:YO.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(eI=Function.prototype[Symbol.hasInstance],Object.defineProperty(gI,Symbol.hasInstance,{value:function(t){return!!eI.call(this,t)||this===gI&&(t&&t._writableState instanceof mI)}})):eI=function(t){return t instanceof this},gI.prototype.pipe=function(){dI(this,new uI)},gI.prototype.write=function(t,e,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=t,QO.isBuffer(n)||n instanceof tI);return s&&!QO.isBuffer(t)&&(t=function(t){return QO.from(t)}(t)),"function"==typeof e&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=pI),i.ending?function(t,e){var r=new hI;dI(t,r),le.nextTick(e,r)}(this,r):(s||function(t,e,r,n){var i;return null===r?i=new lI:"string"==typeof r||e.objectMode||(i=new oI("chunk",["string","Buffer"],r)),!i||(dI(t,i),le.nextTick(n,i),!1)}(this,i,t,r))&&(i.pendingcb++,o=function(t,e,r,n,i,o){if(!r){var s=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=QO.from(e,r));return e}(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else yI(t,e,!1,a,n,i,o);return u}(this,i,s,t,e,r)),o},gI.prototype.cork=function(){this._writableState.corked++},gI.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||_I(this,t))},gI.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new fI(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(gI.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(gI.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),gI.prototype._write=function(t,e,r){r(new sI("_write()"))},gI.prototype._writev=null,gI.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,EI(t,e),r&&(e.finished?le.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(gI.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(gI.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),gI.prototype.destroy=rI.destroy,gI.prototype._undestroy=rI.undestroy,gI.prototype._destroy=function(t,e){e(t)};var xI=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},SI=OI,MI=vC,kI=ZO;Xi.exports(OI,MI);for(var AI=xI(kI.prototype),RI=0;RI<AI.length;RI++){var TI=AI[RI];OI.prototype[TI]||(OI.prototype[TI]=kI.prototype[TI])}function OI(t){if(!(this instanceof OI))return new OI(t);MI.call(this,t),kI.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",II)))}function II(){this._writableState.ended||le.nextTick(CI,this)}function CI(t){t.end()}Object.defineProperty(OI.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(OI.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(OI.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(OI.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}});var PI={},NI={exports:{}};
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
!function(t,e){var r=Dm,n=r.Buffer;function i(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=o),o.prototype=Object.create(n.prototype),i(n,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=n(t);return void 0!==e?"string"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}}(NI,NI.exports);var LI=NI.exports.Buffer,BI=LI.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function UI(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(LI.isEncoding===BI||!BI(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=FI,this.end=zI,e=4;break;case"utf8":this.fillLast=DI,e=4;break;case"base64":this.text=qI,this.end=HI,e=3;break;default:return this.write=WI,void(this.end=GI)}this.lastNeed=0,this.lastTotal=0,this.lastChar=LI.allocUnsafe(e)}function jI(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function DI(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function FI(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function zI(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function qI(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function HI(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function WI(t){return t.toString(this.encoding)}function GI(t){return t&&t.length?this.write(t):""}PI.StringDecoder=UI,UI.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},UI.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},UI.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=jI(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=jI(e[n]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=jI(e[n]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},UI.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};var VI=zO.codes.ERR_STREAM_PREMATURE_CLOSE;function KI(){}var $I,ZI=function t(e,r,n){if("function"==typeof r)return t(e,null,r);r||(r={}),n=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(n||KI);var i=r.readable||!1!==r.readable&&e.readable,o=r.writable||!1!==r.writable&&e.writable,s=function(){e.writable||u()},a=e._writableState&&e._writableState.finished,u=function(){o=!1,a=!0,i||n.call(e)},c=e._readableState&&e._readableState.endEmitted,l=function(){i=!1,c=!0,o||n.call(e)},h=function(t){n.call(e,t)},f=function(){var t;return i&&!c?(e._readableState&&e._readableState.ended||(t=new VI),n.call(e,t)):o&&!a?(e._writableState&&e._writableState.ended||(t=new VI),n.call(e,t)):void 0},d=function(){e.req.on("finish",u)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?o&&!e._writableState&&(e.on("end",s),e.on("close",s)):(e.on("complete",u),e.on("abort",f),e.req?d():e.on("request",d)),e.on("end",l),e.on("finish",u),!1!==r.error&&e.on("error",h),e.on("close",f),function(){e.removeListener("complete",u),e.removeListener("abort",f),e.removeListener("request",d),e.req&&e.req.removeListener("finish",u),e.removeListener("end",s),e.removeListener("close",s),e.removeListener("finish",u),e.removeListener("end",l),e.removeListener("error",h),e.removeListener("close",f)}};function JI(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var YI=ZI,XI=Symbol("lastResolve"),QI=Symbol("lastReject"),tC=Symbol("error"),eC=Symbol("ended"),rC=Symbol("lastPromise"),nC=Symbol("handlePromise"),iC=Symbol("stream");function oC(t,e){return{value:t,done:e}}function sC(t){var e=t[XI];if(null!==e){var r=t[iC].read();null!==r&&(t[rC]=null,t[XI]=null,t[QI]=null,e(oC(r,!1)))}}function aC(t){le.nextTick(sC,t)}var uC=Object.getPrototypeOf((function(){})),cC=Object.setPrototypeOf(($I={get stream(){return this[iC]},next:function(){var t=this,e=this[tC];if(null!==e)return Promise.reject(e);if(this[eC])return Promise.resolve(oC(void 0,!0));if(this[iC].destroyed)return new Promise((function(e,r){le.nextTick((function(){t[tC]?r(t[tC]):e(oC(void 0,!0))}))}));var r,n=this[rC];if(n)r=new Promise(function(t,e){return function(r,n){t.then((function(){e[eC]?r(oC(void 0,!0)):e[nC](r,n)}),n)}}(n,this));else{var i=this[iC].read();if(null!==i)return Promise.resolve(oC(i,!1));r=new Promise(this[nC])}return this[rC]=r,r}},JI($I,Symbol.asyncIterator,(function(){return this})),JI($I,"return",(function(){var t=this;return new Promise((function(e,r){t[iC].destroy(null,(function(t){t?r(t):e(oC(void 0,!0))}))}))})),$I),uC),lC=function(t){var e,r=Object.create(cC,(JI(e={},iC,{value:t,writable:!0}),JI(e,XI,{value:null,writable:!0}),JI(e,QI,{value:null,writable:!0}),JI(e,tC,{value:null,writable:!0}),JI(e,eC,{value:t._readableState.endEmitted,writable:!0}),JI(e,nC,{value:function(t,e){var n=r[iC].read();n?(r[rC]=null,r[XI]=null,r[QI]=null,t(oC(n,!1))):(r[XI]=t,r[QI]=e)},writable:!0}),e));return r[rC]=null,YI(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[QI];return null!==e&&(r[rC]=null,r[XI]=null,r[QI]=null,e(t)),void(r[tC]=t)}var n=r[XI];null!==n&&(r[rC]=null,r[XI]=null,r[QI]=null,n(oC(void 0,!0))),r[eC]=!0})),t.on("readable",aC.bind(null,r)),r};function hC(t,e,r,n,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,i)}function fC(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){hC(o,n,i,s,a,"next",t)}function a(t){hC(o,n,i,s,a,"throw",t)}s(void 0)}))}}function dC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function pC(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var mC=zO.codes.ERR_INVALID_ARG_TYPE;var gC,yC=function(t,e,r){var n;if(e&&"function"==typeof e.next)n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else{if(!e||!e[Symbol.iterator])throw new mC("iterable",["Iterable"],e);n=e[Symbol.iterator]()}var i=new t(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?dC(Object(r),!0).forEach((function(e){pC(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({objectMode:!0},r)),o=!1;function s(){return a.apply(this,arguments)}function a(){return a=fC((function*(){try{var t=yield n.next(),e=t.value;t.done?i.push(null):i.push(yield e)?s():o=!1}catch(t){i.destroy(t)}})),a.apply(this,arguments)}return i._read=function(){o||(o=!0,s())},i},vC=DC;DC.ReadableState=jC,wc.exports.EventEmitter;var _C=function(t,e){return t.listeners(e).length},bC=RO,wC=Dm.Buffer,EC=ft.Uint8Array||function(){};var xC,SC=Pm;xC=SC&&SC.debuglog?SC.debuglog("stream"):function(){};var MC,kC,AC,RC=BO,TC=FO,OC=KO.getHighWaterMark,IC=zO.codes,CC=IC.ERR_INVALID_ARG_TYPE,PC=IC.ERR_STREAM_PUSH_AFTER_EOF,NC=IC.ERR_METHOD_NOT_IMPLEMENTED,LC=IC.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;Xi.exports(DC,bC);var BC=TC.errorOrDestroy,UC=["error","close","destroy","pause","resume"];function jC(t,e,r){gC=gC||SI,t=t||{},"boolean"!=typeof r&&(r=e instanceof gC),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=OC(this,t,"readableHighWaterMark",r),this.buffer=new RC,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(MC||(MC=PI.StringDecoder),this.decoder=new MC(t.encoding),this.encoding=t.encoding)}function DC(t){if(gC=gC||SI,!(this instanceof DC))return new DC(t);var e=this instanceof gC;this._readableState=new jC(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),bC.call(this)}function FC(t,e,r,n,i){xC("readableAddChunk",e);var o,s=t._readableState;if(null===e)s.reading=!1,function(t,e){if(xC("onEofChunk"),e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?WC(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,GC(t)))}(t,s);else if(i||(o=function(t,e){var r;n=e,wC.isBuffer(n)||n instanceof EC||"string"==typeof e||void 0===e||t.objectMode||(r=new CC("chunk",["string","Buffer","Uint8Array"],e));var n;return r}(s,e)),o)BC(t,o);else if(s.objectMode||e&&e.length>0)if("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===wC.prototype||(e=function(t){return wC.from(t)}(e)),n)s.endEmitted?BC(t,new LC):zC(t,s,e,!0);else if(s.ended)BC(t,new PC);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||0!==e.length?zC(t,s,e,!1):VC(t,s)):zC(t,s,e,!1)}else n||(s.reading=!1,VC(t,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function zC(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&WC(t)),VC(t,e)}Object.defineProperty(DC.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),DC.prototype.destroy=TC.destroy,DC.prototype._undestroy=TC.undestroy,DC.prototype._destroy=function(t,e){e(t)},DC.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=wC.from(t,e),e=""),r=!0),FC(this,t,e,!1,r)},DC.prototype.unshift=function(t){return FC(this,t,null,!0,!1)},DC.prototype.isPaused=function(){return!1===this._readableState.flowing},DC.prototype.setEncoding=function(t){MC||(MC=PI.StringDecoder);var e=new MC(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var qC=1073741824;function HC(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=qC?t=qC:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function WC(t){var e=t._readableState;xC("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(xC("emitReadable",e.flowing),e.emittedReadable=!0,le.nextTick(GC,t))}function GC(t){var e=t._readableState;xC("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,YC(t)}function VC(t,e){e.readingMore||(e.readingMore=!0,le.nextTick(KC,t,e))}function KC(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(xC("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function $C(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function ZC(t){xC("readable nexttick read 0"),t.read(0)}function JC(t,e){xC("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),YC(t),e.flowing&&!e.reading&&t.read(0)}function YC(t){var e=t._readableState;for(xC("flow",e.flowing);e.flowing&&null!==t.read(););}function XC(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function QC(t){var e=t._readableState;xC("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,le.nextTick(tP,e,t))}function tP(t,e){if(xC("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function eP(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}DC.prototype.read=function(t){xC("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return xC("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?QC(this):WC(this),null;if(0===(t=HC(t,e))&&e.ended)return 0===e.length&&QC(this),null;var n,i=e.needReadable;return xC("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&xC("length less than watermark",i=!0),e.ended||e.reading?xC("reading or ended",i=!1):i&&(xC("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=HC(r,e))),null===(n=t>0?XC(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&QC(this)),null!==n&&this.emit("data",n),n},DC.prototype._read=function(t){BC(this,new NC("_read()"))},DC.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,xC("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||!1!==e.end)&&t!==le.stdout&&t!==le.stderr?s:d;function o(e,i){xC("onunpipe"),e===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,xC("cleanup"),t.removeListener("close",h),t.removeListener("finish",f),t.removeListener("drain",a),t.removeListener("error",l),t.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",d),r.removeListener("data",c),u=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||a())}function s(){xC("onend"),t.end()}n.endEmitted?le.nextTick(i):r.once("end",i),t.on("unpipe",o);var a=function(t){return function(){var e=t._readableState;xC("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&_C(t,"data")&&(e.flowing=!0,YC(t))}}(r);t.on("drain",a);var u=!1;function c(e){xC("ondata");var i=t.write(e);xC("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==eP(n.pipes,t))&&!u&&(xC("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function l(e){xC("onerror",e),d(),t.removeListener("error",l),0===_C(t,"error")&&BC(t,e)}function h(){t.removeListener("finish",f),d()}function f(){xC("onfinish"),t.removeListener("close",h),d()}function d(){xC("unpipe"),r.unpipe(t)}return r.on("data",c),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",l),t.once("close",h),t.once("finish",f),t.emit("pipe",r),n.flowing||(xC("pipe resume"),r.resume()),t},DC.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=eP(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},DC.prototype.on=function(t,e){var r=bC.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,xC("on readable",n.length,n.reading),n.length?WC(this):n.reading||le.nextTick(ZC,this))),r},DC.prototype.addListener=DC.prototype.on,DC.prototype.removeListener=function(t,e){var r=bC.prototype.removeListener.call(this,t,e);return"readable"===t&&le.nextTick($C,this),r},DC.prototype.removeAllListeners=function(t){var e=bC.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||le.nextTick($C,this),e},DC.prototype.resume=function(){var t=this._readableState;return t.flowing||(xC("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,le.nextTick(JC,t,e))}(this,t)),t.paused=!1,this},DC.prototype.pause=function(){return xC("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(xC("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},DC.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(xC("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(xC("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<UC.length;o++)t.on(UC[o],this.emit.bind(this,UC[o]));return this._read=function(e){xC("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(DC.prototype[Symbol.asyncIterator]=function(){return void 0===kC&&(kC=lC),kC(this)}),Object.defineProperty(DC.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(DC.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(DC.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),DC._fromList=XC,Object.defineProperty(DC.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(DC.from=function(t,e){return void 0===AC&&(AC=yC),AC(DC,t,e)});var rP=lP,nP=zO.codes,iP=nP.ERR_METHOD_NOT_IMPLEMENTED,oP=nP.ERR_MULTIPLE_CALLBACK,sP=nP.ERR_TRANSFORM_ALREADY_TRANSFORMING,aP=nP.ERR_TRANSFORM_WITH_LENGTH_0,uP=SI;function cP(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new oP);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function lP(t){if(!(this instanceof lP))return new lP(t);uP.call(this,t),this._transformState={afterTransform:cP.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",hP)}function hP(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?fP(this,null,null):this._flush((function(e,r){fP(t,e,r)}))}function fP(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new aP;if(t._transformState.transforming)throw new sP;return t.push(null)}Xi.exports(lP,uP),lP.prototype.push=function(t,e){return this._transformState.needTransform=!1,uP.prototype.push.call(this,t,e)},lP.prototype._transform=function(t,e,r){r(new iP("_transform()"))},lP.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},lP.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},lP.prototype._destroy=function(t,e){uP.prototype._destroy.call(this,t,(function(t){e(t)}))};var dP,pP=gP,mP=rP;function gP(t){if(!(this instanceof gP))return new gP(t);mP.call(this,t)}Xi.exports(gP,mP),gP.prototype._transform=function(t,e,r){r(null,t)};var yP=zO.codes,vP=yP.ERR_MISSING_ARGS,_P=yP.ERR_STREAM_DESTROYED;function bP(t){if(t)throw t}function wP(t,e,r,n){n=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(n);var i=!1;t.on("close",(function(){i=!0})),void 0===dP&&(dP=ZI),dP(t,{readable:e,writable:r},(function(t){if(t)return n(t);i=!0,n()}));var o=!1;return function(e){if(!i&&!o)return o=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void n(e||new _P("pipe"))}}function EP(t){t()}function xP(t,e){return t.pipe(e)}function SP(t){return t.length?"function"!=typeof t[t.length-1]?bP:t.pop():bP}var MP=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=SP(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new vP("streams");var o=e.map((function(t,r){var s=r<e.length-1;return wP(t,s,r>0,(function(t){n||(n=t),t&&o.forEach(EP),s||(o.forEach(EP),i(n))}))}));return e.reduce(xP)};!function(t,e){var r=Tb;(e=t.exports=vC).Stream=r||e,e.Readable=e,e.Writable=ZO,e.Duplex=SI,e.Transform=rP,e.PassThrough=pP,e.finished=ZI,e.pipeline=MP}(AO,AO.exports);const{Transform:kP}=AO.exports;const{Transform:AP}=AO.exports;const RP=t=>class e extends kP{constructor(e,r,n,i,o){super(o),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=i,this._options=o,this._state=new t,this._state.initialize(e,r),this._finalized=!1}_transform(t,e,r){let n=null;try{this.update(t,e)}catch(t){n=t}r(n)}_flush(t){let e=null;try{this.push(this.digest())}catch(t){e=t}t(e)}update(t,e){if(!Nf.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Nf.isBuffer(t)||(t=Nf.from(t,e)),this._state.absorb(t),this}digest(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let e=this._state.squeeze(this._hashBitLength/8);return void 0!==t&&(e=e.toString(t)),this._resetState(),e}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const t=new e(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t}},TP=t=>class e extends AP{constructor(e,r,n,i){super(i),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._options=i,this._state=new t,this._state.initialize(e,r),this._finalized=!1}_transform(t,e,r){let n=null;try{this.update(t,e)}catch(t){n=t}r(n)}_flush(){}_read(t){this.push(this.squeeze(t))}update(t,e){if(!Nf.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Nf.isBuffer(t)||(t=Nf.from(t,e)),this._state.absorb(t),this}squeeze(t,e){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let r=this._state.squeeze(t);return void 0!==e&&(r=r.toString(e)),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const t=new e(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t}};var OP={};const IP=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];OP.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],o=t[3]^t[13]^t[23]^t[33]^t[43],s=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],h=t[9]^t[19]^t[29]^t[39]^t[49];let f=l^(i<<1|o>>>31),d=h^(o<<1|i>>>31);const p=t[0]^f,m=t[1]^d,g=t[10]^f,y=t[11]^d,v=t[20]^f,_=t[21]^d,b=t[30]^f,w=t[31]^d,E=t[40]^f,x=t[41]^d;f=r^(s<<1|a>>>31),d=n^(a<<1|s>>>31);const S=t[2]^f,M=t[3]^d,k=t[12]^f,A=t[13]^d,R=t[22]^f,T=t[23]^d,O=t[32]^f,I=t[33]^d,C=t[42]^f,P=t[43]^d;f=i^(u<<1|c>>>31),d=o^(c<<1|u>>>31);const N=t[4]^f,L=t[5]^d,B=t[14]^f,U=t[15]^d,j=t[24]^f,D=t[25]^d,F=t[34]^f,z=t[35]^d,q=t[44]^f,H=t[45]^d;f=s^(l<<1|h>>>31),d=a^(h<<1|l>>>31);const W=t[6]^f,G=t[7]^d,V=t[16]^f,K=t[17]^d,$=t[26]^f,Z=t[27]^d,J=t[36]^f,Y=t[37]^d,X=t[46]^f,Q=t[47]^d;f=u^(r<<1|n>>>31),d=c^(n<<1|r>>>31);const tt=t[8]^f,et=t[9]^d,rt=t[18]^f,nt=t[19]^d,it=t[28]^f,ot=t[29]^d,st=t[38]^f,at=t[39]^d,ut=t[48]^f,ct=t[49]^d,lt=p,ht=m,ft=y<<4|g>>>28,dt=g<<4|y>>>28,pt=v<<3|_>>>29,mt=_<<3|v>>>29,gt=w<<9|b>>>23,yt=b<<9|w>>>23,vt=E<<18|x>>>14,_t=x<<18|E>>>14,bt=S<<1|M>>>31,wt=M<<1|S>>>31,Et=A<<12|k>>>20,xt=k<<12|A>>>20,St=R<<10|T>>>22,Mt=T<<10|R>>>22,kt=I<<13|O>>>19,At=O<<13|I>>>19,Rt=C<<2|P>>>30,Tt=P<<2|C>>>30,Ot=L<<30|N>>>2,It=N<<30|L>>>2,Ct=B<<6|U>>>26,Pt=U<<6|B>>>26,Nt=D<<11|j>>>21,Lt=j<<11|D>>>21,Bt=F<<15|z>>>17,Ut=z<<15|F>>>17,jt=H<<29|q>>>3,Dt=q<<29|H>>>3,Ft=W<<28|G>>>4,zt=G<<28|W>>>4,qt=K<<23|V>>>9,Ht=V<<23|K>>>9,Wt=$<<25|Z>>>7,Gt=Z<<25|$>>>7,Vt=J<<21|Y>>>11,Kt=Y<<21|J>>>11,$t=Q<<24|X>>>8,Zt=X<<24|Q>>>8,Jt=tt<<27|et>>>5,Yt=et<<27|tt>>>5,Xt=rt<<20|nt>>>12,Qt=nt<<20|rt>>>12,te=ot<<7|it>>>25,ee=it<<7|ot>>>25,re=st<<8|at>>>24,ne=at<<8|st>>>24,ie=ut<<14|ct>>>18,oe=ct<<14|ut>>>18;t[0]=lt^~Et&Nt,t[1]=ht^~xt&Lt,t[10]=Ft^~Xt&pt,t[11]=zt^~Qt&mt,t[20]=bt^~Ct&Wt,t[21]=wt^~Pt&Gt,t[30]=Jt^~ft&St,t[31]=Yt^~dt&Mt,t[40]=Ot^~qt&te,t[41]=It^~Ht&ee,t[2]=Et^~Nt&Vt,t[3]=xt^~Lt&Kt,t[12]=Xt^~pt&kt,t[13]=Qt^~mt&At,t[22]=Ct^~Wt&re,t[23]=Pt^~Gt&ne,t[32]=ft^~St&Bt,t[33]=dt^~Mt&Ut,t[42]=qt^~te&gt,t[43]=Ht^~ee&yt,t[4]=Nt^~Vt&ie,t[5]=Lt^~Kt&oe,t[14]=pt^~kt&jt,t[15]=mt^~At&Dt,t[24]=Wt^~re&vt,t[25]=Gt^~ne&_t,t[34]=St^~Bt&$t,t[35]=Mt^~Ut&Zt,t[44]=te^~gt&Rt,t[45]=ee^~yt&Tt,t[6]=Vt^~ie&lt,t[7]=Kt^~oe&ht,t[16]=kt^~jt&Ft,t[17]=At^~Dt&zt,t[26]=re^~vt&bt,t[27]=ne^~_t&wt,t[36]=Bt^~$t&Jt,t[37]=Ut^~Zt&Yt,t[46]=gt^~Rt&Ot,t[47]=yt^~Tt&It,t[8]=ie^~lt&Et,t[9]=oe^~ht&xt,t[18]=jt^~Ft&Xt,t[19]=Dt^~zt&Qt,t[28]=vt^~bt&Ct,t[29]=_t^~wt&Pt,t[38]=$t^~Jt&ft,t[39]=Zt^~Yt&dt,t[48]=Rt^~Ot&qt,t[49]=Tt^~It&Ht,t[0]^=IP[2*e],t[1]^=IP[2*e+1]}};const CP=OP;function PP(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}PP.prototype.initialize=function(t,e){for(let t=0;t<50;++t)this.state[t]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1},PP.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(CP.p1600(this.state),this.count=0)},PP.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<this.count%4*8,0!=(128&t)&&this.count===this.blockSize-1&&CP.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,CP.p1600(this.state),this.count=0,this.squeezing=!0},PP.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Nf.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(CP.p1600(this.state),this.count=0);return e},PP.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var NP=function(t){const e=RP(t),r=TP(t);return function(t,n){switch("string"==typeof t?t.toLowerCase():t){case"keccak224":return new e(1152,448,null,224,n);case"keccak256":return new e(1088,512,null,256,n);case"keccak384":return new e(832,768,null,384,n);case"keccak512":return new e(576,1024,null,512,n);case"sha3-224":return new e(1152,448,6,224,n);case"sha3-256":return new e(1088,512,6,256,n);case"sha3-384":return new e(832,768,6,384,n);case"sha3-512":return new e(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+t)}}}(PP);try{kO.exports=require("./bindings")}catch(Bv){kO.exports=NP}Object.defineProperty(SO,"__esModule",{value:!0});var LP=MO,BP=kO.exports;SO.keccak224=LP.createHashFunction((function(){return BP("keccak224")})),SO.keccak256=LP.createHashFunction((function(){return BP("keccak256")})),SO.keccak384=LP.createHashFunction((function(){return BP("keccak384")})),SO.keccak512=LP.createHashFunction((function(){return BP("keccak512")}));var UP={},jP={exports:{}};const DP="Impossible case. Please create issue.",FP="The tweak was out of range or the resulted private key is invalid",zP="The tweak was out of range or equal to zero",qP="Unknow error on context randomization",HP="Private Key is invalid",WP="Public Key could not be parsed",GP="Public Key serialization error",VP="The sum of the public keys is not valid",KP="Signature could not be parsed",$P="The nonce generation function failed, or the private key was invalid",ZP="Public key could not be recover",JP="Scalar was invalid (zero or overflow)";function YP(t,e){if(!t)throw new Error(e)}function XP(t,e,r){if(YP(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${t} to be an Uint8Array with length [${r.join(", ")}]`;YP(r.includes(e.length),n)}else{const n=`Expected ${t} to be an Uint8Array with length ${r}`;YP(e.length===r,n)}}function QP(t){YP("Boolean"===eN(t),"Expected compressed to be a Boolean")}function tN(t=(t=>new Uint8Array(t)),e){return"function"==typeof t&&(t=t(e)),XP("output",t,e),t}function eN(t){return Object.prototype.toString.call(t).slice(8,-1)}var rN={},nN="6.5.4",iN={},oN={};!function(t){var e=t;function r(t){return 1===t.length?"0"+t:t}function n(t){for(var e="",n=0;n<t.length;n++)e+=r(t[n].toString(16));return e}e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},e.zero2=r,e.toHex=n,e.encode=function(t,e){return"hex"===e?n(t):t}}(oN),function(t){var e=t,r=pt.exports,n=Ji,i=oN;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode,e.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},e.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,u=t.andln(3)+i&3,c=e.andln(3)+o&3;3===u&&(u=-1),3===c&&(c=-1),s=0==(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[0].push(s),a=0==(1&c)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==u?c:-c,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},e.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},e.parseBytes=function(t){return"string"==typeof t?e.toArray(t,"hex"):t},e.intFromLE=function(t){return new r(t,"hex","le")}}(iN);var sN,aN={exports:{}};function uN(t){this.rand=t}if(aN.exports=function(t){return sN||(sN=new uN(null)),sN.generate(t)},aN.exports.Rand=uN,uN.prototype.generate=function(t){return this._rand(t)},uN.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?uN.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?uN.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(uN.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var cN=require("crypto");if("function"!=typeof cN.randomBytes)throw new Error("Not supported");uN.prototype._rand=function(t){return cN.randomBytes(t)}}catch(WR){}var lN={},hN=pt.exports,fN=iN,dN=fN.getNAF,pN=fN.getJSF,mN=fN.assert;function gN(t,e){this.type=t,this.p=new hN(e.p,16),this.red=e.prime?hN.red(e.prime):hN.mont(this.p),this.zero=new hN(0).toRed(this.red),this.one=new hN(1).toRed(this.red),this.two=new hN(2).toRed(this.red),this.n=e.n&&new hN(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var yN=gN;function vN(t,e){this.curve=t,this.type=e,this.precomputed=null}gN.prototype.point=function(){throw new Error("Not implemented")},gN.prototype.validate=function(){throw new Error("Not implemented")},gN.prototype._fixedNafMul=function(t,e){mN(t.precomputed);var r=t._getDoubles(),n=dN(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=i;h>0;h--){for(o=0;o<a.length;o++)(s=a[o])===h?l=l.mixedAdd(r.points[o]):s===-h&&(l=l.mixedAdd(r.points[o].neg()));c=c.add(l)}return c.toP()},gN.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=dN(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var c=o[a];mN(0!==c),s="affine"===t.type?c>0?s.mixedAdd(i[c-1>>1]):s.mixedAdd(i[-c-1>>1].neg()):c>0?s.add(i[c-1>>1]):s.add(i[-c-1>>1].neg())}return"affine"===t.type?s.toP():s},gN.prototype._wnafMulAdd=function(t,e,r,n,i){var o,s,a,u=this._wnafT1,c=this._wnafT2,l=this._wnafT3,h=0;for(o=0;o<n;o++){var f=(a=e[o])._getNAFPoints(t);u[o]=f.wnd,c[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=pN(r[d],r[p]);for(h=Math.max(y[0].length,h),l[d]=new Array(h),l[p]=new Array(h),s=0;s<h;s++){var v=0|y[0][s],_=0|y[1][s];l[d][s]=g[3*(v+1)+(_+1)],l[p][s]=0,c[d]=m}}else l[d]=dN(r[d],u[d],this._bitLength),l[p]=dN(r[p],u[p],this._bitLength),h=Math.max(l[d].length,h),h=Math.max(l[p].length,h)}var b=this.jpoint(null,null,null),w=this._wnafT4;for(o=h;o>=0;o--){for(var E=0;o>=0;){var x=!0;for(s=0;s<n;s++)w[s]=0|l[s][o],0!==w[s]&&(x=!1);if(!x)break;E++,o--}if(o>=0&&E++,b=b.dblp(E),o<0)break;for(s=0;s<n;s++){var S=w[s];0!==S&&(S>0?a=c[s][S-1>>1]:S<0&&(a=c[s][-S-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<n;o++)c[o]=null;return i?b:b.toP()},gN.BasePoint=vN,vN.prototype.eq=function(){throw new Error("Not implemented")},vN.prototype.validate=function(){return this.curve.validate(this)},gN.prototype.decodePoint=function(t,e){t=fN.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?mN(t[t.length-1]%2==0):7===t[0]&&mN(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},vN.prototype.encodeCompressed=function(t){return this.encode(t,!0)},vN.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},vN.prototype.encode=function(t,e){return fN.encode(this._encode(e),t)},vN.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},vN.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},vN.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},vN.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},vN.prototype._getBeta=function(){return null},vN.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var _N=iN,bN=pt.exports,wN=Xi.exports,EN=yN,xN=_N.assert;function SN(t){EN.call(this,"short",t),this.a=new bN(t.a,16).toRed(this.red),this.b=new bN(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}wN(SN,EN);var MN=SN;function kN(t,e,r,n){EN.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new bN(e,16),this.y=new bN(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function AN(t,e,r,n){EN.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new bN(0)):(this.x=new bN(e,16),this.y=new bN(r,16),this.z=new bN(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}SN.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new bN(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new bN(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],xN(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new bN(t.a,16),b:new bN(t.b,16)}})):this._getEndoBasis(r)}}},SN.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:bN.mont(t),r=new bN(2).toRed(e).redInvm(),n=r.redNeg(),i=new bN(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},SN.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,s,a,u,c,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,f=this.n.clone(),d=new bN(1),p=new bN(0),m=new bN(0),g=new bN(1),y=0;0!==h.cmpn(0);){var v=f.div(h);u=f.sub(v.mul(h)),c=m.sub(v.mul(d));var _=g.sub(v.mul(p));if(!n&&u.cmp(l)<0)e=a.neg(),r=d,n=u.neg(),i=c;else if(n&&2==++y)break;a=u,f=h,h=u,m=d,d=c,g=p,p=_}o=u.neg(),s=c;var b=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},SN.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),c=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(c).neg()}},SN.prototype.pointFromX=function(t,e){(t=new bN(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},SN.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},SN.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var c=this._wnafMulAdd(1,n,i,2*o,r),l=0;l<2*o;l++)n[l]=null,i[l]=null;return c},wN(kN,EN.BasePoint),SN.prototype.point=function(t,e,r){return new kN(this,t,e,r)},SN.prototype.pointFromJSON=function(t,e){return kN.fromJSON(this,t,e)},kN.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},kN.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},kN.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},kN.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},kN.prototype.isInfinity=function(){return this.inf},kN.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},kN.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},kN.prototype.getX=function(){return this.x.fromRed()},kN.prototype.getY=function(){return this.y.fromRed()},kN.prototype.mul=function(t){return t=new bN(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},kN.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},kN.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},kN.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},kN.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},kN.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},wN(AN,EN.BasePoint),SN.prototype.jpoint=function(t,e,r){return new AN(this,t,e,r)},AN.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},AN.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},AN.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),l=c.redMul(a),h=n.redMul(c),f=u.redSqr().redIAdd(l).redISub(h).redISub(h),d=u.redMul(h.redISub(f)).redISub(o.redMul(l)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},AN.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),c=u.redMul(s),l=r.redMul(u),h=a.redSqr().redIAdd(c).redISub(l).redISub(l),f=a.redMul(l.redISub(h)).redISub(i.redMul(c)),d=this.z.redMul(s);return this.curve.jpoint(h,f,d)},AN.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),c=s.redAdd(s);for(e=0;e<t;e++){var l=o.redSqr(),h=c.redSqr(),f=h.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),p=o.redMul(h),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=d.redMul(g);y=y.redIAdd(y).redISub(f);var v=c.redMul(a);e+1<t&&(u=u.redMul(f)),o=m,a=v,c=y}return this.curve.jpoint(o,c.redMul(i),a)},AN.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},AN.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=u,e=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(l).redISub(f);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},AN.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var g=h.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},AN.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),c=(u=u.redIAdd(u)).redMul(s),l=a.redSqr().redISub(c.redAdd(c)),h=c.redISub(l),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,d,p)},AN.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),l=e.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.x.redMul(a).redISub(l);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(c.redMul(u.redISub(c)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,f,d)},AN.prototype.mul=function(t,e){return t=new bN(t,e),this.curve._wnafMul(this,t)},AN.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},AN.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},AN.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},AN.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var RN=pt.exports,TN=Xi.exports,ON=yN,IN=iN;function CN(t){ON.call(this,"mont",t),this.a=new RN(t.a,16).toRed(this.red),this.b=new RN(t.b,16).toRed(this.red),this.i4=new RN(4).toRed(this.red).redInvm(),this.two=new RN(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}TN(CN,ON);var PN=CN;function NN(t,e,r){ON.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new RN(e,16),this.z=new RN(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}CN.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},TN(NN,ON.BasePoint),CN.prototype.decodePoint=function(t,e){return this.point(IN.toArray(t,e),1)},CN.prototype.point=function(t,e){return new NN(this,t,e)},CN.prototype.pointFromJSON=function(t){return NN.fromJSON(this,t)},NN.prototype.precompute=function(){},NN.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},NN.fromJSON=function(t,e){return new NN(t,e[0],e[1]||t.one)},NN.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},NN.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},NN.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},NN.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},NN.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(r),s=i.redMul(n),a=e.z.redMul(o.redAdd(s).redSqr()),u=e.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,u)},NN.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},NN.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},NN.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},NN.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},NN.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},NN.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var LN=iN,BN=pt.exports,UN=Xi.exports,jN=yN,DN=LN.assert;function FN(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,jN.call(this,"edwards",t),this.a=new BN(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),DN(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}UN(FN,jN);var zN=FN;function qN(t,e,r,n,i){jN.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN(e,16),this.y=new BN(r,16),this.z=n?new BN(n,16):this.curve.one,this.t=i&&new BN(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}FN.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},FN.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},FN.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},FN.prototype.pointFromX=function(t,e){(t=new BN(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(i.redInvm()),s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var a=s.fromRed().isOdd();return(e&&!a||!e&&a)&&(s=s.redNeg()),this.point(t,s)},FN.prototype.pointFromY=function(t,e){(t=new BN(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(i.redInvm());if(0===o.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==e&&(s=s.redNeg()),this.point(s,t)},FN.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},UN(qN,jN.BasePoint),FN.prototype.pointFromJSON=function(t){return qN.fromJSON(this,t)},FN.prototype.point=function(t,e,r,n){return new qN(this,t,e,r,n)},qN.fromJSON=function(t,e){return new qN(t,e[0],e[1],e[2])},qN.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},qN.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},qN.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=n.redAdd(e),s=o.redSub(r),a=n.redSub(e),u=i.redMul(s),c=o.redMul(a),l=i.redMul(a),h=s.redMul(o);return this.curve.point(u,c,h,l)},qN.prototype._projDbl=function(){var t,e,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var c=(n=this.curve._mulA(a)).redAdd(u);this.zOne?(t=s.redSub(a).redSub(u).redMul(c.redSub(this.curve.two)),e=c.redMul(n.redSub(u)),r=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),o=c.redSub(i).redISub(i),t=s.redSub(a).redISub(u).redMul(o),e=c.redMul(n.redSub(u)),r=c.redMul(o))}else n=a.redAdd(u),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),t=this.curve._mulC(s.redISub(n)).redMul(o),e=this.curve._mulC(n).redMul(a.redISub(u)),r=n.redMul(o);return this.curve.point(t,e,r)},qN.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},qN.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=r.redSub(e),s=i.redSub(n),a=i.redAdd(n),u=r.redAdd(e),c=o.redMul(s),l=a.redMul(u),h=o.redMul(u),f=s.redMul(a);return this.curve.point(c,l,f,h)},qN.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),o=this.x.redMul(t.x),s=this.y.redMul(t.y),a=this.curve.d.redMul(o).redMul(s),u=i.redSub(a),c=i.redAdd(a),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(s),h=n.redMul(u).redMul(l);return this.curve.twisted?(e=n.redMul(c).redMul(s.redSub(this.curve._mulA(o))),r=u.redMul(c)):(e=n.redMul(c).redMul(s.redSub(o)),r=this.curve._mulC(u).redMul(c)),this.curve.point(h,e,r)},qN.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},qN.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},qN.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},qN.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},qN.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},qN.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},qN.prototype.getX=function(){return this.normalize(),this.x.fromRed()},qN.prototype.getY=function(){return this.normalize(),this.y.fromRed()},qN.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},qN.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}},qN.prototype.toP=qN.prototype.normalize,qN.prototype.mixedAdd=qN.prototype.add,function(t){var e=t;e.base=yN,e.short=MN,e.mont=PN,e.edwards=zN}(lN);var HN={};!function(t){var e,r=t,n=$i,i=lN,o=iN.assert;function s(t){"short"===t.type?this.curve=new i.short(t):"edwards"===t.type?this.curve=new i.edwards(t):this.curve=new i.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(t,e){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){var n=new s(e);return Object.defineProperty(r,t,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=s,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{e=require("./precomputed/secp256k1")}catch(t){e=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",e]})}(HN);var WN=$i,GN=oN,VN=Ji;function KN(t){if(!(this instanceof KN))return new KN(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=GN.toArray(t.entropy,t.entropyEnc||"hex"),r=GN.toArray(t.nonce,t.nonceEnc||"hex"),n=GN.toArray(t.pers,t.persEnc||"hex");VN(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var $N=KN;KN.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},KN.prototype._hmac=function(){return new WN.hmac(this.hash,this.K)},KN.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},KN.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=GN.toArray(t,e),r=GN.toArray(r,n),VN(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},KN.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=GN.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,GN.encode(o,e)};var ZN=pt.exports,JN=iN.assert;function YN(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var XN=YN;YN.fromPublic=function(t,e,r){return e instanceof YN?e:new YN(t,{pub:e,pubEnc:r})},YN.fromPrivate=function(t,e,r){return e instanceof YN?e:new YN(t,{priv:e,privEnc:r})},YN.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},YN.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},YN.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},YN.prototype._importPrivate=function(t,e){this.priv=new ZN(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},YN.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?JN(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||JN(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},YN.prototype.derive=function(t){return t.validate()||JN(t.validate(),"public point not validated"),t.mul(this.priv).getX()},YN.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},YN.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},YN.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var QN=pt.exports,tL=iN,eL=tL.assert;function rL(t,e){if(t instanceof rL)return t;this._importDER(t,e)||(eL(t.r&&t.s,"Signature without r or s"),this.r=new QN(t.r,16),this.s=new QN(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var nL=rL;function iL(){this.place=0}function oL(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function sL(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function aL(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}rL.prototype._importDER=function(t,e){t=tL.toArray(t,e);var r=new iL;if(48!==t[r.place++])return!1;var n=oL(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=oL(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var s=oL(t,r);if(!1===s)return!1;if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new QN(o),this.s=new QN(a),this.recoveryParam=null,!0},rL.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=sL(e),r=sL(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];aL(n,e.length),(n=n.concat(e)).push(2),aL(n,r.length);var i=n.concat(r),o=[48];return aL(o,i.length),o=o.concat(i),tL.encode(o,t)};var uL=pt.exports,cL=$N,lL=iN,hL=HN,fL=aN.exports,dL=lL.assert,pL=XN,mL=nL;function gL(t){if(!(this instanceof gL))return new gL(t);"string"==typeof t&&(dL(Object.prototype.hasOwnProperty.call(hL,t),"Unknown curve "+t),t=hL[t]),t instanceof hL.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var yL=gL;gL.prototype.keyPair=function(t){return new pL(this,t)},gL.prototype.keyFromPrivate=function(t,e){return pL.fromPrivate(this,t,e)},gL.prototype.keyFromPublic=function(t,e){return pL.fromPublic(this,t,e)},gL.prototype.genKeyPair=function(t){t||(t={});for(var e=new cL({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||fL(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new uL(2));;){var i=new uL(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},gL.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},gL.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new uL(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),s=t.toArray("be",i),a=new cL({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new uL(1)),c=0;;c++){var l=n.k?n.k(c):new uL(a.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(u)>=0)){var h=this.g.mul(l);if(!h.isInfinity()){var f=h.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=l.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(h.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new mL({r:d,s:p,recoveryParam:m})}}}}}},gL.prototype.verify=function(t,e,r,n){t=this._truncateToN(new uL(t,16)),r=this.keyFromPublic(r,n);var i=(e=new mL(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(t).umod(this.n),c=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),c)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),c)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},gL.prototype.recoverPubKey=function(t,e,r,n){dL((3&r)===r,"The recovery param is more than two bits"),e=new mL(e,n);var i=this.n,o=new uL(t),s=e.r,a=e.s,u=1&r,c=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");s=c?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var l=e.r.invm(i),h=i.sub(o).mul(l).umod(i),f=a.mul(l).umod(i);return this.g.mulAdd(h,s,f)},gL.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new mL(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var vL=iN,_L=vL.assert,bL=vL.parseBytes,wL=vL.cachedProperty;function EL(t,e){this.eddsa=t,this._secret=bL(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=bL(e.pub)}EL.fromPublic=function(t,e){return e instanceof EL?e:new EL(t,{pub:e})},EL.fromSecret=function(t,e){return e instanceof EL?e:new EL(t,{secret:e})},EL.prototype.secret=function(){return this._secret},wL(EL,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),wL(EL,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),wL(EL,"privBytes",(function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),wL(EL,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),wL(EL,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),wL(EL,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),EL.prototype.sign=function(t){return _L(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},EL.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},EL.prototype.getSecret=function(t){return _L(this._secret,"KeyPair is public only"),vL.encode(this.secret(),t)},EL.prototype.getPublic=function(t){return vL.encode(this.pubBytes(),t)};var xL=EL,SL=pt.exports,ML=iN,kL=ML.assert,AL=ML.cachedProperty,RL=ML.parseBytes;function TL(t,e){this.eddsa=t,"object"!=typeof e&&(e=RL(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),kL(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof SL&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}AL(TL,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),AL(TL,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),AL(TL,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),AL(TL,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),TL.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},TL.prototype.toHex=function(){return ML.encode(this.toBytes(),"hex").toUpperCase()};var OL=TL,IL=$i,CL=HN,PL=iN,NL=PL.assert,LL=PL.parseBytes,BL=xL,UL=OL;function jL(t){if(NL("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof jL))return new jL(t);t=CL[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=IL.sha512}var DL=jL;jL.prototype.sign=function(t,e){t=LL(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),t).mul(r.priv()),a=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:a,Rencoded:o})},jL.prototype.verify=function(t,e,r){t=LL(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(o)},jL.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return PL.intFromLE(t.digest()).umod(this.curve.n)},jL.prototype.keyFromPublic=function(t){return BL.fromPublic(this,t)},jL.prototype.keyFromSecret=function(t){return BL.fromSecret(this,t)},jL.prototype.makeSignature=function(t){return t instanceof UL?t:new UL(this,t)},jL.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},jL.prototype.decodePoint=function(t){var e=(t=PL.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=0!=(128&t[e]),i=PL.intFromLE(r);return this.curve.pointFromY(i,n)},jL.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},jL.prototype.decodeInt=function(t){return PL.intFromLE(t)},jL.prototype.isPoint=function(t){return t instanceof this.pointClass},function(t){var e=t;e.version=nN,e.utils=iN,e.rand=aN.exports,e.curve=lN,e.curves=HN,e.ec=yL,e.eddsa=DL}(rN);const FL=new(0,rN.ec)("secp256k1"),zL=FL.curve,qL=zL.n.constructor;function HL(t){const e=t[0];switch(e){case 2:case 3:return 33!==t.length?null:function(t,e){let r=new qL(e);if(r.cmp(zL.p)>=0)return null;r=r.toRed(zL.red);let n=r.redSqr().redIMul(r).redIAdd(zL.b).redSqrt();return 3===t!==n.isOdd()&&(n=n.redNeg()),FL.keyPair({pub:{x:r,y:n}})}(e,t.subarray(1,33));case 4:case 6:case 7:return 65!==t.length?null:function(t,e,r){let n=new qL(e),i=new qL(r);if(n.cmp(zL.p)>=0||i.cmp(zL.p)>=0)return null;if(n=n.toRed(zL.red),i=i.toRed(zL.red),(6===t||7===t)&&i.isOdd()!==(7===t))return null;const o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(zL.b)).isZero()?FL.keyPair({pub:{x:n,y:i}}):null}(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function WL(t,e){const r=e.encode(null,33===t.length);for(let e=0;e<t.length;++e)t[e]=r[e]}var GL={contextRandomize:()=>0,privateKeyVerify(t){const e=new qL(t);return e.cmp(zL.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){const e=new qL(t),r=zL.n.sub(e).umod(zL.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){const r=new qL(e);if(r.cmp(zL.n)>=0)return 1;if(r.iadd(new qL(t)),r.cmp(zL.n)>=0&&r.isub(zL.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},privateKeyTweakMul(t,e){let r=new qL(e);if(r.cmp(zL.n)>=0||r.isZero())return 1;r.imul(new qL(t)),r.cmp(zL.n)>=0&&(r=r.umod(zL.n));const n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},publicKeyVerify:t=>null===HL(t)?1:0,publicKeyCreate(t,e){const r=new qL(e);if(r.cmp(zL.n)>=0||r.isZero())return 1;return WL(t,FL.keyFromPrivate(e).getPublic()),0},publicKeyConvert(t,e){const r=HL(e);if(null===r)return 1;return WL(t,r.getPublic()),0},publicKeyNegate(t,e){const r=HL(e);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),WL(t,n),0},publicKeyCombine(t,e){const r=new Array(e.length);for(let t=0;t<e.length;++t)if(r[t]=HL(e[t]),null===r[t])return 1;let n=r[0].getPublic();for(let t=1;t<r.length;++t)n=n.add(r[t].pub);return n.isInfinity()?2:(WL(t,n),0)},publicKeyTweakAdd(t,e,r){const n=HL(e);if(null===n)return 1;if((r=new qL(r)).cmp(zL.n)>=0)return 2;const i=n.getPublic().add(zL.g.mul(r));return i.isInfinity()?2:(WL(t,i),0)},publicKeyTweakMul(t,e,r){const n=HL(e);if(null===n)return 1;if((r=new qL(r)).cmp(zL.n)>=0||r.isZero())return 2;return WL(t,n.getPublic().mul(r)),0},signatureNormalize(t){const e=new qL(t.subarray(0,32)),r=new qL(t.subarray(32,64));return e.cmp(zL.n)>=0||r.cmp(zL.n)>=0?1:(1===r.cmp(FL.nh)&&t.set(zL.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){const r=e.subarray(0,32),n=e.subarray(32,64);if(new qL(r).cmp(zL.n)>=0)return 1;if(new qL(n).cmp(zL.n)>=0)return 1;const{output:i}=t;let o=i.subarray(4,37);o[0]=0,o.set(r,1);let s=33,a=0;for(;s>1&&0===o[a]&&!(128&o[a+1]);--s,++a);if(o=o.subarray(a),128&o[0])return 1;if(s>1&&0===o[0]&&!(128&o[1]))return 1;let u=i.subarray(39,72);u[0]=0,u.set(n,1);let c=33,l=0;for(;c>1&&0===u[l]&&!(128&u[l+1]);--c,++l);return u=u.subarray(l),128&u[0]||c>1&&0===u[0]&&!(128&u[1])?1:(t.outputlen=6+s+c,i[0]=48,i[1]=t.outputlen-2,i[2]=2,i[3]=o.length,i.set(o,4),i[4+s]=2,i[5+s]=u.length,i.set(u,6+s),0)},signatureImport(t,e){if(e.length<8)return 1;if(e.length>72)return 1;if(48!==e[0])return 1;if(e[1]!==e.length-2)return 1;if(2!==e[2])return 1;const r=e[3];if(0===r)return 1;if(5+r>=e.length)return 1;if(2!==e[4+r])return 1;const n=e[5+r];if(0===n)return 1;if(6+r+n!==e.length)return 1;if(128&e[4])return 1;if(r>1&&0===e[4]&&!(128&e[5]))return 1;if(128&e[r+6])return 1;if(n>1&&0===e[r+6]&&!(128&e[r+7]))return 1;let i=e.subarray(4,4+r);if(33===i.length&&0===i[0]&&(i=i.subarray(1)),i.length>32)return 1;let o=e.subarray(6+r);if(33===o.length&&0===o[0]&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");let s=new qL(i);s.cmp(zL.n)>=0&&(s=new qL(0));let a=new qL(e.subarray(6+r));return a.cmp(zL.n)>=0&&(a=new qL(0)),t.set(s.toArrayLike(Uint8Array,"be",32),0),t.set(a.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,n,i){if(i){const t=i;i=i=>{const o=t(e,r,null,n,i);if(!(o instanceof Uint8Array&&32===o.length))throw new Error("This is the way");return new qL(o)}}const o=new qL(r);if(o.cmp(zL.n)>=0||o.isZero())return 1;let s;try{s=FL.sign(e,r,{canonical:!0,k:i,pers:n})}catch(t){return 1}return t.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),t.recid=s.recoveryParam,0},ecdsaVerify(t,e,r){const n={r:t.subarray(0,32),s:t.subarray(32,64)},i=new qL(n.r),o=new qL(n.s);if(i.cmp(zL.n)>=0||o.cmp(zL.n)>=0)return 1;if(1===o.cmp(FL.nh)||i.isZero()||o.isZero())return 3;const s=HL(r);if(null===s)return 2;const a=s.getPublic();return FL.verify(e,n,a)?0:3},ecdsaRecover(t,e,r,n){const i={r:e.slice(0,32),s:e.slice(32,64)},o=new qL(i.r),s=new qL(i.s);if(o.cmp(zL.n)>=0||s.cmp(zL.n)>=0)return 1;if(o.isZero()||s.isZero())return 2;let a;try{a=FL.recoverPubKey(n,i,r)}catch(t){return 2}return WL(t,a),0},ecdh(t,e,r,n,i,o,s){const a=HL(e);if(null===a)return 1;const u=new qL(r);if(u.cmp(zL.n)>=0||u.isZero())return 2;const c=a.getPublic().mul(u);if(void 0===i){const e=c.encode(null,!0),r=FL.hash().update(e).digest();for(let e=0;e<32;++e)t[e]=r[e]}else{o||(o=new Uint8Array(32));const e=c.getX().toArray("be",32);for(let t=0;t<32;++t)o[t]=e[t];s||(s=new Uint8Array(32));const r=c.getY().toArray("be",32);for(let t=0;t<32;++t)s[t]=r[t];const a=i(o,s,n);if(!(a instanceof Uint8Array&&a.length===t.length))return 2;t.set(a)}return 0}},VL=(t=>({contextRandomize(e){if(YP(null===e||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==e&&XP("seed",e,32),1===t.contextRandomize(e))throw new Error(qP)},privateKeyVerify:e=>(XP("private key",e,32),0===t.privateKeyVerify(e)),privateKeyNegate(e){switch(XP("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(DP)}},privateKeyTweakAdd(e,r){switch(XP("private key",e,32),XP("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(FP)}},privateKeyTweakMul(e,r){switch(XP("private key",e,32),XP("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(zP)}},publicKeyVerify:e=>(XP("public key",e,[33,65]),0===t.publicKeyVerify(e)),publicKeyCreate(e,r=!0,n){switch(XP("private key",e,32),QP(r),n=tN(n,r?33:65),t.publicKeyCreate(n,e)){case 0:return n;case 1:throw new Error(HP);case 2:throw new Error(GP)}},publicKeyConvert(e,r=!0,n){switch(XP("public key",e,[33,65]),QP(r),n=tN(n,r?33:65),t.publicKeyConvert(n,e)){case 0:return n;case 1:throw new Error(WP);case 2:throw new Error(GP)}},publicKeyNegate(e,r=!0,n){switch(XP("public key",e,[33,65]),QP(r),n=tN(n,r?33:65),t.publicKeyNegate(n,e)){case 0:return n;case 1:throw new Error(WP);case 2:throw new Error(DP);case 3:throw new Error(GP)}},publicKeyCombine(e,r=!0,n){YP(Array.isArray(e),"Expected public keys to be an Array"),YP(e.length>0,"Expected public keys array will have more than zero items");for(const t of e)XP("public key",t,[33,65]);switch(QP(r),n=tN(n,r?33:65),t.publicKeyCombine(n,e)){case 0:return n;case 1:throw new Error(WP);case 2:throw new Error(VP);case 3:throw new Error(GP)}},publicKeyTweakAdd(e,r,n=!0,i){switch(XP("public key",e,[33,65]),XP("tweak",r,32),QP(n),i=tN(i,n?33:65),t.publicKeyTweakAdd(i,e,r)){case 0:return i;case 1:throw new Error(WP);case 2:throw new Error(FP)}},publicKeyTweakMul(e,r,n=!0,i){switch(XP("public key",e,[33,65]),XP("tweak",r,32),QP(n),i=tN(i,n?33:65),t.publicKeyTweakMul(i,e,r)){case 0:return i;case 1:throw new Error(WP);case 2:throw new Error(zP)}},signatureNormalize(e){switch(XP("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(KP)}},signatureExport(e,r){XP("signature",e,64);const n={output:r=tN(r,72),outputlen:72};switch(t.signatureExport(n,e)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(KP);case 2:throw new Error(DP)}},signatureImport(e,r){switch(XP("signature",e),r=tN(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(KP);case 2:throw new Error(DP)}},ecdsaSign(e,r,n={},i){XP("message",e,32),XP("private key",r,32),YP("Object"===eN(n),"Expected options to be an Object"),void 0!==n.data&&XP("options.data",n.data),void 0!==n.noncefn&&YP("Function"===eN(n.noncefn),"Expected options.noncefn to be a Function");const o={signature:i=tN(i,64),recid:null};switch(t.ecdsaSign(o,e,r,n.data,n.noncefn)){case 0:return o;case 1:throw new Error($P);case 2:throw new Error(DP)}},ecdsaVerify(e,r,n){switch(XP("signature",e,64),XP("message",r,32),XP("public key",n,[33,65]),t.ecdsaVerify(e,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(KP);case 2:throw new Error(WP)}},ecdsaRecover(e,r,n,i=!0,o){switch(XP("signature",e,64),YP("Number"===eN(r)&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),XP("message",n,32),QP(i),o=tN(o,i?33:65),t.ecdsaRecover(o,e,r,n)){case 0:return o;case 1:throw new Error(KP);case 2:throw new Error(ZP);case 3:throw new Error(DP)}},ecdh(e,r,n={},i){switch(XP("public key",e,[33,65]),XP("private key",r,32),YP("Object"===eN(n),"Expected options to be an Object"),void 0!==n.data&&XP("options.data",n.data),void 0!==n.hashfn?(YP("Function"===eN(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&XP("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&XP("options.ybuf",n.ybuf,32),XP("output",i)):i=tN(i,32),t.ecdh(i,e,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(WP);case 2:throw new Error(JP)}}}))(GL);try{jP.exports=require("./bindings")}catch(Bv){jP.exports=VL}var KL={},$L=Py.randomBytes;Object.defineProperty(KL,"__esModule",{value:!0});var ZL=$L;KL.getRandomBytes=function(t){return new Promise((function(e,r){ZL(t,(function(t,n){t?r(t):e(n)}))}))},KL.getRandomBytesSync=function(t){return ZL(t)},function(t){var e=ft&&ft.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):function(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(s,a)}u((n=n.apply(t,e||[])).next())}))},r=ft&&ft.__generator||function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var n=jP.exports,i=KL;t.createPrivateKey=function(){return e(this,void 0,void 0,(function(){var t;return r(this,(function(e){switch(e.label){case 0:return[4,i.getRandomBytes(32)];case 1:return t=e.sent(),n.privateKeyVerify(t)?[2,t]:[3,0];case 2:return[2]}}))}))},t.createPrivateKeySync=function(){for(;;){var t=i.getRandomBytesSync(32);if(n.privateKeyVerify(t))return t}},function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(jP.exports)}(UP);var JL={},YL=pt.exports,XL=new(0,rN.ec)("secp256k1"),QL=XL.curve;JL.privateKeyExport=function(t,e){var r=new YL(t);if(r.ucmp(QL.n)>=0)throw new Error("couldn't export to DER format");var n=XL.g.mul(r);return tB(n.getX(),n.getY(),e)},JL.privateKeyModInverse=function(t){var e=new YL(t);if(e.ucmp(QL.n)>=0||e.isZero())throw new Error("private key range is invalid");return e.invm(QL.n).toArrayLike(Nf,"be",32)},JL.signatureImport=function(t){var e=new YL(t.r);e.ucmp(QL.n)>=0&&(e=new YL(0));var r=new YL(t.s);return r.ucmp(QL.n)>=0&&(r=new YL(0)),Nf.concat([e.toArrayLike(Nf,"be",32),r.toArrayLike(Nf,"be",32)])},JL.ecdhUnsafe=function(t,e,r){var n=XL.keyFromPublic(t),i=new YL(e);if(i.ucmp(QL.n)>=0||i.isZero())throw new Error("scalar was invalid (zero or overflow)");var o=n.pub.mul(i);return tB(o.getX(),o.getY(),r)};var tB=function(t,e,r){var n=void 0;return r?((n=Nf.alloc(33))[0]=e.isOdd()?3:2,t.toArrayLike(Nf,"be",32).copy(n,1)):((n=Nf.alloc(65))[0]=4,t.toArrayLike(Nf,"be",32).copy(n,1),e.toArrayLike(Nf,"be",32).copy(n,33)),n},eB={},rB=Nf.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),nB=Nf.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);eB.privateKeyExport=function(t,e,r){var n=Nf.from(r?rB:nB);return t.copy(n,r?8:9),e.copy(n,r?181:214),n},eB.privateKeyImport=function(t){var e=t.length,r=0;if(e<r+1||48!==t[r])return null;if(e<(r+=1)+1||!(128&t[r]))return null;var n=127&t[r];if(n<1||n>2)return null;if(e<(r+=1)+n)return null;var i=t[r+n-1]|(n>1?t[r+n-2]<<8:0);return e<(r+=n)+i||e<r+3||2!==t[r]||1!==t[r+1]||1!==t[r+2]||e<(r+=3)+2||4!==t[r]||t[r+1]>32||e<r+2+t[r+1]?null:t.slice(r+2,r+2+t[r+1])},eB.signatureImportLax=function(t){var e=Nf.alloc(32,0),r=Nf.alloc(32,0),n=t.length,i=0;if(48!==t[i++])return null;var o=t[i++];if(128&o&&(i+=o-128)>n)return null;if(2!==t[i++])return null;var s=t[i++];if(128&s){if(i+(o=s-128)>n)return null;for(;o>0&&0===t[i];i+=1,o-=1);for(s=0;o>0;i+=1,o-=1)s=(s<<8)+t[i]}if(s>n-i)return null;var a=i;if(i+=s,2!==t[i++])return null;var u=t[i++];if(128&u){if(i+(o=u-128)>n)return null;for(;o>0&&0===t[i];i+=1,o-=1);for(u=0;o>0;i+=1,o-=1)u=(u<<8)+t[i]}if(u>n-i)return null;var c=i;for(i+=u;s>0&&0===t[a];s-=1,a+=1);if(s>32)return null;var l=t.slice(a,a+s);for(l.copy(e,32-l.length);u>0&&0===t[c];u-=1,c+=1);if(u>32)return null;var h=t.slice(c,c+u);return h.copy(r,32-h.length),{r:e,s:r}};var iB=UP,oB=JL,sB=eB,aB=function(t){return 32===t.length&&iB.privateKeyVerify(Uint8Array.from(t))},uB={privateKeyVerify:aB,privateKeyExport:function(t,e){if(32!==t.length)throw new RangeError("private key length is invalid");var r=oB.privateKeyExport(t,e);return sB.privateKeyExport(t,r,e)},privateKeyImport:function(t){if(null!==(t=sB.privateKeyImport(t))&&32===t.length&&aB(t))return t;throw new Error("couldn't import from DER format")},privateKeyNegate:function(t){return Nf.from(iB.privateKeyNegate(Uint8Array.from(t)))},privateKeyModInverse:function(t){if(32!==t.length)throw new Error("private key length is invalid");return Nf.from(oB.privateKeyModInverse(Uint8Array.from(t)))},privateKeyTweakAdd:function(t,e){return Nf.from(iB.privateKeyTweakAdd(Uint8Array.from(t),e))},privateKeyTweakMul:function(t,e){return Nf.from(iB.privateKeyTweakMul(Uint8Array.from(t),Uint8Array.from(e)))},publicKeyCreate:function(t,e){return Nf.from(iB.publicKeyCreate(Uint8Array.from(t),e))},publicKeyConvert:function(t,e){return Nf.from(iB.publicKeyConvert(Uint8Array.from(t),e))},publicKeyVerify:function(t){return(33===t.length||65===t.length)&&iB.publicKeyVerify(Uint8Array.from(t))},publicKeyTweakAdd:function(t,e,r){return Nf.from(iB.publicKeyTweakAdd(Uint8Array.from(t),Uint8Array.from(e),r))},publicKeyTweakMul:function(t,e,r){return Nf.from(iB.publicKeyTweakMul(Uint8Array.from(t),Uint8Array.from(e),r))},publicKeyCombine:function(t,e){var r=[];return t.forEach((function(t){r.push(Uint8Array.from(t))})),Nf.from(iB.publicKeyCombine(r,e))},signatureNormalize:function(t){return Nf.from(iB.signatureNormalize(Uint8Array.from(t)))},signatureExport:function(t){return Nf.from(iB.signatureExport(Uint8Array.from(t)))},signatureImport:function(t){return Nf.from(iB.signatureImport(Uint8Array.from(t)))},signatureImportLax:function(t){if(0===t.length)throw new RangeError("signature length is invalid");var e=sB.signatureImportLax(t);if(null===e)throw new Error("couldn't parse DER signature");return oB.signatureImport(e)},sign:function(t,e,r){if(null===r)throw new TypeError("options should be an Object");var n=void 0;if(r){if(n={},null===r.data)throw new TypeError("options.data should be a Buffer");if(r.data){if(32!==r.data.length)throw new RangeError("options.data length is invalid");n.data=new Uint8Array(r.data)}if(null===r.noncefn)throw new TypeError("options.noncefn should be a Function");r.noncefn&&(n.noncefn=function(t,e,n,i,o){var s=null!=n?Nf.from(n):null,a=null!=i?Nf.from(i):null,u=Nf.from("");return r.noncefn&&(u=r.noncefn(Nf.from(t),Nf.from(e),s,a,o)),Uint8Array.from(u)})}var i=iB.ecdsaSign(Uint8Array.from(t),Uint8Array.from(e),n);return{signature:Nf.from(i.signature),recovery:i.recid}},verify:function(t,e,r){return iB.ecdsaVerify(Uint8Array.from(e),Uint8Array.from(t),r)},recover:function(t,e,r,n){return Nf.from(iB.ecdsaRecover(Uint8Array.from(e),r,Uint8Array.from(t),n))},ecdh:function(t,e){return Nf.from(iB.ecdh(Uint8Array.from(t),Uint8Array.from(e),{}))},ecdhUnsafe:function(t,e,r){if(33!==t.length&&65!==t.length)throw new RangeError("public key length is invalid");if(32!==e.length)throw new RangeError("private key length is invalid");return Nf.from(oB.ecdhUnsafe(Uint8Array.from(t),Uint8Array.from(e),r))}},cB={},lB={exports:{}};!function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(t){}function s(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function a(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function u(t,e,n,i){for(var o=0,s=0,a=Math.min(t.length,n),u=e;u<a;u++){var c=t.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&s<i,"Invalid character"),o+=s}return o}function c(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},i.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,l=r;l<a;l+=n)c=u(t,l,l+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var h=1;for(c=u(t,l,t.length,e),l=0;l<s;l++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype._move=function(t){c(t,this)},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(t){i.prototype.inspect=l}else i.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);n=0!==(o=a>>>24-i&16777215)||s!==this.length-1?h[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var c=f[t],l=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(l).toString(t);n=(p=p.idivn(l)).isZero()?m+n:h[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&s}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}i.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},i.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},i.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,l=0|s[0],h=8191&l,f=l>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],y=8191&g,v=g>>>13,_=0|s[3],b=8191&_,w=_>>>13,E=0|s[4],x=8191&E,S=E>>>13,M=0|s[5],k=8191&M,A=M>>>13,R=0|s[6],T=8191&R,O=R>>>13,I=0|s[7],C=8191&I,P=I>>>13,N=0|s[8],L=8191&N,B=N>>>13,U=0|s[9],j=8191&U,D=U>>>13,F=0|a[0],z=8191&F,q=F>>>13,H=0|a[1],W=8191&H,G=H>>>13,V=0|a[2],K=8191&V,$=V>>>13,Z=0|a[3],J=8191&Z,Y=Z>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,z))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(f,z)|0))<<13)|0;c=((o=Math.imul(f,q))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,q))+Math.imul(m,z)|0,o=Math.imul(m,q);var yt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(f,W)|0))<<13)|0;c=((o=o+Math.imul(f,G)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,z),i=(i=Math.imul(y,q))+Math.imul(v,z)|0,o=Math.imul(v,q),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,G)|0;var vt=(c+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(f,K)|0))<<13)|0;c=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,q))+Math.imul(w,z)|0,o=Math.imul(w,q),n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,G)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,$)|0;var _t=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Y)|0)+Math.imul(f,J)|0))<<13)|0;c=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(x,z),i=(i=Math.imul(x,q))+Math.imul(S,z)|0,o=Math.imul(S,q),n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,G)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,G)|0,n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(v,K)|0,o=o+Math.imul(v,$)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,Y)|0;var bt=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,q))+Math.imul(A,z)|0,o=Math.imul(A,q),n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,G)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,$)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,$)|0,n=n+Math.imul(y,J)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,Y)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var wt=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;c=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(T,z),i=(i=Math.imul(T,q))+Math.imul(O,z)|0,o=Math.imul(O,q),n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(S,K)|0,o=o+Math.imul(S,$)|0,n=n+Math.imul(b,J)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,J)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Et=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(f,ot)|0))<<13)|0;c=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(C,z),i=(i=Math.imul(C,q))+Math.imul(P,z)|0,o=Math.imul(P,q),n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,G)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,$)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(S,J)|0,o=o+Math.imul(S,Y)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var xt=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((o=o+Math.imul(f,ct)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,q))+Math.imul(B,z)|0,o=Math.imul(B,q),n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,G)|0,n=n+Math.imul(T,K)|0,i=(i=i+Math.imul(T,$)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,$)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var St=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;c=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(j,z),i=(i=Math.imul(j,q))+Math.imul(D,z)|0,o=Math.imul(D,q),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,G)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,$)|0)+Math.imul(P,K)|0,o=o+Math.imul(P,$)|0,n=n+Math.imul(T,J)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,Y)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(S,rt)|0,o=o+Math.imul(S,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var Mt=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(j,W),i=(i=Math.imul(j,G))+Math.imul(D,W)|0,o=Math.imul(D,G),n=n+Math.imul(L,K)|0,i=(i=i+Math.imul(L,$)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,$)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,st)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ft)|0;var kt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(j,K),i=(i=Math.imul(j,$))+Math.imul(D,K)|0,o=Math.imul(D,$),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,Y)|0,n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(S,ut)|0,o=o+Math.imul(S,ct)|0,n=n+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,ft)|0;var At=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((o=o+Math.imul(v,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(j,J),i=(i=Math.imul(j,Y))+Math.imul(D,J)|0,o=Math.imul(D,Y),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,ct)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,ft)|0)+Math.imul(S,ht)|0,o=o+Math.imul(S,ft)|0;var Rt=(c+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((o=o+Math.imul(w,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(j,Q),i=(i=Math.imul(j,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(B,rt)|0,o=o+Math.imul(B,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(A,ht)|0,o=o+Math.imul(A,ft)|0;var Tt=(c+(n=n+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;c=((o=o+Math.imul(S,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(j,rt),i=(i=Math.imul(j,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,st)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,st)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,ct)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ft)|0;var Ot=(c+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(A,pt)|0))<<13)|0;c=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(j,ot),i=(i=Math.imul(j,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(B,ut)|0,o=o+Math.imul(B,ct)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,ft)|0;var It=(c+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(j,ut),i=(i=Math.imul(j,ct))+Math.imul(D,ut)|0,o=Math.imul(D,ct),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,ft)|0)+Math.imul(B,ht)|0,o=o+Math.imul(B,ft)|0;var Ct=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(P,pt)|0))<<13)|0;c=((o=o+Math.imul(P,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(j,ht),i=(i=Math.imul(j,ft))+Math.imul(D,ht)|0,o=Math.imul(D,ft);var Pt=(c+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(B,pt)|0))<<13)|0;c=((o=o+Math.imul(B,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Nt=(c+(n=Math.imul(j,pt))|0)+((8191&(i=(i=Math.imul(j,mt))+Math.imul(D,pt)|0))<<13)|0;return c=((o=Math.imul(D,mt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=_t,u[4]=bt,u[5]=wt,u[6]=Et,u[7]=xt,u[8]=St,u[9]=Mt,u[10]=kt,u[11]=At,u[12]=Rt,u[13]=Tt,u[14]=Ot,u[15]=It,u[16]=Ct,u[17]=Pt,u[18]=Nt,0!==c&&(u[19]=c,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var l=o-c,h=(0|t.words[l])*(0|e.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return g(t,e,r)}Math.imul||(m=p),i.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):r<63?p(this,t,e):r<1024?g(this,t,e):y(this,t,e)},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),y(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<n;this.words[e]=u|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,u=n.length-o.length;if("mod"!==e){(a=new i(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(o,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[o.length+h])+(0|n.words[o.length+h-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(o,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(o,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modrn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%t;return e?-i:i},i.prototype.modn=function(t){return this.modrn(t)},i.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/t|0,n=o%t}return this._strip(),e?this.ineg():this},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),s=new i(0),a=new i(0),u=new i(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(h)),o.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a),s.isub(u)):(n.isub(e),a.isub(o),u.isub(s))}return{a:a,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new i(1),a=new i(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,f=1;0==(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new S(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},n(b,_),b.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(w,_),n(E,_),n(x,_),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return v[t]=e,e},S.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(c(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,o),f=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var y=this.pow(h,new i(1).iushln(p-g-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var o=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}u=26}return o},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new M(t)},n(M,S),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,ft)}(lB);var hB=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cB,"__esModule",{value:!0}),cB.getLength=cB.decode=cB.encode=void 0;const fB=hB(lB.exports);function dB(t,e){if("0"===t[0]&&"0"===t[1])throw new Error("invalid RLP: extra zeros");return parseInt(t,e)}function pB(t,e){if(t<56)return Nf.from([t+e]);{const r=yB(t),n=yB(e+55+r.length/2);return Nf.from(n+r,"hex")}}function mB(t){let e,r,n,i,o;const s=[],a=t[0];if(a<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(a<=183){if(e=a-127,n=128===a?Nf.from([]):t.slice(1,e),2===e&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:t.slice(e)}}if(a<=191){if(r=a-182,t.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(e=dB(t.slice(1,r).toString("hex"),16),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(n=t.slice(r,e+r),n.length<e)throw new Error("invalid RLP: not enough bytes for string");return{data:n,remainder:t.slice(e+r)}}if(a<=247){for(e=a-191,i=t.slice(1,e);i.length;)o=mB(i),s.push(o.data),i=o.remainder;return{data:s,remainder:t.slice(e)}}{r=a-246,e=dB(t.slice(1,r).toString("hex"),16);const n=r+e;if(n>t.length)throw new Error("invalid rlp: total length is larger than the data");if(i=t.slice(r,n),0===i.length)throw new Error("invalid rlp, List has a invalid length");for(;i.length;)o=mB(i),s.push(o.data),i=o.remainder;return{data:s,remainder:t.slice(n)}}}function gB(t){return"0x"===t.slice(0,2)}function yB(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");const e=t.toString(16);return e.length%2?`0${e}`:e}function vB(t){if(!Nf.isBuffer(t)){if("string"==typeof t)return gB(t)?Nf.from(function(t){return t.length%2?`0${t}`:t}(function(t){return"string"!=typeof t?t:gB(t)?t.slice(2):t}(t)),"hex"):Nf.from(t);if("number"==typeof t||"bigint"==typeof t)return t?function(t){const e=yB(t);return Nf.from(e,"hex")}(t):Nf.from([]);if(null==t)return Nf.from([]);if(t instanceof Uint8Array)return Nf.from(t);if(fB.default.isBN(t))return Nf.from(t.toArray());throw new Error("invalid type")}return t}cB.encode=function t(e){if(Array.isArray(e)){const r=[];for(let n=0;n<e.length;n++)r.push(t(e[n]));const n=Nf.concat(r);return Nf.concat([pB(n.length,192),n])}{const t=vB(e);return 1===t.length&&t[0]<128?t:Nf.concat([pB(t.length,128),t])}},cB.decode=function(t,e=!1){if(!t||0===t.length)return Nf.from([]);const r=mB(vB(t));if(e)return r;if(0!==r.remainder.length)throw new Error("invalid remainder");return r.data},cB.getLength=function(t){if(!t||0===t.length)return Nf.from([]);const e=vB(t),r=e[0];if(r<=127)return e.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;{const t=r-246;return t+dB(e.slice(1,t).toString("hex"),16)}};var _B=Py.createHash,bB=function(t){if("string"!=typeof t)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return"0x"===t.slice(0,2)},wB=bB,EB=function(t){return"string"!=typeof t?t:wB(t)?t.slice(2):t};function xB(t){var e=t;if("string"!=typeof e)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof e+", while padToEven.");return e.length%2&&(e="0"+e),e}function SB(t){return"0x"+t.toString(16)}var MB={arrayContainsArray:function(t,e,r){if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof t+"'");if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof e+"'");return e[Boolean(r)?"some":"every"]((function(e){return t.indexOf(e)>=0}))},intToBuffer:function(t){return new Nf(xB(SB(t).slice(2)),"hex")},getBinarySize:function(t){if("string"!=typeof t)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof t+"'.");return Nf.byteLength(t,"utf8")},isHexPrefixed:bB,stripHexPrefix:EB,padToEven:xB,intToHex:SB,fromAscii:function(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?"0"+n:n}return"0x"+e},fromUtf8:function(t){return"0x"+xB(new Nf(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(t){var e="",r=0,n=t.length;for("0x"===t.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e},toUtf8:function(t){return new Nf(xB(EB(t).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(t,e,r){if(!Array.isArray(t))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof t+"'");if("string"!=typeof e)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof e+"'.");for(var n=[],i=0;i<t.length;i++){var o=t[i][e];if(r&&!o)o="";else if("string"!=typeof o)throw new Error("invalid abi");n.push(o)}return n},isHexString:function(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}};!function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=SO,n=r.keccak224,i=r.keccak384,o=r.keccak256,s=r.keccak512,a=uB,u=Mk.exports,c=cB,l=pt.exports,h=_B,f=NI.exports.Buffer;Object.assign(t,MB),t.MAX_INTEGER=new l("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new l("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.SHA3_NULL_S=t.KECCAK256_NULL_S,t.KECCAK256_NULL=f.from(t.KECCAK256_NULL_S,"hex"),t.SHA3_NULL=t.KECCAK256_NULL,t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.SHA3_RLP_ARRAY_S=t.KECCAK256_RLP_ARRAY_S,t.KECCAK256_RLP_ARRAY=f.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.SHA3_RLP_ARRAY=t.KECCAK256_RLP_ARRAY,t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.SHA3_RLP_S=t.KECCAK256_RLP_S,t.KECCAK256_RLP=f.from(t.KECCAK256_RLP_S,"hex"),t.SHA3_RLP=t.KECCAK256_RLP,t.BN=l,t.rlp=c,t.secp256k1=a,t.zeros=function(t){return f.allocUnsafe(t).fill(0)},t.zeroAddress=function(){var e=t.zeros(20);return t.bufferToHex(e)},t.setLengthLeft=t.setLength=function(e,r,n){var i=t.zeros(r);return e=t.toBuffer(e),n?e.length<r?(e.copy(i),i):e.slice(0,r):e.length<r?(e.copy(i,r-e.length),i):e.slice(-r)},t.setLengthRight=function(e,r){return t.setLength(e,r,!0)},t.unpad=t.stripZeros=function(e){for(var r=(e=t.stripHexPrefix(e))[0];e.length>0&&"0"===r.toString();)r=(e=e.slice(1))[0];return e},t.toBuffer=function(e){if(!f.isBuffer(e))if(Array.isArray(e))e=f.from(e);else if("string"==typeof e)e=t.isHexString(e)?f.from(t.padToEven(t.stripHexPrefix(e)),"hex"):f.from(e);else if("number"==typeof e)e=t.intToBuffer(e);else if(null==e)e=f.allocUnsafe(0);else if(l.isBN(e))e=e.toArrayLike(f);else{if(!e.toArray)throw new Error("invalid type");e=f.from(e.toArray())}return e},t.bufferToInt=function(e){return new l(t.toBuffer(e)).toNumber()},t.bufferToHex=function(e){return"0x"+(e=t.toBuffer(e)).toString("hex")},t.fromSigned=function(t){return new l(t).fromTwos(256)},t.toUnsigned=function(t){return f.from(t.toTwos(256).toArray())},t.keccak=function(e,r){switch(e=t.toBuffer(e),r||(r=256),r){case 224:return n(e);case 256:return o(e);case 384:return i(e);case 512:return s(e);default:throw new Error("Invald algorithm: keccak"+r)}},t.keccak256=function(e){return t.keccak(e)},t.sha3=t.keccak,t.sha256=function(e){return e=t.toBuffer(e),h("sha256").update(e).digest()},t.ripemd160=function(e,r){e=t.toBuffer(e);var n=h("rmd160").update(e).digest();return!0===r?t.setLength(n,32):n},t.rlphash=function(e){return t.keccak(c.encode(e))},t.isValidPrivate=function(t){return a.privateKeyVerify(t)},t.isValidPublic=function(t,e){return 64===t.length?a.publicKeyVerify(f.concat([f.from([4]),t])):!!e&&a.publicKeyVerify(t)},t.pubToAddress=t.publicToAddress=function(e,r){return e=t.toBuffer(e),r&&64!==e.length&&(e=a.publicKeyConvert(e,!1).slice(1)),u(64===e.length),t.keccak(e).slice(-20)};var d=t.privateToPublic=function(e){return e=t.toBuffer(e),a.publicKeyCreate(e,!1).slice(1)};t.importPublic=function(e){return 64!==(e=t.toBuffer(e)).length&&(e=a.publicKeyConvert(e,!1).slice(1)),e},t.ecsign=function(t,e){var r=a.sign(t,e),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},t.hashPersonalMessage=function(e){var r=t.toBuffer("Ethereum Signed Message:\n"+e.length.toString());return t.keccak(f.concat([r,e]))},t.ecrecover=function(e,r,n,i){var o=f.concat([t.setLength(n,32),t.setLength(i,32)],64),s=r-27;if(0!==s&&1!==s)throw new Error("Invalid signature v value");var u=a.recover(e,o,s);return a.publicKeyConvert(u,!1).slice(1)},t.toRpcSig=function(e,r,n){if(27!==e&&28!==e)throw new Error("Invalid recovery id");return t.bufferToHex(f.concat([t.setLengthLeft(r,32),t.setLengthLeft(n,32),t.toBuffer(e-27)]))},t.fromRpcSig=function(e){if(65!==(e=t.toBuffer(e)).length)throw new Error("Invalid signature length");var r=e[64];return r<27&&(r+=27),{v:r,r:e.slice(0,32),s:e.slice(32,64)}},t.privateToAddress=function(e){return t.publicToAddress(d(e))},t.isValidAddress=function(t){return/^0x[0-9a-fA-F]{40}$/.test(t)},t.isZeroAddress=function(e){return t.zeroAddress()===t.addHexPrefix(e)},t.toChecksumAddress=function(e){e=t.stripHexPrefix(e).toLowerCase();for(var r=t.keccak(e).toString("hex"),n="0x",i=0;i<e.length;i++)parseInt(r[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n},t.isValidChecksumAddress=function(e){return t.isValidAddress(e)&&t.toChecksumAddress(e)===e},t.generateAddress=function(e,r){return e=t.toBuffer(e),r=(r=new l(r)).isZero()?null:f.from(r.toArray()),t.rlphash([e,r]).slice(-20)},t.isPrecompiled=function(e){var r=t.unpad(e);return 1===r.length&&r[0]>=1&&r[0]<=8},t.addHexPrefix=function(e){return"string"!=typeof e||t.isHexPrefixed(e)?e:"0x"+e},t.isValidSignature=function(t,e,r,n){var i=new l("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),o=new l("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===e.length&&32===r.length&&((27===t||28===t)&&(e=new l(e),r=new l(r),!(e.isZero()||e.gt(o)||r.isZero()||r.gt(o))&&(!1!==n||1!==new l(r).cmp(i))))},t.baToJSON=function(e){if(f.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var r=[],n=0;n<e.length;n++)r.push(t.baToJSON(e[n]));return r}},t.defineProperties=function(r,n,i){if(r.raw=[],r._fields=[],r.toJSON=function(e){if(e){var n={};return r._fields.forEach((function(t){n[t]="0x"+r[t].toString("hex")})),n}return t.baToJSON(this.raw)},r.serialize=function(){return c.encode(r.raw)},n.forEach((function(e,n){function i(){return r.raw[n]}function o(i){"00"!==(i=t.toBuffer(i)).toString("hex")||e.allowZero||(i=f.allocUnsafe(0)),e.allowLess&&e.length?(i=t.stripZeros(i),u(e.length>=i.length,"The field "+e.name+" must not have more "+e.length+" bytes")):e.allowZero&&0===i.length||!e.length||u(e.length===i.length,"The field "+e.name+" must have byte length of "+e.length),r.raw[n]=i}r._fields.push(e.name),Object.defineProperty(r,e.name,{enumerable:!0,configurable:!0,get:i,set:o}),e.default&&(r[e.name]=e.default),e.alias&&Object.defineProperty(r,e.alias,{enumerable:!1,configurable:!0,set:o,get:i})})),i)if("string"==typeof i&&(i=f.from(t.stripHexPrefix(i),"hex")),f.isBuffer(i)&&(i=c.decode(i)),Array.isArray(i)){if(i.length>r._fields.length)throw new Error("wrong number of fields in data");i.forEach((function(e,n){r[r._fields[n]]=t.toBuffer(e)}))}else{if("object"!==(void 0===i?"undefined":e(i)))throw new Error("invalid data");var o=Object.keys(i);n.forEach((function(t){-1!==o.indexOf(t.name)&&(r[t.name]=i[t.name]),-1!==o.indexOf(t.alias)&&(r[t.alias]=i[t.alias])}))}}}(xO);const kB=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let t=0;t<arguments.length;t++)n[t]=arguments[t];return new r(((r,i)=>{e.errorFirst?n.push((function(t,n){if(e.multiArgs){const e=new Array(arguments.length-1);for(let t=1;t<arguments.length;t++)e[t-1]=arguments[t];t?(e.unshift(t),i(e)):r(e)}else t?i(t):r(n)})):n.push((function(t){if(e.multiArgs){const t=new Array(arguments.length-1);for(let e=0;e<arguments.length;e++)t[e]=arguments[e];r(t)}else r(t)})),t.apply(this,n)}))};var AB=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)RB.call(r,n)&&(t[n]=r[n])}return t},RB=Object.prototype.hasOwnProperty;var TB=function(t){var e=(t=t||{}).max||Number.MAX_SAFE_INTEGER,r=void 0!==t.start?t.start:Math.floor(Math.random()*e);return function(){return r%=e,r++}};const OB=AB,IB=TB();var CB=PB;function PB(t){this.currentProvider=t}function NB(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function LB(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}PB.prototype.getBalance=LB(2,"eth_getBalance"),PB.prototype.getCode=LB(2,"eth_getCode"),PB.prototype.getTransactionCount=LB(2,"eth_getTransactionCount"),PB.prototype.getStorageAt=LB(3,"eth_getStorageAt"),PB.prototype.call=LB(2,"eth_call"),PB.prototype.protocolVersion=NB("eth_protocolVersion"),PB.prototype.syncing=NB("eth_syncing"),PB.prototype.coinbase=NB("eth_coinbase"),PB.prototype.mining=NB("eth_mining"),PB.prototype.hashrate=NB("eth_hashrate"),PB.prototype.gasPrice=NB("eth_gasPrice"),PB.prototype.accounts=NB("eth_accounts"),PB.prototype.blockNumber=NB("eth_blockNumber"),PB.prototype.getBlockTransactionCountByHash=NB("eth_getBlockTransactionCountByHash"),PB.prototype.getBlockTransactionCountByNumber=NB("eth_getBlockTransactionCountByNumber"),PB.prototype.getUncleCountByBlockHash=NB("eth_getUncleCountByBlockHash"),PB.prototype.getUncleCountByBlockNumber=NB("eth_getUncleCountByBlockNumber"),PB.prototype.sign=NB("eth_sign"),PB.prototype.sendTransaction=NB("eth_sendTransaction"),PB.prototype.sendRawTransaction=NB("eth_sendRawTransaction"),PB.prototype.estimateGas=NB("eth_estimateGas"),PB.prototype.getBlockByHash=NB("eth_getBlockByHash"),PB.prototype.getBlockByNumber=NB("eth_getBlockByNumber"),PB.prototype.getTransactionByHash=NB("eth_getTransactionByHash"),PB.prototype.getTransactionByBlockHashAndIndex=NB("eth_getTransactionByBlockHashAndIndex"),PB.prototype.getTransactionByBlockNumberAndIndex=NB("eth_getTransactionByBlockNumberAndIndex"),PB.prototype.getTransactionReceipt=NB("eth_getTransactionReceipt"),PB.prototype.getUncleByBlockHashAndIndex=NB("eth_getUncleByBlockHashAndIndex"),PB.prototype.getUncleByBlockNumberAndIndex=NB("eth_getUncleByBlockNumberAndIndex"),PB.prototype.getCompilers=NB("eth_getCompilers"),PB.prototype.compileLLL=NB("eth_compileLLL"),PB.prototype.compileSolidity=NB("eth_compileSolidity"),PB.prototype.compileSerpent=NB("eth_compileSerpent"),PB.prototype.newFilter=NB("eth_newFilter"),PB.prototype.newBlockFilter=NB("eth_newBlockFilter"),PB.prototype.newPendingTransactionFilter=NB("eth_newPendingTransactionFilter"),PB.prototype.uninstallFilter=NB("eth_uninstallFilter"),PB.prototype.getFilterChanges=NB("eth_getFilterChanges"),PB.prototype.getFilterLogs=NB("eth_getFilterLogs"),PB.prototype.getLogs=NB("eth_getLogs"),PB.prototype.getWork=NB("eth_getWork"),PB.prototype.submitWork=NB("eth_submitWork"),PB.prototype.submitHashrate=NB("eth_submitHashrate"),PB.prototype.sendAsync=function(t,e){var r;this.currentProvider.sendAsync((r=t,OB({id:IB(),jsonrpc:"2.0",params:[]},r)),(function(t,r){if(!t&&r.error&&(t=new Error("EthQuery - RPC Error - "+r.error.message)),t)return e(t);e(null,r.result)}))};const BB=Pm,UB=wc.exports;var jB="object"==typeof Reflect?Reflect:null,DB=jB&&"function"==typeof jB.apply?jB.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)},FB=zB;function zB(){UB.call(this)}function qB(t,e,r){try{DB(t,e,r)}catch(t){setTimeout((()=>{throw t}))}}function HB(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}BB.inherits(zB,UB),zB.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[t];if(void 0===a)return!1;if("function"==typeof a)qB(a,this,e);else{var u=a.length,c=HB(a,u);for(r=0;r<u;++r)qB(c[r],this,e)}return!0};const WB=FB,GB=(t,e)=>t+e,VB=["sync","latest"];function KB(t){return Number.parseInt(t,16)}const $B=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=t=>{const r=e=>"string"==typeof e?t===e:e.test(t);return e.include?e.include.some(r):!e.exclude.some(r)};let n;n="function"==typeof t?function(){return e.excludeMain?t.apply(this,arguments):kB(t,e).apply(this,arguments)}:Object.create(Object.getPrototypeOf(t));for(const i in t){const o=t[i];n[i]="function"==typeof o&&r(i)?kB(o,e):o}return n},ZB=class extends WB{constructor(t={}){super(),this._blockResetDuration=t.blockResetDuration||2e4,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){if(this._currentBlock)return this._currentBlock;return await new Promise((t=>this.once("latest",t)))}removeAllListeners(t){t?super.removeAllListeners(t):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(t,e){VB.includes(t)&&this._maybeStart()}_onRemoveListener(t,e){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return VB.map((t=>this.listenerCount(t))).reduce(GB)}_newPotentialLatest(t){const e=this._currentBlock;e&&KB(t)<=KB(e)||this._setCurrentBlock(t)}_setCurrentBlock(t){const e=this._currentBlock;this._currentBlock=t,this.emit("latest",t),this.emit("sync",{oldBlock:e,newBlock:t})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}};var JB=class extends ZB{constructor(t={}){if(!t.provider)throw new Error("PollingBlockTracker - no provider specified.");const e=t.pollingInterval||2e4,r=t.retryTimeout||e/10,n=void 0===t.keepEventLoopActive||t.keepEventLoopActive,i=t.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:e},t)),this._provider=t.provider,this._pollingInterval=e,this._retryTimeout=r,this._keepEventLoopActive=n,this._setSkipCacheFlag=i}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch((t=>this.emit("error",t)))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await YB(this._pollingInterval,!this._keepEventLoopActive)}catch(t){const e=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:\n${t.stack}`);try{this.emit("error",e)}catch(t){console.error(e)}await YB(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const t=await this._fetchLatestBlock();this._newPotentialLatest(t)}async _fetchLatestBlock(){const t={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(t.skipCache=!0);const e=await $B((e=>this._provider.sendAsync(t,e)))();if(e.error)throw new Error(`PollingBlockTracker - encountered error fetching block:\n${e.error}`);return e.result}};function YB(t,e){return new Promise((r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()}))}var XB={exports:{}},QB={exports:{}},tU={exports:{}},eU="object"==typeof ft&&ft&&ft.Object===Object&&ft,rU=eU,nU="object"==typeof self&&self&&self.Object===Object&&self,iU=rU||nU||Function("return this")(),oU=iU.Symbol,sU=oU,aU=Object.prototype,uU=aU.hasOwnProperty,cU=aU.toString,lU=sU?sU.toStringTag:void 0;var hU=function(t){var e=uU.call(t,lU),r=t[lU];try{t[lU]=void 0;var n=!0}catch(t){}var i=cU.call(t);return n&&(e?t[lU]=r:delete t[lU]),i},fU=Object.prototype.toString;var dU=function(t){return fU.call(t)},pU=hU,mU=dU,gU=oU?oU.toStringTag:void 0;var yU=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":gU&&gU in Object(t)?pU(t):mU(t)};var vU=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},_U=yU,bU=vU;var wU=function(t){if(!bU(t))return!1;var e=_U(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};var EU=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},xU=wU,SU=EU;var MU=function(t){return null!=t&&SU(t.length)&&!xU(t)},kU={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default}(kU,kU.exports);var AU={exports:{}},RU={exports:{}};var TU=function(){},OU={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default}(OU,OU.exports);var IU={exports:{}},CU={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return r&&t[r]&&t[r]()};var r="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default}(CU,CU.exports);var PU=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var NU=function(t){return null!=t&&"object"==typeof t},LU=yU,BU=NU;var UU=function(t){return BU(t)&&"[object Arguments]"==LU(t)},jU=UU,DU=NU,FU=Object.prototype,zU=FU.hasOwnProperty,qU=FU.propertyIsEnumerable,HU=jU(function(){return arguments}())?jU:function(t){return DU(t)&&zU.call(t,"callee")&&!qU.call(t,"callee")},WU=HU,GU=Array.isArray,VU={exports:{}};var KU=function(){return!1};!function(t,e){var r=iU,n=KU,i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,s=o&&o.exports===i?r.Buffer:void 0,a=(s?s.isBuffer:void 0)||n;t.exports=a}(VU,VU.exports);var $U=/^(?:0|[1-9]\d*)$/;var ZU=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&$U.test(t))&&t>-1&&t%1==0&&t<e},JU=yU,YU=EU,XU=NU,QU={};QU["[object Float32Array]"]=QU["[object Float64Array]"]=QU["[object Int8Array]"]=QU["[object Int16Array]"]=QU["[object Int32Array]"]=QU["[object Uint8Array]"]=QU["[object Uint8ClampedArray]"]=QU["[object Uint16Array]"]=QU["[object Uint32Array]"]=!0,QU["[object Arguments]"]=QU["[object Array]"]=QU["[object ArrayBuffer]"]=QU["[object Boolean]"]=QU["[object DataView]"]=QU["[object Date]"]=QU["[object Error]"]=QU["[object Function]"]=QU["[object Map]"]=QU["[object Number]"]=QU["[object Object]"]=QU["[object RegExp]"]=QU["[object Set]"]=QU["[object String]"]=QU["[object WeakMap]"]=!1;var tj=function(t){return XU(t)&&YU(t.length)&&!!QU[JU(t)]};var ej=function(t){return function(e){return t(e)}},rj={exports:{}};!function(t,e){var r=eU,n=e&&!e.nodeType&&e,i=n&&t&&!t.nodeType&&t,o=i&&i.exports===n&&r.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=s}(rj,rj.exports);var nj=tj,ij=ej,oj=rj.exports,sj=oj&&oj.isTypedArray,aj=sj?ij(sj):nj,uj=PU,cj=WU,lj=GU,hj=VU.exports,fj=ZU,dj=aj,pj=Object.prototype.hasOwnProperty;var mj=function(t,e){var r=lj(t),n=!r&&cj(t),i=!r&&!n&&hj(t),o=!r&&!n&&!i&&dj(t),s=r||n||i||o,a=s?uj(t.length,String):[],u=a.length;for(var c in t)!e&&!pj.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||fj(c,u))||a.push(c);return a},gj=Object.prototype;var yj=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||gj)};var vj=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),_j=yj,bj=vj,wj=Object.prototype.hasOwnProperty;var Ej=function(t){if(!_j(t))return bj(t);var e=[];for(var r in Object(t))wj.call(t,r)&&"constructor"!=r&&e.push(r);return e},xj=mj,Sj=Ej,Mj=MU;var kj=function(t){return Mj(t)?xj(t):Sj(t)};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,r.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,n.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):function(t){var e=(0,i.default)(t),r=-1,n=e.length;return function(){var i=e[++r];return r<n?{value:t[i],key:i}:null}}(t)};var r=o(MU),n=o(CU.exports),i=o(kj);function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default}(IU,IU.exports);var Aj={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default}(Aj,Aj.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,a,u){if(u=(0,n.default)(u||r.default),t<=0||!e)return u(null);var c=(0,i.default)(e),l=!1,h=0,f=!1;function d(t,e){if(h-=1,t)l=!0,u(t);else{if(e===s.default||l&&h<=0)return l=!0,u(null);f||p()}}function p(){for(f=!0;h<t&&!l;){var e=c();if(null===e)return l=!0,void(h<=0&&u(null));h+=1,a(e.value,e.key,(0,o.default)(d))}f=!1}p()}};var r=a(TU),n=a(OU.exports),i=a(IU.exports),o=a(Aj.exports),s=a(kU.exports);function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default}(RU,RU.exports);var Rj={},Tj={exports:{}},Oj={exports:{}},Ij={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default}(Ij,Ij.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,n.default)(arguments),r=e.pop();t.call(this,e,r)}};var r,n=(r=Ij.exports)&&r.__esModule?r:{default:r};t.exports=e.default}(Oj,Oj.exports);var Cj={};Object.defineProperty(Cj,"__esModule",{value:!0}),Cj.hasNextTick=Cj.hasSetImmediate=void 0,Cj.fallback=jj,Cj.wrap=Dj;var Pj,Nj=(Pj=Ij.exports)&&Pj.__esModule?Pj:{default:Pj};var Lj,Bj=Cj.hasSetImmediate="function"==typeof setImmediate&&setImmediate,Uj=Cj.hasNextTick="object"==typeof le&&"function"==typeof le.nextTick;function jj(t){setTimeout(t,0)}function Dj(t){return function(e){var r=(0,Nj.default)(arguments,1);t((function(){e.apply(null,r)}))}}Lj=Bj?setImmediate:Uj?le.nextTick:jj,Cj.default=Dj(Lj),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,n.default)((function(e,n){var i;try{i=t.apply(this,e)}catch(t){return n(t)}(0,r.default)(i)&&"function"==typeof i.then?i.then((function(t){s(n,null,t)}),(function(t){s(n,t.message?t:new Error(t))})):n(null,i)}))};var r=o(vU),n=o(Oj.exports),i=o(Cj);function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,r){try{t(e,r)}catch(t){(0,i.default)(a,t)}}function a(t){throw t}t.exports=e.default}(Tj,Tj.exports),Object.defineProperty(Rj,"__esModule",{value:!0}),Rj.isAsync=void 0;var Fj=function(t){return t&&t.__esModule?t:{default:t}}(Tj.exports);var zj="function"==typeof Symbol;function qj(t){return zj&&"AsyncFunction"===t[Symbol.toStringTag]}Rj.default=function(t){return qj(t)?(0,Fj.default)(t):t},Rj.isAsync=qj,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,o){(0,r.default)(e)(t,(0,n.default)(i),o)};var r=i(RU.exports),n=i(Rj);function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default}(AU,AU.exports);var Hj={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,n,i){return t(r,e,n,i)}},t.exports=e.default}(Hj,Hj.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){((0,r.default)(t)?h:f)(t,(0,c.default)(e),n)};var r=l(MU),n=l(kU.exports),i=l(AU.exports),o=l(Hj.exports),s=l(TU),a=l(OU.exports),u=l(Aj.exports),c=l(Rj);function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e,r){r=(0,a.default)(r||s.default);var i=0,o=0,c=t.length;function l(t,e){t?r(t):++o!==c&&e!==n.default||r(null)}for(0===c&&r(null);i<c;i++)e(t[i],i,(0,u.default)(l))}var f=(0,o.default)(i.default,1/0);t.exports=e.default}(tU,tU.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,i,o){return t(r.default,e,(0,n.default)(i),o)}};var r=i(tU.exports),n=i(Rj);function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default}(QB,QB.exports);var Wj={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,o){o=o||r.default,e=e||[];var s=[],a=0,u=(0,n.default)(i);t(e,(function(t,e,r){var n=a++;u(t,(function(t,e){s[n]=e,r(t)}))}),(function(t){o(t,s)}))};var r=i(TU),n=i(Rj);function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default}(Wj,Wj.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=i(QB.exports),n=i(Wj.exports);function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,r.default)(n.default),t.exports=e.default}(XB,XB.exports);var Gj={exports:{}},Vj={exports:{}},Kj={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,n){return t(e,n)}},t.exports=e.default}(Kj,Kj.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,o,s){(0,r.default)(e)(t,(0,n.default)((0,i.default)(o)),s)};var r=o(RU.exports),n=o(Kj.exports),i=o(Rj);function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default}(Vj,Vj.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=i(Vj.exports),n=i(Hj.exports);function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)(r.default,1),t.exports=e.default}(Gj,Gj.exports);const $j=wc.exports.EventEmitter;var Zj=Jj;function Jj(){$j.call(this),this.isLocked=!0}(0,Pm.inherits)(Jj,$j),Jj.prototype.go=function(){this.isLocked=!1,this.emit("unlock")},Jj.prototype.stop=function(){this.isLocked=!0,this.emit("lock")},Jj.prototype.await=function(t){const e=this;e.isLocked?e.once("unlock",t):setTimeout(t)};var Yj,Xj,Qj,tD,eD={},rD={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},nD=function(t){throw{name:"SyntaxError",message:t,at:Yj,text:Qj}},iD=function(t){return t&&t!==Xj&&nD("Expected '"+t+"' instead of '"+Xj+"'"),Xj=Qj.charAt(Yj),Yj+=1,Xj},oD=function(){var t,e="";for("-"===Xj&&(e="-",iD("-"));Xj>="0"&&Xj<="9";)e+=Xj,iD();if("."===Xj)for(e+=".";iD()&&Xj>="0"&&Xj<="9";)e+=Xj;if("e"===Xj||"E"===Xj)for(e+=Xj,iD(),"-"!==Xj&&"+"!==Xj||(e+=Xj,iD());Xj>="0"&&Xj<="9";)e+=Xj,iD();if(t=+e,isFinite(t))return t;nD("Bad number")},sD=function(){var t,e,r,n="";if('"'===Xj)for(;iD();){if('"'===Xj)return iD(),n;if("\\"===Xj)if(iD(),"u"===Xj){for(r=0,e=0;e<4&&(t=parseInt(iD(),16),isFinite(t));e+=1)r=16*r+t;n+=String.fromCharCode(r)}else{if("string"!=typeof rD[Xj])break;n+=rD[Xj]}else n+=Xj}nD("Bad string")},aD=function(){for(;Xj&&Xj<=" ";)iD()};tD=function(){switch(aD(),Xj){case"{":return function(){var t,e={};if("{"===Xj){if(iD("{"),aD(),"}"===Xj)return iD("}"),e;for(;Xj;){if(t=sD(),aD(),iD(":"),Object.hasOwnProperty.call(e,t)&&nD('Duplicate key "'+t+'"'),e[t]=tD(),aD(),"}"===Xj)return iD("}"),e;iD(","),aD()}}nD("Bad object")}();case"[":return function(){var t=[];if("["===Xj){if(iD("["),aD(),"]"===Xj)return iD("]"),t;for(;Xj;){if(t.push(tD()),aD(),"]"===Xj)return iD("]"),t;iD(","),aD()}}nD("Bad array")}();case'"':return sD();case"-":return oD();default:return Xj>="0"&&Xj<="9"?oD():function(){switch(Xj){case"t":return iD("t"),iD("r"),iD("u"),iD("e"),!0;case"f":return iD("f"),iD("a"),iD("l"),iD("s"),iD("e"),!1;case"n":return iD("n"),iD("u"),iD("l"),iD("l"),null}nD("Unexpected '"+Xj+"'")}()}};var uD,cD,lD,hD=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,fD={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function dD(t){return hD.lastIndex=0,hD.test(t)?'"'+t.replace(hD,(function(t){var e=fD[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}function pD(t,e){var r,n,i,o,s,a=uD,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof lD&&(u=lD.call(e,t,u)),typeof u){case"string":return dD(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(uD+=cD,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,r=0;r<o;r+=1)s[r]=pD(r,u)||"null";return i=0===s.length?"[]":uD?"[\n"+uD+s.join(",\n"+uD)+"\n"+a+"]":"["+s.join(",")+"]",uD=a,i}if(lD&&"object"==typeof lD)for(o=lD.length,r=0;r<o;r+=1)"string"==typeof(n=lD[r])&&(i=pD(n,u))&&s.push(dD(n)+(uD?": ":":")+i);else for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(i=pD(n,u))&&s.push(dD(n)+(uD?": ":":")+i);return i=0===s.length?"{}":uD?"{\n"+uD+s.join(",\n"+uD)+"\n"+a+"}":"{"+s.join(",")+"}",uD=a,i}}eD.parse=function(t,e){var r;return Qj=t,Yj=0,Xj=" ",r=tD(),aD(),Xj&&nD("Syntax error"),"function"==typeof e?function t(r,n){var i,o,s=r[n];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(void 0!==(o=t(s,i))?s[i]=o:delete s[i]);return e.call(r,n,s)}({"":r},""):r},eD.stringify=function(t,e,r){var n;if(uD="",cD="","number"==typeof r)for(n=0;n<r;n+=1)cD+=" ";else"string"==typeof r&&(cD=r);if(lD=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return pD("",{"":t})};var mD="undefined"!=typeof JSON?JSON:eD,gD=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var r=e.space||"";"number"==typeof r&&(r=Array(r+1).join(" "));var n="boolean"==typeof e.cycles&&e.cycles,i=e.replacer||function(t,e){return e},o=e.cmp&&function(t){return function(e){return function(r,n){var i={key:r,value:e[r]},o={key:n,value:e[n]};return t(i,o)}}}(e.cmp),s=[];return function t(e,a,u,c){var l=r?"\n"+new Array(c+1).join(r):"",h=r?": ":":";if(u&&u.toJSON&&"function"==typeof u.toJSON&&(u=u.toJSON()),void 0!==(u=i.call(e,a,u))){if("object"!=typeof u||null===u)return mD.stringify(u);if(yD(u)){for(var f=[],d=0;d<u.length;d++){var p=t(u,d,u[d],c+1)||mD.stringify(null);f.push(l+r+p)}return"["+f.join(",")+l+"]"}if(-1!==s.indexOf(u)){if(n)return mD.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}s.push(u);var m=vD(u).sort(o&&o(u));for(f=[],d=0;d<m.length;d++){var g=t(u,a=m[d],u[a],c+1);if(g){var y=mD.stringify(a)+h+g;f.push(l+r+y)}}return s.splice(s.indexOf(u),1),"{"+f.join(",")+l+"}"}}({"":t},"",t,0)},yD=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},vD=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in t)e.call(t,n)&&r.push(n);return r};var _D=function(t){var e=bD(t);if(e>=t.params.length)return null;return t.params[e]};function bD(t){switch(t.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":return 1;case"eth_getBlockByNumber":return 0;default:return}}const wD=function(){return Math.floor(Number.MAX_SAFE_INTEGER*Math.random())},ED=AB;var xD=function(t){return ED({id:wD(),jsonrpc:"2.0",params:[]},t)};const SD=wc.exports.EventEmitter,MD=Pm.inherits,kD=xO,AD=JB,RD=XB.exports,TD=Gj.exports,OD=Zj,ID=xD,CD=function(){};var PD=ND;function ND(t){const e=this;SD.call(e),e.setMaxListeners(30),t=t||{};const r={sendAsync:e._handleAsync.bind(e)},n=t.blockTrackerProvider||r;e._blockTracker=t.blockTracker||new AD({provider:n,pollingInterval:t.pollingInterval||4e3,setSkipCacheFlag:!0}),e._ready=new OD,e.currentBlock=null,e._providers=[]}MD(ND,SD),ND.prototype.start=function(t=CD){const e=this;e._ready.go(),e._blockTracker.on("latest",(t=>{e._getBlockByNumberWithRetry(t,((t,r)=>{if(t)return void this.emit("error",t);if(!r)return console.log(r),void this.emit("error",new Error("Could not find block"));const n=(i=r,{number:kD.toBuffer(i.number),hash:kD.toBuffer(i.hash),parentHash:kD.toBuffer(i.parentHash),nonce:kD.toBuffer(i.nonce),mixHash:kD.toBuffer(i.mixHash),sha3Uncles:kD.toBuffer(i.sha3Uncles),logsBloom:kD.toBuffer(i.logsBloom),transactionsRoot:kD.toBuffer(i.transactionsRoot),stateRoot:kD.toBuffer(i.stateRoot),receiptsRoot:kD.toBuffer(i.receiptRoot||i.receiptsRoot),miner:kD.toBuffer(i.miner),difficulty:kD.toBuffer(i.difficulty),totalDifficulty:kD.toBuffer(i.totalDifficulty),size:kD.toBuffer(i.size),extraData:kD.toBuffer(i.extraData),gasLimit:kD.toBuffer(i.gasLimit),gasUsed:kD.toBuffer(i.gasUsed),timestamp:kD.toBuffer(i.timestamp),transactions:i.transactions});var i;e._setCurrentBlock(n),e.emit("rawBlock",r),e.emit("latest",r)}))})),e._blockTracker.on("sync",e.emit.bind(e,"sync")),e._blockTracker.on("error",e.emit.bind(e,"error")),e._running=!0,e.emit("start")},ND.prototype.stop=function(){const t=this;t._blockTracker.removeAllListeners(),t._running=!1,t.emit("stop")},ND.prototype.isRunning=function(){return this._running},ND.prototype.addProvider=function(t,e){const r=this;"number"==typeof e?r._providers.splice(e,0,t):r._providers.push(t),t.setEngine(this)},ND.prototype.removeProvider=function(t){const e=this._providers.indexOf(t);if(e<0)throw new Error("Provider not found.");this._providers.splice(e,1)},ND.prototype.send=function(t){throw new Error("Web3ProviderEngine does not support synchronous requests.")},ND.prototype.sendAsync=function(t,e){const r=this;r._ready.await((function(){Array.isArray(t)?RD(t,r._handleAsync.bind(r),e):r._handleAsync(t,e)}))},ND.prototype._getBlockByNumberWithRetry=function(t,e){const r=this;let n=5;return void i();function i(){r._getBlockByNumber(t,o)}function o(t,r){return t?e(t):r?void e(null,r):n>0?(n--,void setTimeout((function(){i()}),1e3)):void e(null,null)}},ND.prototype._getBlockByNumber=function(t,e){const r=ID({method:"eth_getBlockByNumber",params:[t,!1],skipCache:!0});this._handleAsync(r,((t,r)=>t?e(t):e(null,r.result)))},ND.prototype._handleAsync=function(t,e){var r=this,n=-1,i=null,o=null,s=[];function a(r,n){o=r,i=n,TD(s,(function(t,e){t?t(o,i,e):e()}),(function(){var r={id:t.id,jsonrpc:t.jsonrpc,result:i};null!=o?(r.error={message:o.stack||o.message||o,code:-32e3},e(o,r)):e(null,r)}))}!function e(i){if(n+=1,s.unshift(i),n>=r._providers.length)a(new Error('Request for method "'+t.method+'" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'));else try{r._providers[n].handleRequest(t,e,a)}catch(t){a(t)}}()},ND.prototype._setCurrentBlock=function(t){this.currentBlock=t,this.emit("block",t)};const LD=xD;var BD=UD;function UD(){}UD.prototype.setEngine=function(t){const e=this;e.engine||(e.engine=t,t.on("block",(function(t){e.currentBlock=t})),t.on("start",(function(){e.start()})),t.on("stop",(function(){e.stop()})))},UD.prototype.handleRequest=function(t,e,r){throw new Error("Subproviders should override `handleRequest`.")},UD.prototype.emitPayload=function(t,e){this.engine.sendAsync(LD(t),e)},UD.prototype.stop=function(){},UD.prototype.start=function(){};const jD=BD;var DD=class extends jD{constructor(t){if(super(),!t)throw new Error("JsonRpcEngineMiddlewareSubprovider - no constructorFn specified");this._constructorFn=t}setEngine(t){if(this.middleware)throw new Error("JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice");const e=t._blockTracker,r=this._constructorFn({engine:t,provider:t,blockTracker:e});if(!r)throw new Error("JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware");if("function"!=typeof r)throw new Error("JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function");this.middleware=r}handleRequest(t,e,r){const n={id:t.id};this.middleware(t,n,(function(t){e(((e,r,i)=>{e?(delete n.result,n.error={message:e.message||e}):n.result=r,t?t(i):i()}))}),(function(t){if(t)return r(t);r(null,n.result)}))}};const FD=gD;var zD={cacheIdentifierForPayload:function(t,e){const r=e?HD(t):t.params;return qD(t)?t.method+":"+FD(r):null},canCache:qD,blockTagForPayload:function(t){let e=WD(t);if(e>=t.params.length)return null;return t.params[e]},paramsWithoutBlockTag:HD,blockTagParamIndex:WD,cacheTypeForPayload:GD};function qD(t){return"never"!==GD(t)}function HD(t){const e=WD(t);return e>=t.params.length?t.params:"eth_getBlockByNumber"===t.method?t.params.slice(1):t.params.slice(0,e)}function WD(t){switch(t.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}function GD(t){switch(t.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return"fork";case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":case"test_neverCache":return"never"}}const VD=zD,KD=function(t){return(e,r,n,i)=>{let o;const s=new Promise((t=>{o=t}));let a,u;t(e,r,(async()=>{u=!0,n((t=>{a=t,o()})),await s})).then((async()=>{u?(await s,a(null)):i(null)})).catch((t=>{a?a(t):i(t)}))}},$D=[void 0,null,"<nil>"];var ZD=function(t={}){const{blockTracker:e}=t;if(!e)throw new Error("createBlockCacheMiddleware - No BlockTracker specified");const r=new JD,n={perma:r,block:r,fork:r};return KD((async(t,i,o)=>{if(t.skipCache)return o();const s=VD.cacheTypeForPayload(t),a=n[s];if(!a)return o();if(!a.canCacheRequest(t))return o();let u,c=VD.blockTagForPayload(t);if(c||(c="latest"),"earliest"===c)u="0x00";else if("latest"===c){const t=await e.getLatestBlock();r.clearBefore(t),u=t}else u=c;const l=await a.get(t,u);void 0===l?(await o(),await a.set(t,u,i.result)):i.result=l}))};class JD{constructor(){this.cache={}}getBlockCacheForPayload(t,e){const r=Number.parseInt(e,16);let n=this.cache[r];if(!n){const t={};this.cache[r]=t,n=t}return n}async get(t,e){const r=this.getBlockCacheForPayload(t,e);if(!r)return;return r[VD.cacheIdentifierForPayload(t,!0)]}async set(t,e,r){if(!this.canCacheResult(t,r))return;this.getBlockCacheForPayload(t,e)[VD.cacheIdentifierForPayload(t,!0)]=r}canCacheRequest(t){if(!VD.canCache(t))return!1;return"pending"!==VD.blockTagForPayload(t)}canCacheResult(t,e){if(!$D.includes(e))return!!(!["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(t.method)||e&&e.blockHash&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==e.blockHash)}clearBefore(t){const e=this,r=Number.parseInt(t,16);Object.keys(e.cache).map(Number).filter((t=>t<r)).forEach((t=>delete e.cache[t]))}}const YD=DD,XD=ZD;var QD=class extends YD{constructor(t){super((({blockTracker:e})=>XD(Object.assign({blockTracker:e},t))))}};var tF=eF;function eF(t){t=t||{},this.staticResponses=t}(0,Pm.inherits)(eF,BD),eF.prototype.handleRequest=function(t,e,r){var n=this.staticResponses[t.method];"function"==typeof n?n(t,e,r):void 0!==n?setTimeout((()=>r(null,n))):e()};var rF={},nF={},iF={};Object.defineProperty(iF,"__esModule",{value:!0});var oF=Nh,sF=function(){function t(t){if(this._maxConcurrency=t,this._queue=[],t<=0)throw new Error("semaphore must be initialized to a positive value");this._value=t}return t.prototype.acquire=function(){var t=this,e=this.isLocked(),r=new Promise((function(e){return t._queue.push(e)}));return e||this._dispatch(),r},t.prototype.runExclusive=function(t){return oF.__awaiter(this,void 0,void 0,(function(){var e,r,n;return oF.__generator(this,(function(i){switch(i.label){case 0:return[4,this.acquire()];case 1:e=i.sent(),r=e[0],n=e[1],i.label=2;case 2:return i.trys.push([2,,4,5]),[4,t(r)];case 3:return[2,i.sent()];case 4:return n(),[7];case 5:return[2]}}))}))},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var t=this._currentReleaser;this._currentReleaser=void 0,t()}},t.prototype._dispatch=function(){var t=this,e=this._queue.shift();if(e){var r=!1;this._currentReleaser=function(){r||(r=!0,t._value++,t._dispatch())},e([this._value--,this._currentReleaser])}},t}();iF.default=sF,Object.defineProperty(nF,"__esModule",{value:!0});var aF=Nh,uF=iF,cF=function(){function t(){this._semaphore=new uF.default(1)}return t.prototype.acquire=function(){return aF.__awaiter(this,void 0,void 0,(function(){var t;return aF.__generator(this,(function(e){switch(e.label){case 0:return[4,this._semaphore.acquire()];case 1:return t=e.sent(),[2,t[1]]}}))}))},t.prototype.runExclusive=function(t){return this._semaphore.runExclusive((function(){return t()}))},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();nF.default=cF;var lF={};Object.defineProperty(lF,"__esModule",{value:!0}),lF.withTimeout=void 0;var hF=Nh;lF.withTimeout=function(t,e,r){var n=this;return void 0===r&&(r=new Error("timeout")),{acquire:function(){return new Promise((function(i,o){return hF.__awaiter(n,void 0,void 0,(function(){var n,s;return hF.__generator(this,(function(a){switch(a.label){case 0:return n=!1,setTimeout((function(){n=!0,o(r)}),e),[4,t.acquire()];case 1:return s=a.sent(),n?(Array.isArray(s)?s[1]:s)():i(s),[2]}}))}))}))},runExclusive:function(t){return hF.__awaiter(this,void 0,void 0,(function(){var e,r;return hF.__generator(this,(function(n){switch(n.label){case 0:e=function(){},n.label=1;case 1:return n.trys.push([1,,7,8]),[4,this.acquire()];case 2:return r=n.sent(),Array.isArray(r)?(e=r[1],[4,t(r[0])]):[3,4];case 3:return[2,n.sent()];case 4:return e=r,[4,t()];case 5:return[2,n.sent()];case 6:return[3,8];case 7:return e(),[7];case 8:return[2]}}))}))},release:function(){t.release()},isLocked:function(){return t.isLocked()}}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=nF;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=iF;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=lF;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})}(rF);var fF={},dF={},pF={};Object.defineProperty(pF,"__esModule",{value:!0}),pF.getUniqueId=void 0;const mF=4294967295;let gF=Math.floor(Math.random()*mF);pF.getUniqueId=function(){return gF=(gF+1)%mF,gF},Object.defineProperty(dF,"__esModule",{value:!0}),dF.createIdRemapMiddleware=void 0;const yF=pF;dF.createIdRemapMiddleware=function(){return(t,e,r,n)=>{const i=t.id,o=yF.getUniqueId();t.id=o,e.id=o,r((r=>{t.id=i,e.id=i,r()}))}};var vF={};Object.defineProperty(vF,"__esModule",{value:!0}),vF.createAsyncMiddleware=void 0,vF.createAsyncMiddleware=function(t){return async(e,r,n,i)=>{let o;const s=new Promise((t=>{o=t}));let a=null,u=!1;const c=async()=>{u=!0,n((t=>{a=t,o()})),await s};try{await t(e,r,c),u?(await s,a(null)):i(null)}catch(t){a?a(t):i(t)}}};var _F={};Object.defineProperty(_F,"__esModule",{value:!0}),_F.createScaffoldMiddleware=void 0,_F.createScaffoldMiddleware=function(t){return(e,r,n,i)=>{const o=t[e.method];return void 0===o?n():"function"==typeof o?o(e,r,n,i):(r.result=o,i())}};var bF={},wF={};Object.defineProperty(wF,"__esModule",{value:!0});const EF=wc.exports;function xF(t,e,r){try{Reflect.apply(t,e,r)}catch(t){setTimeout((()=>{throw t}))}}class SF extends EF.EventEmitter{emit(t,...e){let r="error"===t;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let t;if(e.length>0&&([t]=e),t instanceof Error)throw t;const r=new Error("Unhandled error."+(t?` (${t.message})`:""));throw r.context=t,r}const i=n[t];if(void 0===i)return!1;if("function"==typeof i)xF(i,this,e);else{const t=i.length,r=function(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}(i);for(let n=0;n<t;n+=1)xF(r[n],this,e)}return!0}}wF.default=SF;var MF={},kF={},AF=PF;PF.default=PF,PF.stable=UF,PF.stableStringify=UF;var RF="[...]",TF="[Circular]",OF=[],IF=[];function CF(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function PF(t,e,r,n){var i;void 0===n&&(n=CF()),LF(t,"",0,[],void 0,0,n);try{i=0===IF.length?JSON.stringify(t,e,r):JSON.stringify(t,DF(e),r)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==OF.length;){var o=OF.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function NF(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);void 0!==i.get?i.configurable?(Object.defineProperty(n,r,{value:t}),OF.push([n,r,e,i])):IF.push([e,r,t]):(n[r]=t,OF.push([n,r,e]))}function LF(t,e,r,n,i,o,s){var a;if(o+=1,"object"==typeof t&&null!==t){for(a=0;a<n.length;a++)if(n[a]===t)return void NF(TF,t,e,i);if(void 0!==s.depthLimit&&o>s.depthLimit)return void NF(RF,t,e,i);if(void 0!==s.edgesLimit&&r+1>s.edgesLimit)return void NF(RF,t,e,i);if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)LF(t[a],a,a,n,t,o,s);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var c=u[a];LF(t[c],c,a,n,t,o,s)}}n.pop()}}function BF(t,e){return t<e?-1:t>e?1:0}function UF(t,e,r,n){void 0===n&&(n=CF());var i,o=jF(t,"",0,[],void 0,0,n)||t;try{i=0===IF.length?JSON.stringify(o,e,r):JSON.stringify(o,DF(e),r)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==OF.length;){var s=OF.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function jF(t,e,r,n,i,o,s){var a;if(o+=1,"object"==typeof t&&null!==t){for(a=0;a<n.length;a++)if(n[a]===t)return void NF(TF,t,e,i);try{if("function"==typeof t.toJSON)return}catch(t){return}if(void 0!==s.depthLimit&&o>s.depthLimit)return void NF(RF,t,e,i);if(void 0!==s.edgesLimit&&r+1>s.edgesLimit)return void NF(RF,t,e,i);if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)jF(t[a],a,a,n,t,o,s);else{var u={},c=Object.keys(t).sort(BF);for(a=0;a<c.length;a++){var l=c[a];jF(t[l],l,a,n,t,o,s),u[l]=t[l]}if(void 0===i)return u;OF.push([i,e,t]),i[e]=u}n.pop()}}function DF(t){return t=void 0!==t?t:function(t,e){return e},function(e,r){if(IF.length>0)for(var n=0;n<IF.length;n++){var i=IF[n];if(i[1]===e&&i[0]===r){r=i[2],IF.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(kF,"__esModule",{value:!0}),kF.EthereumProviderError=kF.EthereumRpcError=void 0;const FF=AF;class zF extends Error{constructor(t,e,r){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!e||"string"!=typeof e)throw new Error('"message" must be a nonempty string.');super(e),this.code=t,void 0!==r&&(this.data=r)}serialize(){const t={code:this.code,message:this.message};return void 0!==this.data&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return FF.default(this.serialize(),qF,2)}}kF.EthereumRpcError=zF;function qF(t,e){if("[Circular]"!==e)return e}kF.EthereumProviderError=class extends zF{constructor(t,e,r){if(!function(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,e,r)}};var HF={},WF={};Object.defineProperty(WF,"__esModule",{value:!0}),WF.errorValues=WF.errorCodes=void 0,WF.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},WF.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=WF,r=kF,n=e.errorCodes.rpc.internal,i={code:n,message:o(n)};function o(r,n="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(r)){const n=r.toString();if(c(e.errorValues,n))return e.errorValues[n].message;if(a(r))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return n}function s(t){if(!Number.isInteger(t))return!1;const r=t.toString();return!!e.errorValues[r]||!!a(t)}function a(t){return t>=-32099&&t<=-32e3}function u(t){return t&&"object"==typeof t&&!Array.isArray(t)?Object.assign({},t):t}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=o,t.isValidCode=s,t.serializeError=function(t,{fallbackError:e=i,shouldIncludeStack:n=!1}={}){var a,l;if(!e||!Number.isInteger(e.code)||"string"!=typeof e.message)throw new Error("Must provide fallback error with integer number code and string message.");if(t instanceof r.EthereumRpcError)return t.serialize();const h={};if(t&&"object"==typeof t&&!Array.isArray(t)&&c(t,"code")&&s(t.code)){const e=t;h.code=e.code,e.message&&"string"==typeof e.message?(h.message=e.message,c(e,"data")&&(h.data=e.data)):(h.message=o(h.code),h.data={originalError:u(t)})}else{h.code=e.code;const r=null===(a=t)||void 0===a?void 0:a.message;h.message=r&&"string"==typeof r?r:e.message,h.data={originalError:u(t)}}const f=null===(l=t)||void 0===l?void 0:l.stack;return n&&t&&f&&"string"==typeof f&&(h.stack=f),h}}(HF);var GF={};Object.defineProperty(GF,"__esModule",{value:!0}),GF.ethErrors=void 0;const VF=kF,KF=HF,$F=WF;function ZF(t,e){const[r,n]=YF(e);return new VF.EthereumRpcError(t,r||KF.getMessageFromCode(t),n)}function JF(t,e){const[r,n]=YF(e);return new VF.EthereumProviderError(t,r||KF.getMessageFromCode(t),n)}function YF(t){if(t){if("string"==typeof t)return[t];if("object"==typeof t&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&"string"!=typeof e)throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}GF.ethErrors={rpc:{parse:t=>ZF($F.errorCodes.rpc.parse,t),invalidRequest:t=>ZF($F.errorCodes.rpc.invalidRequest,t),invalidParams:t=>ZF($F.errorCodes.rpc.invalidParams,t),methodNotFound:t=>ZF($F.errorCodes.rpc.methodNotFound,t),internal:t=>ZF($F.errorCodes.rpc.internal,t),server:t=>{if(!t||"object"!=typeof t||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ZF(e,t)},invalidInput:t=>ZF($F.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>ZF($F.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>ZF($F.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>ZF($F.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>ZF($F.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>ZF($F.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>JF($F.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>JF($F.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>JF($F.errorCodes.provider.unsupportedMethod,t),disconnected:t=>JF($F.errorCodes.provider.disconnected,t),chainDisconnected:t=>JF($F.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||"object"!=typeof t||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new VF.EthereumProviderError(e,r,n)}}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=kF;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=HF;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=GF;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=WF;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})}(MF);var XF=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bF,"__esModule",{value:!0}),bF.JsonRpcEngine=void 0;const QF=XF(wF),tz=MF;class ez extends QF.default{constructor(){super(),this._middleware=[]}push(t){this._middleware.push(t)}handle(t,e){if(e&&"function"!=typeof e)throw new Error('"callback" must be a function if provided.');return Array.isArray(t)?e?this._handleBatch(t,e):this._handleBatch(t):e?this._handle(t,e):this._promiseHandle(t)}asMiddleware(){return async(t,e,r,n)=>{try{const[i,o,s]=await ez._runAllMiddleware(t,e,this._middleware);return o?(await ez._runReturnHandlers(s),n(i)):r((async t=>{try{await ez._runReturnHandlers(s)}catch(e){return t(e)}return t()}))}catch(t){return n(t)}}}async _handleBatch(t,e){try{const r=await Promise.all(t.map(this._promiseHandle.bind(this)));return e?e(null,r):r}catch(t){if(e)return e(t);throw t}}_promiseHandle(t){return new Promise((e=>{this._handle(t,((t,r)=>{e(r)}))}))}async _handle(t,e){if(!t||Array.isArray(t)||"object"!=typeof t){const r=new tz.EthereumRpcError(tz.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof t,{request:t});return e(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof t.method){const r=new tz.EthereumRpcError(tz.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof t.method,{request:t});return e(r,{id:t.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},t),n={id:r.id,jsonrpc:r.jsonrpc};let i=null;try{await this._processRequest(r,n)}catch(t){i=t}return i&&(delete n.result,n.error||(n.error=tz.serializeError(i))),e(i,n)}async _processRequest(t,e){const[r,n,i]=await ez._runAllMiddleware(t,e,this._middleware);if(ez._checkForCompletion(t,e,n),await ez._runReturnHandlers(i),r)throw r}static async _runAllMiddleware(t,e,r){const n=[];let i=null,o=!1;for(const s of r)if([i,o]=await ez._runMiddleware(t,e,s,n),o)break;return[i,o,n.reverse()]}static _runMiddleware(t,e,r,n){return new Promise((i=>{const o=t=>{const r=t||e.error;r&&(e.error=tz.serializeError(r)),i([r,!0])},s=r=>{e.error?o(e.error):(r&&("function"!=typeof r&&o(new tz.EthereumRpcError(tz.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${rz(t)}`,{request:t})),n.push(r)),i([null,!1]))};try{r(t,e,s,o)}catch(t){o(t)}}))}static async _runReturnHandlers(t){for(const e of t)await new Promise(((t,r)=>{e((e=>e?r(e):t()))}))}static _checkForCompletion(t,e,r){if(!("result"in e)&&!("error"in e))throw new tz.EthereumRpcError(tz.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${rz(t)}`,{request:t});if(!r)throw new tz.EthereumRpcError(tz.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${rz(t)}`,{request:t})}}function rz(t){return JSON.stringify(t,null,2)}bF.JsonRpcEngine=ez;var nz={};Object.defineProperty(nz,"__esModule",{value:!0}),nz.mergeMiddleware=void 0;const iz=bF;nz.mergeMiddleware=function(t){const e=new iz.JsonRpcEngine;return t.forEach((t=>e.push(t))),e.asMiddleware()},function(t){var e=ft&&ft.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),r=ft&&ft.__exportStar||function(t,r){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||e(r,t,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(dF,t),r(vF,t),r(_F,t),r(pF,t),r(bF,t),r(nz,t)}(fF);var oz=function(t){return(e,r,n,i)=>{const o=t[e.method];return void 0===o?n():"function"==typeof o?o(e,r,n,i):(r.result=o,i())}};const sz=(t,e,r,n)=>function(...i){return new(0,e.promiseModule)(((o,s)=>{e.multiArgs?i.push(((...t)=>{e.errorFirst?t[0]?s(t):(t.shift(),o(t)):o(t)})):e.errorFirst?i.push(((t,e)=>{t?s(t):o(e)})):i.push(o);const a=this===r?n:this;Reflect.apply(t,a,i)}))},az=new WeakMap;const uz=wF.default;var cz=class extends uz{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(t){this.updates=this.updates.concat(t),t.forEach((t=>this.emit("update",t)))}addInitialResults(t){}getChangesAndClear(){const t=this.updates;return this.updates=[],t}};const lz=cz;var hz={minBlockRef:function(...t){return fz(t)[0]},maxBlockRef:function(...t){const e=fz(t);return e[e.length-1]},sortBlockRefs:fz,bnToHex:function(t){return"0x"+t.toString(16)},blockRefIsNumber:function(t){return t&&!["earliest","latest","pending"].includes(t)},hexToInt:dz,incrementHexInt:function(t){if(null==t)return t;return pz(dz(t)+1)},intToHex:pz,unsafeRandomBytes:function(t){let e="0x";for(let r=0;r<t;r++)e+=mz(),e+=mz();return e}};function fz(t){return t.sort(((t,e)=>"latest"===t||"earliest"===e?1:"latest"===e||"earliest"===t?-1:dz(t)-dz(e)))}function dz(t){return null==t?t:Number.parseInt(t,16)}function pz(t){if(null==t)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function mz(){return Math.floor(16*Math.random()).toString(16)}const gz=CB,yz=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(null===t||"object"!==r&&"function"!==r)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===t?"null":r}\``);const n=new WeakMap,i=new Proxy(t,{apply(t,r,o){const s=n.get(t);if(s)return Reflect.apply(s,r,o);const a=e.excludeMain?t:sz(t,e,i,t);return n.set(t,a),Reflect.apply(a,r,o)},get(t,r){const o=t[r];if(!((t,r)=>{let n=az.get(t);if(n||(n={},az.set(t,n)),r in n)return n[r];const i=t=>"string"==typeof t||"symbol"==typeof r?r===t:t.test(r),o=Reflect.getOwnPropertyDescriptor(t,r),s=void 0===o||o.writable||o.configurable,a=(e.include?e.include.some(i):!e.exclude.some(i))&&s;return n[r]=a,a})(t,r)||o===Function.prototype[r])return o;const s=n.get(o);if(s)return s;if("function"==typeof o){const r=sz(o,e,i,t);return n.set(o,r),r}return o}});return i},vz=class extends lz{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(t){this.allResults=this.allResults.concat(t),super.addResults(t)}addInitialResults(t){this.allResults=this.allResults.concat(t),super.addInitialResults(t)}getAllResults(){return this.allResults}},{bnToHex:_z,hexToInt:bz,incrementHexInt:wz,minBlockRef:Ez,blockRefIsNumber:xz}=hz;var Sz=class extends vz{constructor({provider:t,params:e}){super(),this.type="log",this.ethQuery=new gz(t),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},e),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map((t=>t.toLowerCase())))}async initialize({currentBlock:t}){let e=this.params.fromBlock;["latest","pending"].includes(e)&&(e=t),"earliest"===e&&(e="0x0"),this.params.fromBlock=e;const r=Ez(this.params.toBlock,t),n=Object.assign({},this.params,{toBlock:r}),i=await this._fetchLogs(n);this.addInitialResults(i)}async update({oldBlock:t,newBlock:e}){const r=e;let n;n=t?wz(t):e;const i=Object.assign({},this.params,{fromBlock:n,toBlock:r}),o=(await this._fetchLogs(i)).filter((t=>this.matchLog(t)));this.addResults(o)}async _fetchLogs(t){return await yz((e=>this.ethQuery.getLogs(t,e)))()}matchLog(t){if(bz(this.params.fromBlock)>=bz(t.blockNumber))return!1;if(xz(this.params.toBlock)&&bz(this.params.toBlock)<=bz(t.blockNumber))return!1;const e=t.address&&t.address.toLowerCase();if(this.params.address&&e&&!this.params.address.includes(e))return!1;const r=this.params.topics.every(((e,r)=>{let n=t.topics[r];if(!n)return!1;n=n.toLowerCase();let i=Array.isArray(e)?e:[e];if(i.includes(null))return!0;i=i.map((t=>t.toLowerCase()));return i.includes(n)}));return r}},Mz=async function({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=kz(e),i=kz(r),o=Array(i-n+1).fill().map(((t,e)=>n+e)).map(Az);return await Promise.all(o.map((e=>function(t,e,r){return new Promise(((n,i)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:r},((t,e)=>{if(t)return i(t);n(e.result)}))}))}(t,"eth_getBlockByNumber",[e,!1]))))};function kz(t){return null==t?t:Number.parseInt(t,16)}function Az(t){if(null==t)return t;return"0x"+t.toString(16)}const Rz=cz,Tz=Mz,{incrementHexInt:Oz}=hz;var Iz=class extends Rz{constructor({provider:t,params:e}){super(),this.type="block",this.provider=t}async update({oldBlock:t,newBlock:e}){const r=e,n=Oz(t),i=(await Tz({provider:this.provider,fromBlock:n,toBlock:r})).map((t=>t.hash));this.addResults(i)}};const Cz=cz,Pz=Mz,{incrementHexInt:Nz}=hz;var Lz=class extends Cz{constructor({provider:t}){super(),this.type="tx",this.provider=t}async update({oldBlock:t}){const e=t,r=Nz(t),n=await Pz({provider:this.provider,fromBlock:r,toBlock:e}),i=[];for(const t of n)i.push(...t.transactions);this.addResults(i)}};const Bz=rF.Mutex,{createAsyncMiddleware:Uz}=fF,jz=oz,Dz=Sz,Fz=Iz,zz=Lz,{intToHex:qz,hexToInt:Hz}=hz;var Wz=function({blockTracker:t,provider:e}){let r=0,n={};const i=new Bz,o=function({mutex:t}){return e=>async(r,n,i,o)=>{(await t.acquire())(),e(r,n,i,o)}}({mutex:i}),s=jz({eth_newFilter:o(Gz(u)),eth_newBlockFilter:o(Gz(c)),eth_newPendingTransactionFilter:o(Gz(l)),eth_uninstallFilter:o(Vz(d)),eth_getFilterChanges:o(Vz(h)),eth_getFilterLogs:o(Vz(f))}),a=async({oldBlock:t,newBlock:e})=>{if(0===n.length)return;const r=await i.acquire();try{await Promise.all(Kz(n).map((async r=>{try{await r.update({oldBlock:t,newBlock:e})}catch(t){console.error(t)}})))}catch(t){console.error(t)}r()};return s.newLogFilter=u,s.newBlockFilter=c,s.newPendingTransactionFilter=l,s.uninstallFilter=d,s.getFilterChanges=h,s.getFilterLogs=f,s.destroy=()=>{!async function(){const t=Kz(n).length;n={},m({prevFilterCount:t,newFilterCount:0})}()},s;async function u(t){const r=new Dz({provider:e,params:t});return await p(r),r}async function c(){const t=new Fz({provider:e});return await p(t),t}async function l(){const t=new zz({provider:e});return await p(t),t}async function h(t){const e=Hz(t),r=n[e];if(!r)throw new Error(`No filter for index "${e}"`);return r.getChangesAndClear()}async function f(t){const e=Hz(t),r=n[e];if(!r)throw new Error(`No filter for index "${e}"`);return"log"===r.type?results=r.getAllResults():results=[],results}async function d(t){const e=Hz(t),r=n[e],i=Boolean(r);return i&&await async function(t){const e=Kz(n).length;delete n[t];const r=Kz(n).length;m({prevFilterCount:e,newFilterCount:r})}(e),i}async function p(e){const i=Kz(n).length,o=await t.getLatestBlock();await e.initialize({currentBlock:o}),r++,n[r]=e,e.id=r,e.idHex=qz(r);return m({prevFilterCount:i,newFilterCount:Kz(n).length}),r}function m({prevFilterCount:e,newFilterCount:r}){0===e&&r>0?t.on("sync",a):e>0&&0===r&&t.removeListener("sync",a)}};function Gz(t){return Vz((async(...e)=>{const r=await t(...e);return qz(r.id)}))}function Vz(t){return Uz((async(e,r)=>{const n=await t.apply(null,e.params);r.result=n}))}function Kz(t,e){const r=[];for(let e in t)r.push(t[e]);return r}const $z=DD,Zz=Wz;var Jz=class extends $z{constructor(){super((({blockTracker:t,provider:e,engine:r})=>Zz({blockTracker:t,provider:e})))}},Yz={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e=(0,i.default)(e||n.default),!(0,r.default)(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var u=0;function c(e){var r=(0,a.default)(t[u++]);e.push((0,s.default)(l)),r.apply(null,e)}function l(r){if(r||u===t.length)return e.apply(null,arguments);c((0,o.default)(arguments,1))}c([])};var r=u(GU),n=u(TU),i=u(OU.exports),o=u(Ij.exports),s=u(Aj.exports),a=u(Rj);function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default}(Yz,Yz.exports);var Xz={exports:{}},Qz={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,s){s=s||r.default;var a=(0,n.default)(e)?[]:{};t(e,(function(t,e,r){(0,o.default)(t)((function(t,n){arguments.length>2&&(n=(0,i.default)(arguments,1)),a[e]=n,r(t)}))}),(function(t){s(t,a)}))};var r=s(TU),n=s(MU),i=s(Ij.exports),o=s(Rj);function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default}(Qz,Qz.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,n.default)(r.default,t,e)};var r=i(tU.exports),n=i(Qz.exports);function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default}(Xz,Xz.exports);var tq={},eq={},rq={};Object.defineProperty(rq,"__esModule",{value:!0});var nq=pt.exports,iq=new(0,rN.ec)("secp256k1"),oq=iq.curve;rq.privateKeyExport=function(t,e){void 0===e&&(e=!0);var r=new nq(t);if(r.ucmp(oq.n)>=0)throw new Error("couldn't export to DER format");var n=iq.g.mul(r);return sq(n.getX(),n.getY(),e)},rq.privateKeyModInverse=function(t){var e=new nq(t);if(e.ucmp(oq.n)>=0||e.isZero())throw new Error("private key range is invalid");return e.invm(oq.n).toArrayLike(Nf,"be",32)},rq.signatureImport=function(t){var e=new nq(t.r);e.ucmp(oq.n)>=0&&(e=new nq(0));var r=new nq(t.s);return r.ucmp(oq.n)>=0&&(r=new nq(0)),Nf.concat([e.toArrayLike(Nf,"be",32),r.toArrayLike(Nf,"be",32)])},rq.ecdhUnsafe=function(t,e,r){void 0===r&&(r=!0);var n=iq.keyFromPublic(t),i=new nq(e);if(i.ucmp(oq.n)>=0||i.isZero())throw new Error("scalar was invalid (zero or overflow)");var o=n.pub.mul(i);return sq(o.getX(),o.getY(),r)};var sq=function(t,e,r){var n;return r?((n=Nf.alloc(33))[0]=e.isOdd()?3:2,t.toArrayLike(Nf,"be",32).copy(n,1)):((n=Nf.alloc(65))[0]=4,t.toArrayLike(Nf,"be",32).copy(n,1),e.toArrayLike(Nf,"be",32).copy(n,33)),n},aq={};Object.defineProperty(aq,"__esModule",{value:!0});var uq=Nf.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),cq=Nf.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);aq.privateKeyExport=function(t,e,r){void 0===r&&(r=!0);var n=Nf.from(r?uq:cq);return t.copy(n,r?8:9),e.copy(n,r?181:214),n},aq.privateKeyImport=function(t){var e=t.length,r=0;if(e<r+1||48!==t[r])return null;if(e<(r+=1)+1||!(128&t[r]))return null;var n=127&t[r];if(n<1||n>2)return null;if(e<(r+=1)+n)return null;var i=t[r+n-1]|(n>1?t[r+n-2]<<8:0);return e<(r+=n)+i||e<r+3||2!==t[r]||1!==t[r+1]||1!==t[r+2]||e<(r+=3)+2||4!==t[r]||t[r+1]>32||e<r+2+t[r+1]?null:t.slice(r+2,r+2+t[r+1])},aq.signatureImportLax=function(t){var e=Nf.alloc(32,0),r=Nf.alloc(32,0),n=t.length,i=0;if(48!==t[i++])return null;var o=t[i++];if(128&o&&(i+=o-128)>n)return null;if(2!==t[i++])return null;var s=t[i++];if(128&s){if(i+(o=s-128)>n)return null;for(;o>0&&0===t[i];i+=1,o-=1);for(s=0;o>0;i+=1,o-=1)s=(s<<8)+t[i]}if(s>n-i)return null;var a=i;if(i+=s,2!==t[i++])return null;var u=t[i++];if(128&u){if(i+(o=u-128)>n)return null;for(;o>0&&0===t[i];i+=1,o-=1);for(u=0;o>0;i+=1,o-=1)u=(u<<8)+t[i]}if(u>n-i)return null;var c=i;for(i+=u;s>0&&0===t[a];s-=1,a+=1);if(s>32)return null;var l=t.slice(a,a+s);for(l.copy(e,32-l.length);u>0&&0===t[c];u-=1,c+=1);if(u>32)return null;var h=t.slice(c,c+u);return h.copy(r,32-h.length),{r:e,s:r}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ecdhUnsafe=t.ecdh=t.recover=t.verify=t.sign=t.signatureImportLax=t.signatureImport=t.signatureExport=t.signatureNormalize=t.publicKeyCombine=t.publicKeyTweakMul=t.publicKeyTweakAdd=t.publicKeyVerify=t.publicKeyConvert=t.publicKeyCreate=t.privateKeyTweakMul=t.privateKeyTweakAdd=t.privateKeyModInverse=t.privateKeyNegate=t.privateKeyImport=t.privateKeyExport=t.privateKeyVerify=void 0;var e=UP,r=rq,n=aq;t.privateKeyVerify=function(t){return 32===t.length&&e.privateKeyVerify(Uint8Array.from(t))},t.privateKeyExport=function(t,e){if(32!==t.length)throw new RangeError("private key length is invalid");var i=r.privateKeyExport(t,e);return n.privateKeyExport(t,i,e)},t.privateKeyImport=function(e){if(null!==(e=n.privateKeyImport(e))&&32===e.length&&t.privateKeyVerify(e))return e;throw new Error("couldn't import from DER format")},t.privateKeyNegate=function(t){return Nf.from(e.privateKeyNegate(Uint8Array.from(t)))},t.privateKeyModInverse=function(t){if(32!==t.length)throw new Error("private key length is invalid");return Nf.from(r.privateKeyModInverse(Uint8Array.from(t)))},t.privateKeyTweakAdd=function(t,r){return Nf.from(e.privateKeyTweakAdd(Uint8Array.from(t),r))},t.privateKeyTweakMul=function(t,r){return Nf.from(e.privateKeyTweakMul(Uint8Array.from(t),Uint8Array.from(r)))},t.publicKeyCreate=function(t,r){return Nf.from(e.publicKeyCreate(Uint8Array.from(t),r))},t.publicKeyConvert=function(t,r){return Nf.from(e.publicKeyConvert(Uint8Array.from(t),r))},t.publicKeyVerify=function(t){return(33===t.length||65===t.length)&&e.publicKeyVerify(Uint8Array.from(t))},t.publicKeyTweakAdd=function(t,r,n){return Nf.from(e.publicKeyTweakAdd(Uint8Array.from(t),Uint8Array.from(r),n))},t.publicKeyTweakMul=function(t,r,n){return Nf.from(e.publicKeyTweakMul(Uint8Array.from(t),Uint8Array.from(r),n))},t.publicKeyCombine=function(t,r){var n=[];return t.forEach((function(t){n.push(Uint8Array.from(t))})),Nf.from(e.publicKeyCombine(n,r))},t.signatureNormalize=function(t){return Nf.from(e.signatureNormalize(Uint8Array.from(t)))},t.signatureExport=function(t){return Nf.from(e.signatureExport(Uint8Array.from(t)))},t.signatureImport=function(t){return Nf.from(e.signatureImport(Uint8Array.from(t)))},t.signatureImportLax=function(t){if(0===t.length)throw new RangeError("signature length is invalid");var e=n.signatureImportLax(t);if(null===e)throw new Error("couldn't parse DER signature");return r.signatureImport(e)},t.sign=function(t,r,n){if(null===n)throw new TypeError("options should be an Object");var i=void 0;if(n){if(i={},null===n.data)throw new TypeError("options.data should be a Buffer");if(n.data){if(32!=n.data.length)throw new RangeError("options.data length is invalid");i.data=new Uint8Array(n.data)}if(null===n.noncefn)throw new TypeError("options.noncefn should be a Function");n.noncefn&&(i.noncefn=function(t,e,r,i,o){var s=null!=r?Nf.from(r):null,a=null!=i?Nf.from(i):null,u=Nf.from("");return n.noncefn&&(u=n.noncefn(Nf.from(t),Nf.from(e),s,a,o)),new Uint8Array(u)})}var o=e.ecdsaSign(Uint8Array.from(t),Uint8Array.from(r),i);return{signature:Nf.from(o.signature),recovery:o.recid}},t.verify=function(t,r,n){return e.ecdsaVerify(Uint8Array.from(r),Uint8Array.from(t),n)},t.recover=function(t,r,n,i){return Nf.from(e.ecdsaRecover(Uint8Array.from(r),n,Uint8Array.from(t),i))},t.ecdh=function(t,r){return Nf.from(e.ecdh(Uint8Array.from(t),Uint8Array.from(r),{}))},t.ecdhUnsafe=function(t,e,n){if(33!==t.length&&65!==t.length)throw new RangeError("public key length is invalid");if(32!==e.length)throw new RangeError("private key length is invalid");return Nf.from(r.ecdhUnsafe(Uint8Array.from(t),Uint8Array.from(e),n))}}(eq);var lq={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.MAX_INTEGER=void 0;var e=pt.exports;t.MAX_INTEGER=new e("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new e("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=Nf.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=Nf.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=Nf.from(t.KECCAK256_RLP_S,"hex")}(lq);var hq={},fq={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.baToJSON=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToHex=t.bufferToInt=t.toBuffer=t.stripZeros=t.unpad=t.setLengthRight=t.setLength=t.setLengthLeft=t.zeros=void 0;var e=MB,r=pt.exports;t.zeros=function(t){return Nf.allocUnsafe(t).fill(0)},t.setLengthLeft=function(e,r,n){void 0===n&&(n=!1);var i=t.zeros(r);return e=t.toBuffer(e),n?e.length<r?(e.copy(i),i):e.slice(0,r):e.length<r?(e.copy(i,r-e.length),i):e.slice(-r)},t.setLength=t.setLengthLeft,t.setLengthRight=function(e,r){return t.setLength(e,r,!0)},t.unpad=function(t){for(var r=(t=e.stripHexPrefix(t))[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t},t.stripZeros=t.unpad,t.toBuffer=function(t){if(!Nf.isBuffer(t))if(Array.isArray(t))t=Nf.from(t);else if("string"==typeof t){if(!e.isHexString(t))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+t);t=Nf.from(e.padToEven(e.stripHexPrefix(t)),"hex")}else if("number"==typeof t)t=e.intToBuffer(t);else if(null==t)t=Nf.allocUnsafe(0);else if(r.isBN(t))t=t.toArrayLike(Nf);else{if(!t.toArray)throw new Error("invalid type");t=Nf.from(t.toArray())}return t},t.bufferToInt=function(e){return new r(t.toBuffer(e)).toNumber()},t.bufferToHex=function(e){return"0x"+(e=t.toBuffer(e)).toString("hex")},t.fromSigned=function(t){return new r(t).fromTwos(256)},t.toUnsigned=function(t){return Nf.from(t.toTwos(256).toArray())},t.addHexPrefix=function(t){return"string"!=typeof t||e.isHexPrefixed(t)?t:"0x"+t},t.baToJSON=function(e){if(Nf.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var r=[],n=0;n<e.length;n++)r.push(t.baToJSON(e[n]));return r}}}(fq);var dq={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.rlphash=t.ripemd160=t.sha256=t.keccak256=t.keccak=void 0;var e=SO,r=e.keccak224,n=e.keccak384,i=e.keccak256,o=e.keccak512,s=_B,a=MB,u=cB,c=fq;t.keccak=function(t,e){switch(void 0===e&&(e=256),t="string"!=typeof t||a.isHexString(t)?c.toBuffer(t):Nf.from(t,"utf8"),e||(e=256),e){case 224:return r(t);case 256:return i(t);case 384:return n(t);case 512:return o(t);default:throw new Error("Invald algorithm: keccak"+e)}},t.keccak256=function(e){return t.keccak(e)},t.sha256=function(t){return t=c.toBuffer(t),s("sha256").update(t).digest()},t.ripemd160=function(t,e){t=c.toBuffer(t);var r=s("rmd160").update(t).digest();return!0===e?c.setLength(r,32):r},t.rlphash=function(e){return t.keccak(u.encode(e))}}(dq),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.importPublic=t.privateToPublic=t.privateToAddress=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.isPrecompiled=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isZeroAddress=t.isValidAddress=t.zeroAddress=void 0;var e=Mk.exports,r=MB,n=eq,i=pt.exports,o=fq,s=dq;t.zeroAddress=function(){var t=o.zeros(20);return o.bufferToHex(t)},t.isValidAddress=function(t){return/^0x[0-9a-fA-F]{40}$/.test(t)},t.isZeroAddress=function(e){return t.zeroAddress()===o.addHexPrefix(e)},t.toChecksumAddress=function(t,e){t=r.stripHexPrefix(t).toLowerCase();for(var n=void 0!==e?e.toString()+"0x":"",i=s.keccak(n+t).toString("hex"),o="0x",a=0;a<t.length;a++)parseInt(i[a],16)>=8?o+=t[a].toUpperCase():o+=t[a];return o},t.isValidChecksumAddress=function(e,r){return t.isValidAddress(e)&&t.toChecksumAddress(e,r)===e},t.generateAddress=function(t,e){t=o.toBuffer(t);var r=new i(e);return r.isZero()?s.rlphash([t,null]).slice(-20):s.rlphash([t,Nf.from(r.toArray())]).slice(-20)},t.generateAddress2=function(t,r,n){var i=o.toBuffer(t),a=o.toBuffer(r),u=o.toBuffer(n);return e(20===i.length),e(32===a.length),s.keccak256(Nf.concat([Nf.from("ff","hex"),i,a,s.keccak256(u)])).slice(-20)},t.isPrecompiled=function(t){var e=o.unpad(t);return 1===e.length&&e[0]>=1&&e[0]<=8},t.isValidPrivate=function(t){return n.privateKeyVerify(t)},t.isValidPublic=function(t,e){return void 0===e&&(e=!1),64===t.length?n.publicKeyVerify(Nf.concat([Nf.from([4]),t])):!!e&&n.publicKeyVerify(t)},t.pubToAddress=function(t,r){return void 0===r&&(r=!1),t=o.toBuffer(t),r&&64!==t.length&&(t=n.publicKeyConvert(t,!1).slice(1)),e(64===t.length),s.keccak(t).slice(-20)},t.publicToAddress=t.pubToAddress,t.privateToAddress=function(e){return t.publicToAddress(t.privateToPublic(e))},t.privateToPublic=function(t){return t=o.toBuffer(t),n.publicKeyCreate(t,!1).slice(1)},t.importPublic=function(t){return 64!==(t=o.toBuffer(t)).length&&(t=n.publicKeyConvert(t,!1).slice(1)),t}}(hq);var pq={};Object.defineProperty(pq,"__esModule",{value:!0}),pq.hashPersonalMessage=pq.isValidSignature=pq.fromRpcSig=pq.toRpcSig=pq.ecrecover=pq.ecsign=void 0;var mq=eq,gq=pt.exports,yq=fq,vq=dq;function _q(t,e){return e?t-(2*e+35):t-27}function bq(t){return 0===t||1===t}pq.ecsign=function(t,e,r){var n=mq.sign(t,e),i=n.recovery;return{r:n.signature.slice(0,32),s:n.signature.slice(32,64),v:r?i+(2*r+35):i+27}},pq.ecrecover=function(t,e,r,n,i){var o=Nf.concat([yq.setLength(r,32),yq.setLength(n,32)],64),s=_q(e,i);if(!bq(s))throw new Error("Invalid signature v value");var a=mq.recover(t,o,s);return mq.publicKeyConvert(a,!1).slice(1)},pq.toRpcSig=function(t,e,r,n){if(!bq(_q(t,n)))throw new Error("Invalid signature v value");return yq.bufferToHex(Nf.concat([yq.setLengthLeft(e,32),yq.setLengthLeft(r,32),yq.toBuffer(t)]))},pq.fromRpcSig=function(t){var e=yq.toBuffer(t);if(65!==e.length)throw new Error("Invalid signature length");var r=e[64];return r<27&&(r+=27),{v:r,r:e.slice(0,32),s:e.slice(32,64)}},pq.isValidSignature=function(t,e,r,n,i){void 0===n&&(n=!0);var o=new gq("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),s=new gq("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==e.length||32!==r.length)return!1;if(!bq(_q(t,i)))return!1;var a=new gq(e),u=new gq(r);return!(a.isZero()||a.gt(s)||u.isZero()||u.gt(s))&&(!n||1!==u.cmp(o))},pq.hashPersonalMessage=function(t){var e=Nf.from("Ethereum Signed Message:\n"+t.length.toString(),"utf-8");return vq.keccak(Nf.concat([e,t]))};var wq={};Object.defineProperty(wq,"__esModule",{value:!0}),wq.defineProperties=void 0;var Eq=Mk.exports,xq=MB,Sq=cB,Mq=fq;wq.defineProperties=function(t,e,r){if(t.raw=[],t._fields=[],t.toJSON=function(e){if(void 0===e&&(e=!1),e){var r={};return t._fields.forEach((function(e){r[e]="0x"+t[e].toString("hex")})),r}return Mq.baToJSON(t.raw)},t.serialize=function(){return Sq.encode(t.raw)},e.forEach((function(e,r){function n(){return t.raw[r]}function i(n){"00"!==(n=Mq.toBuffer(n)).toString("hex")||e.allowZero||(n=Nf.allocUnsafe(0)),e.allowLess&&e.length?(n=Mq.stripZeros(n),Eq(e.length>=n.length,"The field "+e.name+" must not have more "+e.length+" bytes")):e.allowZero&&0===n.length||!e.length||Eq(e.length===n.length,"The field "+e.name+" must have byte length of "+e.length),t.raw[r]=n}t._fields.push(e.name),Object.defineProperty(t,e.name,{enumerable:!0,configurable:!0,get:n,set:i}),e.default&&(t[e.name]=e.default),e.alias&&Object.defineProperty(t,e.alias,{enumerable:!1,configurable:!0,set:i,get:n})})),r)if("string"==typeof r&&(r=Nf.from(xq.stripHexPrefix(r),"hex")),Nf.isBuffer(r)&&(r=Sq.decode(r)),Array.isArray(r)){if(r.length>t._fields.length)throw new Error("wrong number of fields in data");r.forEach((function(e,r){t[t._fields[r]]=Mq.toBuffer(e)}))}else{if("object"!=typeof r)throw new Error("invalid data");var n=Object.keys(r);e.forEach((function(e){-1!==n.indexOf(e.name)&&(t[e.name]=r[e.name]),-1!==n.indexOf(e.alias)&&(t[e.alias]=r[e.alias])}))}},function(t){var e=ft&&ft.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),r=ft&&ft.__exportStar||function(t,r){for(var n in t)"default"===n||r.hasOwnProperty(n)||e(r,t,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.secp256k1=t.rlp=t.BN=void 0;var n=eq;t.secp256k1=n;var i=MB,o=pt.exports;t.BN=o;var s=cB;t.rlp=s,Object.assign(t,i),r(lq,t),r(hq,t),r(dq,t),r(pq,t),r(fq,t),r(wq,t)}(tq);const kq=tq,Aq=pt.exports;var Rq=function(){};function Tq(t){return t.startsWith("int[")?"int256"+t.slice(3):"int"===t?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):"uint"===t?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):"fixed"===t?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):"ufixed"===t?"ufixed128x128":t}function Oq(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Iq(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Cq(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?""===e[2]?"dynamic":parseInt(e[2],10):null}function Pq(t){var e=typeof t;if("string"===e)return kq.isHexPrefixed(t)?new Aq(kq.stripHexPrefix(t),16):new Aq(t,10);if("number"===e)return new Aq(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function Nq(t){var e=/^(\w+)\((.*)\)$/.exec(t);if(3!==e.length)throw new Error("Invalid method signature");var r=/^(.+)\):\((.+)$/.exec(e[2]);if(null!==r&&3===r.length)return{method:e[1],args:r[1].split(","),retargs:r[2].split(",")};var n=e[2].split(",");return 1===n.length&&""===n[0]&&(n=[]),{method:e[1],args:n}}function Lq(t,e){var r,n,i,o;if("address"===t)return Lq("uint160",Pq(e));if("bool"===t)return Lq("uint8",e?1:0);if("string"===t)return Lq("bytes",Nf.from(e,"utf8"));if(Dq(t)){if(void 0===e.length)throw new Error("Not an array?");if("dynamic"!==(r=Cq(t))&&0!==r&&e.length>r)throw new Error("Elements exceed array size: "+r);for(o in i=[],t=t.slice(0,t.lastIndexOf("[")),"string"==typeof e&&(e=JSON.parse(e)),e)i.push(Lq(t,e[o]));if("dynamic"===r){var s=Lq("uint256",e.length);i.unshift(s)}return Nf.concat(i)}if("bytes"===t)return e=Nf.from(e),i=Nf.concat([Lq("uint256",e.length),e]),e.length%32!=0&&(i=Nf.concat([i,kq.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if((r=Oq(t))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return kq.setLengthRight(e,32)}if(t.startsWith("uint")){if((r=Oq(t))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if((n=Pq(e)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Nf,"be",32)}if(t.startsWith("int")){if((r=Oq(t))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if((n=Pq(e)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Nf,"be",32)}if(t.startsWith("ufixed")){if(r=Iq(t),(n=Pq(e))<0)throw new Error("Supplied ufixed is negative");return Lq("uint256",n.mul(new Aq(2).pow(new Aq(r[1]))))}if(t.startsWith("fixed"))return r=Iq(t),Lq("int256",Pq(e).mul(new Aq(2).pow(new Aq(r[1]))));throw new Error("Unsupported or invalid type: "+t)}function Bq(t,e,r){var n,i,o,s;if("string"==typeof t&&(t=Uq(t)),"address"===t.name)return Bq(t.rawType,e,r).toArrayLike(Nf,"be",20).toString("hex");if("bool"===t.name)return Bq(t.rawType,e,r).toString()===new Aq(1).toString();if("string"===t.name){var a=Bq(t.rawType,e,r);return Nf.from(a,"utf8").toString()}if(t.isArray){for(o=[],n=t.size,"dynamic"===t.size&&(r=Bq("uint256",e,r).toNumber(),n=Bq("uint256",e,r).toNumber(),r+=32),s=0;s<n;s++){var u=Bq(t.subArray,e,r);o.push(u),r+=t.subArray.memoryUsage}return o}if("bytes"===t.name)return r=Bq("uint256",e,r).toNumber(),n=Bq("uint256",e,r).toNumber(),e.slice(r+32,r+32+n);if(t.name.startsWith("bytes"))return e.slice(r,r+t.size);if(t.name.startsWith("uint")){if((i=new Aq(e.slice(r,r+32),16,"be")).bitLength()>t.size)throw new Error("Decoded int exceeds width: "+t.size+" vs "+i.bitLength());return i}if(t.name.startsWith("int")){if((i=new Aq(e.slice(r,r+32),16,"be").fromTwos(256)).bitLength()>t.size)throw new Error("Decoded uint exceeds width: "+t.size+" vs "+i.bitLength());return i}if(t.name.startsWith("ufixed")){if(n=new Aq(2).pow(new Aq(t.size[1])),!(i=Bq("uint256",e,r)).mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}if(t.name.startsWith("fixed")){if(n=new Aq(2).pow(new Aq(t.size[1])),!(i=Bq("int256",e,r)).mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}throw new Error("Unsupported or invalid type: "+t.name)}function Uq(t){var e,r,n;if(Dq(t)){e=Cq(t);var i=t.slice(0,t.lastIndexOf("["));return i=Uq(i),r={isArray:!0,name:t,size:e,memoryUsage:"dynamic"===e?32:i.memoryUsage*e,subArray:i}}switch(t){case"address":n="uint160";break;case"bool":n="uint8";break;case"string":n="bytes"}if(r={rawType:n,name:t,memoryUsage:32},t.startsWith("bytes")&&"bytes"!==t||t.startsWith("uint")||t.startsWith("int")?r.size=Oq(t):(t.startsWith("ufixed")||t.startsWith("fixed"))&&(r.size=Iq(t)),t.startsWith("bytes")&&"bytes"!==t&&(r.size<1||r.size>32))throw new Error("Invalid bytes<N> width: "+r.size);if((t.startsWith("uint")||t.startsWith("int"))&&(r.size%8||r.size<8||r.size>256))throw new Error("Invalid int/uint<N> width: "+r.size);return r}function jq(t){return"string"===t||"bytes"===t||"dynamic"===Cq(t)}function Dq(t){return t.lastIndexOf("]")===t.length-1}function Fq(t,e){return t.startsWith("address")||t.startsWith("bytes")?"0x"+e.toString("hex"):e.toString()}function zq(t){return t>="0"&&t<="9"}Rq.eventID=function(t,e){var r=t+"("+e.map(Tq).join(",")+")";return kq.keccak256(Nf.from(r))},Rq.methodID=function(t,e){return Rq.eventID(t,e).slice(0,4)},Rq.rawEncode=function(t,e){var r=[],n=[],i=0;t.forEach((function(t){if(Dq(t)){var e=Cq(t);i+="dynamic"!==e?32*e:32}else i+=32}));for(var o=0;o<t.length;o++){var s=Tq(t[o]),a=Lq(s,e[o]);jq(s)?(r.push(Lq("uint256",i)),n.push(a),i+=a.length):r.push(a)}return Nf.concat(r.concat(n))},Rq.rawDecode=function(t,e){var r=[];e=Nf.from(e);for(var n=0,i=0;i<t.length;i++){var o=Uq(Tq(t[i])),s=Bq(o,e,n);n+=o.memoryUsage,r.push(s)}return r},Rq.simpleEncode=function(t){var e=Array.prototype.slice.call(arguments).slice(1),r=Nq(t);if(e.length!==r.args.length)throw new Error("Argument count mismatch");return Nf.concat([Rq.methodID(r.method,r.args),Rq.rawEncode(r.args,e)])},Rq.simpleDecode=function(t,e){var r=Nq(t);if(!r.retargs)throw new Error("No return values in method");return Rq.rawDecode(r.retargs,e)},Rq.stringify=function(t,e){var r=[];for(var n in t){var i=t[n],o=e[n];o=/^[^\[]+\[.*\]$/.test(i)?o.map((function(t){return Fq(i,t)})).join(", "):Fq(i,o),r.push(o)}return r},Rq.solidityHexValue=function(t,e,r){var n,i;if(Dq(t)){var o=t.replace(/\[.*?\]/,"");if(!Dq(o)){var s=Cq(t);if("dynamic"!==s&&0!==s&&e.length>s)throw new Error("Elements exceed array size: "+s)}var a=e.map((function(t){return Rq.solidityHexValue(o,t,256)}));return Nf.concat(a)}if("bytes"===t)return e;if("string"===t)return Nf.from(e,"utf8");if("bool"===t){r=r||8;var u=Array(r/4).join("0");return Nf.from(e?u+"1":u+"0","hex")}if("address"===t){var c=20;return r&&(c=r/8),kq.setLengthLeft(e,c)}if(t.startsWith("bytes")){if((n=Oq(t))<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return kq.setLengthRight(e,n)}if(t.startsWith("uint")){if((n=Oq(t))%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if((i=Pq(e)).bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toArrayLike(Nf,"be",r/8)}if(t.startsWith("int")){if((n=Oq(t))%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if((i=Pq(e)).bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toTwos(n).toArrayLike(Nf,"be",r/8)}throw new Error("Unsupported or invalid type: "+t)},Rq.solidityPack=function(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r=[],n=0;n<t.length;n++){var i=Tq(t[n]),o=e[n];r.push(Rq.solidityHexValue(i,o,null))}return Nf.concat(r)},Rq.soliditySHA3=function(t,e){return kq.keccak256(Rq.solidityPack(t,e))},Rq.soliditySHA256=function(t,e){return kq.sha256(Rq.solidityPack(t,e))},Rq.solidityRIPEMD160=function(t,e){return kq.ripemd160(Rq.solidityPack(t,e),!0)},Rq.fromSerpent=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if("s"===n)e.push("bytes");else if("b"===n){for(var i="bytes",o=r+1;o<t.length&&zq(t[o]);)i+=t[o]-"0",o++;r=o-1,e.push(i)}else if("i"===n)e.push("int256");else{if("a"!==n)throw new Error("Unsupported or invalid type: "+n);e.push("int256[]")}}return e},Rq.toSerpent=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if("bytes"===n)e.push("s");else if(n.startsWith("bytes"))e.push("b"+Oq(n));else if("int256"===n)e.push("i");else{if("int256[]"!==n)throw new Error("Unsupported or invalid type: "+n);e.push("a")}}return e.join("")};const qq=xO,Hq=Rq;var Wq={concatSig:function(t,e,r){const n=qq.fromSigned(e),i=qq.fromSigned(r),o=qq.bufferToInt(t),s=$q(qq.toUnsigned(n).toString("hex"),64),a=$q(qq.toUnsigned(i).toString("hex"),64),u=qq.stripHexPrefix(qq.intToHex(o));return qq.addHexPrefix(s.concat(a,u)).toString("hex")},normalize:function(t){if(t){if("number"==typeof t){const e=qq.toBuffer(t);t=qq.bufferToHex(e)}if("string"!=typeof t){var e="eth-sig-util.normalize() requires hex string or integer input.";throw new Error(e+=" received "+typeof t+": "+t)}return qq.addHexPrefix(t.toLowerCase())}},personalSign:function(t,e){var r=qq.toBuffer(e.data),n=qq.hashPersonalMessage(r),i=qq.ecsign(n,t);return qq.bufferToHex(this.concatSig(i.v,i.r,i.s))},recoverPersonalSignature:function(t){const e=Kq(t),r=qq.publicToAddress(e);return qq.bufferToHex(r)},extractPublicKey:function(t){return"0x"+Kq(t).toString("hex")},typedSignatureHash:function(t){const e=Gq(t);return qq.bufferToHex(e)},signTypedData:function(t,e){const r=Gq(e.data),n=qq.ecsign(r,t);return qq.bufferToHex(this.concatSig(n.v,n.r,n.s))},recoverTypedSignature:function(t){const e=Vq(Gq(t.data),t.sig),r=qq.publicToAddress(e);return qq.bufferToHex(r)}};function Gq(t){const e=new Error("Expect argument to be non-empty array");if("object"!=typeof t||!t.length)throw e;const r=t.map((function(t){return"bytes"===t.type?qq.toBuffer(t.value):t.value})),n=t.map((function(t){return t.type})),i=t.map((function(t){if(!t.name)throw e;return t.type+" "+t.name}));return Hq.soliditySHA3(["bytes32","bytes32"],[Hq.soliditySHA3(new Array(t.length).fill("string"),i),Hq.soliditySHA3(n,r)])}function Vq(t,e){const r=qq.toBuffer(e),n=qq.fromRpcSig(r);return qq.ecrecover(t,n.v,n.r,n.s)}function Kq(t){const e=qq.toBuffer(t.data);return Vq(qq.hashPersonalMessage(e),t.sig)}function $q(t,e){for(var r=""+t;r.length<e;)r="0"+r;return r}var Zq={exports:{}};!function(t,e){!function(e){var r=function(t){setTimeout(t,0)};void 0!==le&&le&&"function"==typeof le.nextTick&&(r=le.nextTick),t.exports=function(t){var e={capacity:t||1,current:0,queue:[],firstHere:!1,take:function(){if(!1===e.firstHere){e.current++,e.firstHere=!0;var t=1}else t=0;var r={n:1};"function"==typeof arguments[0]?r.task=arguments[0]:r.n=arguments[0],arguments.length>=2&&("function"==typeof arguments[1]?r.task=arguments[1]:r.n=arguments[1]);var n=r.task;if(r.task=function(){n(e.leave)},e.current+r.n-t>e.capacity)return 1===t&&(e.current--,e.firstHere=!1),e.queue.push(r);e.current+=r.n-t,r.task(e.leave),1===t&&(e.firstHere=!1)},leave:function(t){if(t=t||1,e.current-=t,e.queue.length){var n=e.queue[0];n.n+e.current>e.capacity||(e.queue.shift(),e.current+=n.n,r(n.task))}else if(e.current<0)throw new Error("leave called too many times.")},available:function(t){return t=t||1,e.current+t<=e.capacity}};return e}}()}(Zq);const Jq=xD;var Yq=function(t,e,r){t.sendAsync(Jq({method:"eth_estimateGas",params:[e]}),(function(t,e){if(t)return"no contract code at given address"===t.message?r(null,"0xcf08"):r(t);r(null,e.result)}))};const Xq=Yz.exports,Qq=Xz.exports,tH=Pm.inherits,eH=xO,rH=Wq,nH=AB,iH=Zq.exports,oH=Yq,sH=/^[0-9A-Fa-f]+$/g;var aH=uH;function uH(t){const e=this;e.nonceLock=iH(1),t.getAccounts&&(e.getAccounts=t.getAccounts),t.processTransaction&&(e.processTransaction=t.processTransaction),t.processMessage&&(e.processMessage=t.processMessage),t.processPersonalMessage&&(e.processPersonalMessage=t.processPersonalMessage),t.processTypedMessage&&(e.processTypedMessage=t.processTypedMessage),e.approveTransaction=t.approveTransaction||e.autoApprove,e.approveMessage=t.approveMessage||e.autoApprove,e.approvePersonalMessage=t.approvePersonalMessage||e.autoApprove,e.approveDecryptMessage=t.approveDecryptMessage||e.autoApprove,e.approveEncryptionPublicKey=t.approveEncryptionPublicKey||e.autoApprove,e.approveTypedMessage=t.approveTypedMessage||e.autoApprove,t.signTransaction&&(e.signTransaction=t.signTransaction||dH("signTransaction")),t.signMessage&&(e.signMessage=t.signMessage||dH("signMessage")),t.signPersonalMessage&&(e.signPersonalMessage=t.signPersonalMessage||dH("signPersonalMessage")),t.decryptMessage&&(e.decryptMessage=t.decryptMessage||dH("decryptMessage")),t.encryptionPublicKey&&(e.encryptionPublicKey=t.encryptionPublicKey||dH("encryptionPublicKey")),t.signTypedMessage&&(e.signTypedMessage=t.signTypedMessage||dH("signTypedMessage")),t.recoverPersonalSignature&&(e.recoverPersonalSignature=t.recoverPersonalSignature),t.publishTransaction&&(e.publishTransaction=t.publishTransaction),e.estimateGas=t.estimateGas||e.estimateGas,e.getGasPrice=t.getGasPrice||e.getGasPrice}function cH(t){return t.toLowerCase()}function lH(t){const e=eH.addHexPrefix(t);return eH.isValidAddress(e)}function hH(t){const e=eH.addHexPrefix(t);return!eH.isValidAddress(e)&&fH(t)}function fH(t){if(!("string"==typeof t))return!1;if(!("0x"===t.slice(0,2)))return!1;return t.slice(2).match(sH)}function dH(t){return function(e,r){r(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "'+t+'" fn in constructor options'))}}tH(uH,BD),uH.prototype.handleRequest=function(t,e,r){const n=this;let i,o,s,a,u;switch(n._parityRequests={},n._parityRequestCount=0,t.method){case"eth_coinbase":return void n.getAccounts((function(t,e){if(t)return r(t);let n=e[0]||null;r(null,n)}));case"eth_accounts":return void n.getAccounts((function(t,e){if(t)return r(t);r(null,e)}));case"eth_sendTransaction":return i=t.params[0],void Xq([t=>n.validateTransaction(i,t),t=>n.processTransaction(i,t)],r);case"eth_signTransaction":return i=t.params[0],void Xq([t=>n.validateTransaction(i,t),t=>n.processSignTransaction(i,t)],r);case"eth_sign":return u=t.params[0],a=t.params[1],s=t.params[2]||{},o=nH(s,{from:u,data:a}),void Xq([t=>n.validateMessage(o,t),t=>n.processMessage(o,t)],r);case"personal_sign":return function(){const e=t.params[0];if(hH(t.params[1])&&lH(e)){let e="The eth_personalSign method requires params ordered ";e+="[message, address]. This was previously handled incorrectly, ",e+="and has been corrected automatically. ",e+="Please switch this param order for smooth behavior in the future.",console.warn(e),u=t.params[0],a=t.params[1]}else a=t.params[0],u=t.params[1];s=t.params[2]||{},o=nH(s,{from:u,data:a}),Xq([t=>n.validatePersonalMessage(o,t),t=>n.processPersonalMessage(o,t)],r)}();case"eth_decryptMessage":return function(){const e=t.params[0];if(hH(t.params[1])&&lH(e)){let e="The eth_decryptMessage method requires params ordered ";e+="[message, address]. This was previously handled incorrectly, ",e+="and has been corrected automatically. ",e+="Please switch this param order for smooth behavior in the future.",console.warn(e),u=t.params[0],a=t.params[1]}else a=t.params[0],u=t.params[1];s=t.params[2]||{},o=nH(s,{from:u,data:a}),Xq([t=>n.validateDecryptMessage(o,t),t=>n.processDecryptMessage(o,t)],r)}();case"encryption_public_key":return function(){const e=t.params[0];Xq([t=>n.validateEncryptionPublicKey(e,t),t=>n.processEncryptionPublicKey(e,t)],r)}();case"personal_ecRecover":return function(){a=t.params[0];let e=t.params[1];s=t.params[2]||{},o=nH(s,{sig:e,data:a}),n.recoverPersonalSignature(o,r)}();case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":return function(){const e=t.params[0],i=t.params[1];lH(e)?(u=e,a=i):(a=e,u=i),s=t.params[2]||{},o=nH(s,{from:u,data:a}),Xq([t=>n.validateTypedMessage(o,t),t=>n.processTypedMessage(o,t)],r)}();case"parity_postTransaction":return i=t.params[0],void n.parityPostTransaction(i,r);case"parity_postSign":return u=t.params[0],a=t.params[1],void n.parityPostSign(u,a,r);case"parity_checkRequest":return function(){const e=t.params[0];n.parityCheckRequest(e,r)}();case"parity_defaultAccount":return void n.getAccounts((function(t,e){if(t)return r(t);const n=e[0]||null;r(null,n)}));default:return void e()}},uH.prototype.getAccounts=function(t){t(null,[])},uH.prototype.processTransaction=function(t,e){const r=this;Xq([e=>r.approveTransaction(t,e),(t,e)=>r.checkApproval("transaction",t,e),e=>r.finalizeAndSubmitTx(t,e)],e)},uH.prototype.processSignTransaction=function(t,e){const r=this;Xq([e=>r.approveTransaction(t,e),(t,e)=>r.checkApproval("transaction",t,e),e=>r.finalizeTx(t,e)],e)},uH.prototype.processMessage=function(t,e){const r=this;Xq([e=>r.approveMessage(t,e),(t,e)=>r.checkApproval("message",t,e),e=>r.signMessage(t,e)],e)},uH.prototype.processPersonalMessage=function(t,e){const r=this;Xq([e=>r.approvePersonalMessage(t,e),(t,e)=>r.checkApproval("message",t,e),e=>r.signPersonalMessage(t,e)],e)},uH.prototype.processDecryptMessage=function(t,e){const r=this;Xq([e=>r.approveDecryptMessage(t,e),(t,e)=>r.checkApproval("decryptMessage",t,e),e=>r.decryptMessage(t,e)],e)},uH.prototype.processEncryptionPublicKey=function(t,e){const r=this;Xq([e=>r.approveEncryptionPublicKey(t,e),(t,e)=>r.checkApproval("encryptionPublicKey",t,e),e=>r.encryptionPublicKey(t,e)],e)},uH.prototype.processTypedMessage=function(t,e){const r=this;Xq([e=>r.approveTypedMessage(t,e),(t,e)=>r.checkApproval("message",t,e),e=>r.signTypedMessage(t,e)],e)},uH.prototype.autoApprove=function(t,e){e(null,!0)},uH.prototype.checkApproval=function(t,e,r){r(e?null:new Error("User denied "+t+" signature."))},uH.prototype.parityPostTransaction=function(t,e){const r=this,n=`0x${r._parityRequestCount.toString(16)}`;r._parityRequestCount++,r.emitPayload({method:"eth_sendTransaction",params:[t]},(function(t,e){if(t)return void(r._parityRequests[n]={error:t});const i=e.result;r._parityRequests[n]=i})),e(null,n)},uH.prototype.parityPostSign=function(t,e,r){const n=this,i=`0x${n._parityRequestCount.toString(16)}`;n._parityRequestCount++,n.emitPayload({method:"eth_sign",params:[t,e]},(function(t,e){if(t)return void(n._parityRequests[i]={error:t});const r=e.result;n._parityRequests[i]=r})),r(null,i)},uH.prototype.parityCheckRequest=function(t,e){const r=this._parityRequests[t]||null;return r?r.error?e(r.error):void e(null,r):e(null,null)},uH.prototype.recoverPersonalSignature=function(t,e){let r;try{r=rH.recoverPersonalSignature(t)}catch(t){return e(t)}e(null,r)},uH.prototype.validateTransaction=function(t,e){if(void 0===t.from)return e(new Error("Undefined address - from address required to sign transaction."));this.validateSender(t.from,(function(r,n){return r?e(r):n?void e():e(new Error(`Unknown address - unable to sign transaction for this address: "${t.from}"`))}))},uH.prototype.validateMessage=function(t,e){if(void 0===t.from)return e(new Error("Undefined address - from address required to sign message."));this.validateSender(t.from,(function(r,n){return r?e(r):n?void e():e(new Error(`Unknown address - unable to sign message for this address: "${t.from}"`))}))},uH.prototype.validatePersonalMessage=function(t,e){return void 0===t.from?e(new Error("Undefined address - from address required to sign personal message.")):void 0===t.data?e(new Error("Undefined message - message required to sign personal message.")):fH(t.data)?void this.validateSender(t.from,(function(r,n){return r?e(r):n?void e():e(new Error(`Unknown address - unable to sign message for this address: "${t.from}"`))})):e(new Error("HookedWalletSubprovider - validateMessage - message was not encoded as hex."))},uH.prototype.validateDecryptMessage=function(t,e){return void 0===t.from?e(new Error("Undefined address - from address required to decrypt message.")):void 0===t.data?e(new Error("Undefined message - message required to decrypt message.")):fH(t.data)?void this.validateSender(t.from,(function(r,n){return r?e(r):n?void e():e(new Error(`Unknown address - unable to decrypt message for this address: "${t.from}"`))})):e(new Error("HookedWalletSubprovider - validateDecryptMessage - message was not encoded as hex."))},uH.prototype.validateEncryptionPublicKey=function(t,e){this.validateSender(t,(function(r,n){return r?e(r):n?void e():e(new Error(`Unknown address - unable to obtain encryption public key for this address: "${t}"`))}))},uH.prototype.validateTypedMessage=function(t,e){return void 0===t.from?e(new Error("Undefined address - from address required to sign typed data.")):void 0===t.data?e(new Error("Undefined data - message required to sign typed data.")):void this.validateSender(t.from,(function(r,n){return r?e(r):n?void e():e(new Error(`Unknown address - unable to sign message for this address: "${t.from}"`))}))},uH.prototype.validateSender=function(t,e){if(!t)return e(null,!1);this.getAccounts((function(r,n){if(r)return e(r);const i=-1!==n.map(cH).indexOf(t.toLowerCase());e(null,i)}))},uH.prototype.finalizeAndSubmitTx=function(t,e){const r=this;r.nonceLock.take((function(){Xq([r.fillInTxExtras.bind(r,t),r.signTransaction.bind(r),r.publishTransaction.bind(r)],(function(t,n){if(r.nonceLock.leave(),t)return e(t);e(null,n)}))}))},uH.prototype.finalizeTx=function(t,e){const r=this;r.nonceLock.take((function(){Xq([r.fillInTxExtras.bind(r,t),r.signTransaction.bind(r)],(function(n,i){if(r.nonceLock.leave(),n)return e(n);e(null,{raw:i,tx:t})}))}))},uH.prototype.publishTransaction=function(t,e){this.emitPayload({method:"eth_sendRawTransaction",params:[t]},(function(t,r){if(t)return e(t);e(null,r.result)}))},uH.prototype.estimateGas=function(t,e){oH(this.engine,t,e)},uH.prototype.getGasPrice=function(t){this.emitPayload({method:"eth_gasPrice",params:[]},(function(e,r){if(e)return t(e);t(null,r.result)}))},uH.prototype.fillInTxExtras=function(t,e){const r=this,n=t.from,i={};void 0===t.gasPrice&&(i.gasPrice=r.getGasPrice.bind(r)),void 0===t.nonce&&(i.nonce=r.emitPayload.bind(r,{method:"eth_getTransactionCount",params:[n,"pending"]})),void 0===t.gas&&(i.gas=r.estimateGas.bind(r,function(t){return{from:t.from,to:t.to,value:t.value,data:t.data,gas:t.gas,gasPrice:t.gasPrice,nonce:t.nonce}}(t))),Qq(i,(function(r,n){if(r)return e(r);const i={};n.gasPrice&&(i.gasPrice=n.gasPrice),n.nonce&&(i.nonce=n.nonce.result),n.gas&&(i.gas=n.gas),e(null,nH(t,i))}))};var pH=xO,mH={genesisGasLimit:{v:5e3,d:"Gas limit of the Genesis block."},genesisDifficulty:{v:17179869184,d:"Difficulty of the Genesis block."},genesisNonce:{v:"0x0000000000000042",d:"the geneis nonce"},genesisExtraData:{v:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",d:"extra data "},genesisHash:{v:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",d:"genesis hash"},genesisStateRoot:{v:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544",d:"the genesis state root"},minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be."},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations."},minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be."},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations."},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not."},maximumExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis."},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs."},stackLimit:{v:1024,d:"Maximum size of VM stack allowed."},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack."},tierStepGas:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them."},expGas:{v:10,d:"Once per EXP instuction."},expByteGas:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction."},sha3Gas:{v:30,d:"Once per SHA3 operation."},sha3WordGas:{v:6,d:"Once per word of the SHA3 operation's data."},sloadGas:{v:50,d:"Once per SLOAD operation."},sstoreSetGas:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero."},sstoreResetGas:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero."},sstoreRefundGas:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero."},jumpdestGas:{v:1,d:"Refunded gas, once per SSTORE operation if the zeroness changes to zero."},logGas:{v:375,d:"Per LOG* operation."},logDataGas:{v:8,d:"Per byte in a LOG* operation's data."},logTopicGas:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas."},createGas:{v:32e3,d:"Once per CREATE operation & contract-creation transaction."},callGas:{v:40,d:"Once per CALL operation & message call transaction."},callStipend:{v:2300,d:"Free gas given at beginning of call."},callValueTransferGas:{v:9e3,d:"Paid for CALL when the value transfor is non-zero."},callNewAccountGas:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior."},suicideRefundGas:{v:24e3,d:"Refunded following a suicide operation."},memoryGas:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL."},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation."},createDataGas:{v:200,d:""},txGas:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions."},txCreation:{v:32e3,d:"the cost of creating a contract via tx"},txDataZeroGas:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions."},txDataNonZeroGas:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions."},copyGas:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added."},ecrecoverGas:{v:3e3,d:""},sha256Gas:{v:60,d:""},sha256WordGas:{v:12,d:""},ripemd160Gas:{v:600,d:""},ripemd160WordGas:{v:120,d:""},identityGas:{v:15,d:""},identityWordGas:{v:3,d:""},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},ommerReward:{v:"625000000000000000",d:"The amount of wei a miner of an uncle block gets for being inculded in the blockchain"},niblingReward:{v:"156250000000000000",d:"the amount a miner gets for inculding a uncle"},homeSteadForkNumber:{v:115e4,d:"the block that the Homestead fork started at"},homesteadRepriceForkNumber:{v:2463e3,d:"the block that the Homestead Reprice (EIP150) fork started at"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},freeBlockPeriod:{v:2}},gH=pH.BN,yH=new gH("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),vH=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||{};var r=[{name:"nonce",length:32,allowLess:!0,default:new Nf([])},{name:"gasPrice",length:32,allowLess:!0,default:new Nf([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new Nf([])},{name:"to",allowZero:!0,length:20,default:new Nf([])},{name:"value",length:32,allowLess:!0,default:new Nf([])},{name:"data",alias:"input",allowZero:!0,default:new Nf([])},{name:"v",allowZero:!0,default:new Nf([28])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new Nf([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new Nf([])}];pH.defineProperties(this,r,e),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)});var n=pH.bufferToInt(this.v),i=Math.floor((n-35)/2);i<0&&(i=0),this._chainId=i||e.chainId||0,this._homestead=!0}return t.prototype.toCreationAddress=function(){return""===this.to.toString("hex")},t.prototype.hash=function(t){void 0===t&&(t=!0);var e=void 0;if(t)e=this.raw;else if(this._chainId>0){var r=this.raw.slice();this.v=this._chainId,this.r=0,this.s=0,e=this.raw,this.raw=r}else e=this.raw.slice(0,6);return pH.rlphash(e)},t.prototype.getChainId=function(){return this._chainId},t.prototype.getSenderAddress=function(){if(this._from)return this._from;var t=this.getSenderPublicKey();return this._from=pH.publicToAddress(t),this._from},t.prototype.getSenderPublicKey=function(){if(!(this._senderPubKey&&this._senderPubKey.length||this.verifySignature()))throw new Error("Invalid Signature");return this._senderPubKey},t.prototype.verifySignature=function(){var t=this.hash(!1);if(this._homestead&&1===new gH(this.s).cmp(yH))return!1;try{var e=pH.bufferToInt(this.v);this._chainId>0&&(e-=2*this._chainId+8),this._senderPubKey=pH.ecrecover(t,e,this.r,this.s)}catch(t){return!1}return!!this._senderPubKey},t.prototype.sign=function(t){var e=this.hash(!1),r=pH.ecsign(e,t);this._chainId>0&&(r.v+=2*this._chainId+8),Object.assign(this,r)},t.prototype.getDataFee=function(){for(var t=this.raw[5],e=new gH(0),r=0;r<t.length;r++)0===t[r]?e.iaddn(mH.txDataZeroGas.v):e.iaddn(mH.txDataNonZeroGas.v);return e},t.prototype.getBaseFee=function(){var t=this.getDataFee().iaddn(mH.txGas.v);return this._homestead&&this.toCreationAddress()&&t.iaddn(mH.txCreation.v),t},t.prototype.getUpfrontCost=function(){return new gH(this.gasLimit).imul(new gH(this.gasPrice)).iadd(new gH(this.value))},t.prototype.validate=function(t){var e=[];return this.verifySignature()||e.push("Invalid Signature"),this.getBaseFee().cmp(new gH(this.gasLimit))>0&&e.push(["gas limit is too low. Need at least "+this.getBaseFee()]),void 0===t||!1===t?0===e.length:e.join(" ")},t}(),_H=vH;const bH=Pm.inherits,wH=_H,EH=xO,xH=_D;var SH=MH;function MH(t){this.nonceCache={}}bH(MH,BD),MH.prototype.handleRequest=function(t,e,r){const n=this;switch(t.method){case"eth_getTransactionCount":var i=xH(t),o=t.params[0].toLowerCase(),s=n.nonceCache[o];return void("pending"===i?s?r(null,s):e((function(t,e,r){if(t)return r();void 0===n.nonceCache[o]&&(n.nonceCache[o]=e),r()})):e());case"eth_sendRawTransaction":return void e((function(e,r,i){if(e)return i();var o=t.params[0];EH.stripHexPrefix(o),Nf.from(EH.stripHexPrefix(o),"hex");var s=new wH(Nf.from(EH.stripHexPrefix(o),"hex")),a="0x"+s.getSenderAddress().toString("hex").toLowerCase(),u=EH.bufferToInt(s.nonce),c=(++u).toString(16);c.length%2&&(c="0"+c),c="0x"+c,n.nonceCache[a]=c,i()}));case"evm_revert":return n.nonceCache={},void e();default:return void e()}};const kH=wF.default,AH=oz,{createAsyncMiddleware:RH}=fF,TH=Wz,{unsafeRandomBytes:OH,incrementHexInt:IH}=hz,CH=Mz;var PH=function({blockTracker:t,provider:e}){const r={},n=TH({blockTracker:t,provider:e});let i=!1;const o=new kH,s=AH({eth_subscribe:RH((async function(o,s){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const u=o.params[0],c=OH(16);let l;switch(u){case"newHeads":l=h({subId:c});break;case"logs":const t=o.params[1];l=f({subId:c,filter:await n.newLogFilter(t)});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${u}"`)}return r[c]=l,void(s.result=c);function h({subId:r}){const n={type:u,destroy:async()=>{t.removeListener("sync",n.update)},update:async({oldBlock:t,newBlock:n})=>{const i=n,o=IH(t);(await CH({provider:e,fromBlock:o,toBlock:i})).map(NH).forEach((t=>{a(r,t)}))}};return t.on("sync",n.update),n}function f({subId:t,filter:e}){e.on("update",(e=>a(t,e)));return{type:u,destroy:async()=>await n.uninstallFilter(e.idHex)}}})),eth_unsubscribe:RH((async function(t,e){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const n=t.params[0],o=r[n];if(!o)return void(e.result=!1);delete r[n],await o.destroy(),e.result=!0}))});return s.destroy=u,{events:o,middleware:s};function a(t,e){o.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:t,result:e}})}function u(){o.removeAllListeners();for(const t in r)r[t].destroy(),delete r[t];i=!0}};function NH(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}const LH=DD,BH=PH;var UH=class extends LH{constructor(){super((({blockTracker:t,provider:e,engine:r})=>{const{events:n,middleware:i}=BH({blockTracker:t,provider:e});return n.on("notification",(t=>r.emit("data",null,t))),i}))}};Object.defineProperty(Ph,"__esModule",{value:!0});const jH=Nh,DH=(0,jH.__importDefault)(Lh),FH=(0,jH.__importDefault)(MT),zH=(0,jH.__importDefault)(kT),qH=Uh,HH=PD,WH=QD,GH=tF,VH=Jz,KH=aH,$H=SH,ZH=UH;var JH=Ph.default=class extends HH{constructor(t){if(super({pollingInterval:t.pollingInterval||8e3}),this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModal=FH.default,this.qrcodeModalOptions=void 0,this.rpc=null,this.infuraId="",this.http=null,this.isConnecting=!1,this.connected=!1,this.connectCallbacks=[],this.accounts=[],this.chainId=1,this.rpcUrl="",this.enable=()=>(0,jH.__awaiter)(this,void 0,void 0,(function*(){const t=yield this.getWalletConnector();if(t)return this.start(),this.subscribeWalletConnector(),t.accounts;throw new Error("Failed to connect to WalleConnect")})),this.request=t=>(0,jH.__awaiter)(this,void 0,void 0,(function*(){return this.send(t)})),this.send=(t,e)=>(0,jH.__awaiter)(this,void 0,void 0,(function*(){if("string"==typeof t){const r=t;let n=e;return"personal_sign"===r&&(n=(0,qH.parsePersonalSign)(n)),this.sendAsyncPromise(r,n)}if("personal_sign"===(t=Object.assign({id:(0,qH.payloadId)(),jsonrpc:"2.0"},t)).method&&(t.params=(0,qH.parsePersonalSign)(t.params)),!e)return this.sendAsyncPromise(t.method,t.params);this.sendAsync(t,e)})),this.onConnect=t=>{this.connectCallbacks.push(t)},this.triggerConnect=t=>{this.connectCallbacks&&this.connectCallbacks.length&&this.connectCallbacks.forEach((e=>e(t)))},this.bridge=t.connector?t.connector.bridge:t.bridge||"https://bridge.walletconnect.org",this.qrcode=void 0===t.qrcode||!1!==t.qrcode,this.qrcodeModal=t.qrcodeModal||this.qrcodeModal,this.qrcodeModalOptions=t.qrcodeModalOptions,this.wc=t.connector||new DH.default({bridge:this.bridge,qrcodeModal:this.qrcode?this.qrcodeModal:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:null==t?void 0:t.storageId,signingMethods:null==t?void 0:t.signingMethods,clientMeta:null==t?void 0:t.clientMeta}),this.rpc=t.rpc||null,!(this.rpc||t.infuraId&&"string"==typeof t.infuraId&&t.infuraId.trim()))throw new Error("Missing one of the required parameters: rpc or infuraId");this.infuraId=t.infuraId||"",this.chainId=(null==t?void 0:t.chainId)||this.chainId,this.initialize()}get isWalletConnect(){return!0}get connector(){return this.wc}get walletMeta(){return this.wc.peerMeta}disconnect(){return(0,jH.__awaiter)(this,void 0,void 0,(function*(){this.close()}))}close(){return(0,jH.__awaiter)(this,void 0,void 0,(function*(){const t=yield this.getWalletConnector({disableSessionCreation:!0});yield t.killSession(),yield this.onDisconnect()}))}handleRequest(t){return(0,jH.__awaiter)(this,void 0,void 0,(function*(){try{let e,r=null;const n=yield this.getWalletConnector();switch(t.method){case"wc_killSession":yield this.close(),r=null;break;case"eth_accounts":r=n.accounts;break;case"eth_coinbase":r=n.accounts[0];break;case"eth_chainId":case"net_version":r=n.chainId;break;case"eth_uninstallFilter":this.sendAsync(t,(t=>t)),r=!0;break;default:e=yield this.handleOtherRequests(t)}return e||this.formatResponse(t,r)}catch(t){throw this.emit("error",t),t}}))}handleOtherRequests(t){return(0,jH.__awaiter)(this,void 0,void 0,(function*(){if(!qH.signingMethods.includes(t.method)&&t.method.startsWith("eth_"))return this.handleReadRequests(t);const e=yield this.getWalletConnector(),r=yield e.sendCustomRequest(t);return this.formatResponse(t,r)}))}handleReadRequests(t){return(0,jH.__awaiter)(this,void 0,void 0,(function*(){if(!this.http){const t=new Error("HTTP Connection not available");throw this.emit("error",t),t}return this.http.send(t)}))}formatResponse(t,e){return{id:t.id,jsonrpc:t.jsonrpc,result:e}}getWalletConnector(t={}){const{disableSessionCreation:e=!1}=t;return new Promise(((t,r)=>{const n=this.wc;this.isConnecting?this.onConnect((e=>t(e))):n.connected||e?(this.connected||(this.connected=!0,this.updateState(n.session)),t(n)):(this.isConnecting=!0,n.on("modal_closed",(()=>{r(new Error("User closed modal"))})),n.createSession({chainId:this.chainId}).then((()=>{n.on("connect",((e,i)=>{if(e)return this.isConnecting=!1,r(e);this.isConnecting=!1,this.connected=!0,i&&this.updateState(i.params[0]),this.emit("connect"),this.triggerConnect(n),t(n)}))})).catch((t=>{this.isConnecting=!1,r(t)})))}))}subscribeWalletConnector(){return(0,jH.__awaiter)(this,void 0,void 0,(function*(){const t=yield this.getWalletConnector();t.on("disconnect",(t=>{t?this.emit("error",t):this.onDisconnect()})),t.on("session_update",((t,e)=>{t?this.emit("error",t):this.updateState(e.params[0])}))}))}onDisconnect(){return(0,jH.__awaiter)(this,void 0,void 0,(function*(){yield this.stop(),this.emit("close",1e3,"Connection closed"),this.emit("disconnect",1e3,"Connection disconnected"),this.connected=!1}))}updateState(t){return(0,jH.__awaiter)(this,void 0,void 0,(function*(){const{accounts:e,chainId:r,networkId:n,rpcUrl:i}=t;(!this.accounts||e&&this.accounts!==e)&&(this.accounts=e,this.emit("accountsChanged",e)),(!this.chainId||r&&this.chainId!==r)&&(this.chainId=r,this.emit("chainChanged",r)),(!this.networkId||n&&this.networkId!==n)&&(this.networkId=n,this.emit("networkChanged",n)),this.updateRpcUrl(this.chainId,i||"")}))}updateRpcUrl(t,e=""){const r={infuraId:this.infuraId,custom:this.rpc||void 0};(e=e||(0,qH.getRpcUrl)(t,r))?(this.rpcUrl=e,this.updateHttpConnection()):this.emit("error",new Error(`No RPC Url available for chainId: ${t}`))}updateHttpConnection(){this.rpcUrl&&(this.http=new zH.default(this.rpcUrl),this.http.on("payload",(t=>this.emit("payload",t))),this.http.on("error",(t=>this.emit("error",t))))}sendAsyncPromise(t,e){return new Promise(((r,n)=>{this.sendAsync({id:(0,qH.payloadId)(),jsonrpc:"2.0",method:t,params:e||[]},((t,e)=>{t?n(t):r(e.result)}))}))}initialize(){this.updateRpcUrl(this.chainId),this.addProvider(new GH({eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!0,net_listening:!0,web3_clientVersion:"WalletConnect/v1.x.x/javascript"})),this.addProvider(new WH),this.addProvider(new ZH),this.addProvider(new VH),this.addProvider(new $H),this.addProvider(new KH(this.configWallet())),this.addProvider({handleRequest:(t,e,r)=>(0,jH.__awaiter)(this,void 0,void 0,(function*(){try{const{error:e,result:n}=yield this.handleRequest(t);r(e,n)}catch(t){r(t)}})),setEngine:t=>t})}configWallet(){return{getAccounts:t=>(0,jH.__awaiter)(this,void 0,void 0,(function*(){try{const e=(yield this.getWalletConnector()).accounts;e&&e.length?t(null,e):t(new Error("Failed to get accounts"))}catch(e){t(e)}})),processMessage:(t,e)=>(0,jH.__awaiter)(this,void 0,void 0,(function*(){try{const r=yield this.getWalletConnector(),n=yield r.signMessage([t.from,t.data]);e(null,n)}catch(t){e(t)}})),processPersonalMessage:(t,e)=>(0,jH.__awaiter)(this,void 0,void 0,(function*(){try{const r=yield this.getWalletConnector(),n=yield r.signPersonalMessage([t.data,t.from]);e(null,n)}catch(t){e(t)}})),processSignTransaction:(t,e)=>(0,jH.__awaiter)(this,void 0,void 0,(function*(){try{const r=yield this.getWalletConnector(),n=yield r.signTransaction(t);e(null,n)}catch(t){e(t)}})),processTransaction:(t,e)=>(0,jH.__awaiter)(this,void 0,void 0,(function*(){try{const r=yield this.getWalletConnector(),n=yield r.sendTransaction(t);e(null,n)}catch(t){e(t)}})),processTypedMessage:(t,e)=>(0,jH.__awaiter)(this,void 0,void 0,(function*(){try{const r=yield this.getWalletConnector(),n=yield r.signTypedData([t.from,t.data]);e(null,n)}catch(t){e(t)}}))}}},YH=Object.freeze(t({__proto__:null,default:JH},[Ph]));return function(t){if(t.debug&&console.log("Initiazlizing SleekCheckout with options: ",t),isNaN(Number(t.amount))||Number(t.amount)<0)throw new Error("Amount must be a positive number");if(!t.recipientAddress||!Ae(t.recipientAddress)||t.recipientAddress===Te)throw new Error("Recipient must be a valid address");const e=window.document.body.appendChild(window.document.createElement("section"));e.setAttribute("id","SleekCheckout");const r={amount:t.amount,recipientAddress:t.recipientAddress,onError:t.onError,onSuccess:t.onSuccess,onClose:(...r)=>{Ch.unuse(),e.remove(),t.onClose&&t.onClose(...r)}},n=e.attachShadow({mode:"closed"}),i=document.createElement("html"),o=document.createElement("body");i.setAttribute("id","shadow-html"),o.setAttribute("id","shadow-body"),i.appendChild(o);const s=n.appendChild(i);Ch.use({target:i}),N(d(Ih,Object.assign(Object.assign({},r),{root:s})),o)}}();
